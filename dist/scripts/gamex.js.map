{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/grafx/index.js","node_modules/lsl-animatex/index.js","node_modules/lsl-animatex/src/animation-job.js","node_modules/lsl-animatex/src/animator.js","node_modules/lsl-animatex/src/frame-latency-profiler.js","node_modules/lsl-animatex/src/index.js","node_modules/lsl-animatex/src/persistent-animation-job.js","node_modules/lsl-animatex/src/transient-animation-job.js","node_modules/lsl-animatex/src/util.js","src/index.js","src/src/collidable-physics-model-controller.js","src/src/config-controller.js","src/src/game-controller.js","src/src/game-scene.js","src/src/input-controller.js","src/src/physics-model-controller.js","src/src/spring-follow-camera.js","src/wall/index.js","src/wall/src/wall-collidable.js","src/wall/src/wall-controller.js"],"names":[],"mappings":"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","file":"gamex.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports = {}; // FIXME: Point this to dist\n","export * from './src';\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","export * from './animation-job';\nexport * from './animator';\nexport * from './frame-latency-profiler';\nexport * from './persistent-animation-job';\nexport * from './transient-animation-job';\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from 'lsl-animatex';\nexport * from 'grafx';\nexport * from 'lsl-physx';\n\nexport * from './src/collidable-physics-model-controller';\nexport * from './src/config-controller';\nexport * from './src/game-controller';\nexport * from './src/game-scene';\nexport * from './src/input-controller';\nexport * from './src/physics-model-controller';\nexport * from './src/spring-follow-camera';\n\nexport * from './wall';\n","import {PhysicsModelController} from './physics-model-controller';\nimport {CollidablePhysicsJob, PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a collidable physics-based model-controller.\n *\n * @abstract\n */\nclass CollidablePhysicsModelController extends PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {CollidablePhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} forceAppliers\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    super(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers);\n\n    if (physicsJobOrDynamicsParams instanceof CollidablePhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new CollidablePhysicsJob(shapeParams, state, forceAppliers, this,\n          collision => this.handleCollision(collision));\n    }\n\n    // CollidablePhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === CollidablePhysicsModelController) {\n      throw new TypeError('Cannot construct CollidablePhysicsModelController instances directly');\n    }\n  }\n\n  /**\n   * This callback is triggered in response to a collision.\n   *\n   * @param {Collision} collision\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\n   * @abstract\n   */\n  handleCollision(collision) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {CollidablePhysicsModelController};\n\n/**\n * @typedef {RenderableShapeConfig&CollidableShapeConfig} RenderableAndCollidableShapeConfig\n */\n","import {\n  createHslColorString,\n  debounce,\n  find,\n  getViewportSize,\n  hslToHsv,\n  hsvToHsl,\n  hslToRgb,\n  isInt,\n} from 'grafx';\n\nconst _SMALL_SCREEN_WIDTH_THRESHOLD = 800;\n\n/**\n * This top-level ConfigController class wraps the dat.GUI library and provides higher-level\n * configuration functionality.\n *\n * ## Configuring Parameters\n *\n * Consumers of this module will need to specify configuration parameters with a certain form. For\n * each property on a config object, an item will be created in the corresponding dat.GUI folder.\n * The type and specifics of the menu item depends on the value assigned to the config property:\n *\n * - Toggle item:\n *   - Created if the config property is a boolean.\n * - Trigger item:\n *   - Created if the config property is a function.\n * - Slider item:\n *   - Created if the config property is an object with 'min', 'max', and 'start' properties.\n *   - When the config object is parsed, this initial config object will be removed and replaced\n *     with only the current actual value.\n *   - The intervals of the slider are automatically determined by the dat.GUI library and depend on\n *     the type of the 'min'/'max'/'value' properties (int vs float). See the dat.GUI documentation\n *     for more info.\n * - Color item:\n *   - Created if the config property is an object with 'h'/'s'/'l' properties.\n *   - When the config object is parsed, this initial config object will be replaced with a new\n *     object that has 'h'/'s'/'v' properties and an 'hsl' property, which is an object containing\n *     'h'/'s'/'l' properties and a 'colorString' property that contains a valid color string to\n *     assign to a CSS property.\n *   - All 'h'/'s'/'l' and 'h'/'s'/'v' values should be in the range of [0,1].\n * - Text item:\n *   - Created if the config property is a String.\n */\nclass ConfigController {\n  constructor() {\n    this._datGuiWidth = 300;\n    this._gui = null;\n  }\n\n  /**\n   * Sets up the dat.GUI controller.\n   */\n  initialize() {\n    // Create the dat.GUI menu.\n    this._createGuiIfNotCreated(true);\n    this._gui.width = this._datGuiWidth;\n\n    // Automatically close the menu on smaller screens.\n    // TODO: Check that the menu is closed initially (with no resize event) if the page loads at too small a width.\n    const debouncedResize = debounce(() => this._onResize(), 300);\n    window.addEventListener('resize', debouncedResize, false);\n  }\n\n  /**\n   * Clears the dat.GUI menu.\n   */\n  destroy() {\n    this._gui.destroy();\n  }\n\n  /**\n   * @param {boolean} isGuiVisible\n   * @private\n   */\n  _createGuiIfNotCreated(isGuiVisible) {\n    if (this._gui) {\n      if (isGuiVisible) {\n        this._gui.domElement.style.display = 'block';\n      }\n    } else {\n      this._gui = new dat.GUI();\n      if (!isGuiVisible) {\n        this._gui.domElement.style.display = 'none';\n      }\n    }\n  }\n\n  /**\n   * Creates a folder with the given configuration underneath the given parent folder.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @param {dat.gui.GUI} [parentFolder] If not given, the folder is created at the top level.\n   * @param {Object} [onChangeListeners] A map from labels to on-change handlers.\n   */\n  createFolder(folderConfig, parentFolder, onChangeListeners) {\n    this._createGuiIfNotCreated(false);\n\n    parentFolder = parentFolder || this._gui;\n\n    // TODO: Copy the original config and store it somehow on the dat.GUI menu item? This is important for resetting configs later (from the other controller).\n    const folder = parentFolder.addFolder(folderConfig.label);\n\n    folderConfig.folder = folder;\n\n    this._createItems(folderConfig);\n\n    // Add listeners from the config file.\n    this._addOnChangeListeners(folderConfig, folderConfig.onChangeListeners, true);\n\n    // Add listeners from the caller of this method.\n    this._addOnChangeListeners(folderConfig, onChangeListeners, false);\n\n    if (folderConfig.isOpen) {\n      folder.open();\n    }\n\n    // Recursively create descendant folders.\n    if (folderConfig.childFolders) {\n      this.createFolders(folderConfig.childFolders, folder);\n    }\n  }\n\n  /**\n   * @param {Array.<MenuFolderConfig>} folderConfigs\n   * @param {dat.gui.GUI} parentFolder\n   */\n  createFolders(folderConfigs, parentFolder) {\n    folderConfigs.forEach(folderConfig => this.createFolder(folderConfig, parentFolder));\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {string} label\n   * @param {Function} callback\n   */\n  addOnChangeListener(folderConfig, label, callback) {\n    if (folderConfig.items[label]) {\n      folderConfig.items[label].onChangeListeners.push(callback);\n    } else {\n      console.warn('Attempting to add on-change listener for a non-existent config', label,\n          folderConfig);\n    }\n  }\n\n  hideMenu() {\n    console.info('Hide Menu clicked');\n    document.querySelector('body > .dg').style.display = 'none';\n  }\n\n  /**\n   * NOTE: This is not idempotent. This modifies the original folderConfig.config object.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @private\n   */\n  _createItems(folderConfig) {\n    folderConfig.items = {};\n\n    Object.keys(folderConfig.config).forEach((itemConfigKey) => {\n      // Do not expose internal configurations to the user.\n      if (itemConfigKey.substr(0, 1) === '_') return;\n\n      const itemConfig = folderConfig.config[itemConfigKey];\n\n      // Determine which method to use to create the menu item.\n      const pair = find([\n        [ConfigController.isToggleItem, ConfigController._createToggleItem],\n        [ConfigController.isTriggerItem, ConfigController._createTriggerItem],\n        [ConfigController.isSliderItem, ConfigController._createSliderItem],\n        [ConfigController.isNumberItem, ConfigController._createNumberItem],\n        [ConfigController.isHslColorItem, ConfigController._createHslColorItem],\n        [ConfigController.isTextItem, ConfigController._createTextItem],\n        [ConfigController.isStringSelectorItem, ConfigController._createStringSelectorItem],\n        [ConfigController.isVec3NumberItem, ConfigController._createVec3NumberItems],\n        [ConfigController.isVec3SliderItem, ConfigController._createVec3SliderItems],\n      ], (pair) => pair[0](itemConfig));\n      if (!pair) {\n        console.warn('Unrecognized config type', itemConfig);\n        return;\n      }\n      const menuItemCreator = pair[1];\n\n      // Create the actual dat.GUI menu item and save a reference to it.\n      const menuItemData = menuItemCreator.call(this, folderConfig.config,\n          itemConfigKey, itemConfig, folderConfig.folder);\n      if (menuItemData instanceof Array) {\n        const parentMenuItemData = {onChangeListeners: []};\n\n        // Record the individual sub-items.\n        menuItemData.forEach(data => {\n          folderConfig.items[data.label] = data;\n\n          // Hook up the (parent item's) onChange listeners.\n          data.menuItem.onChange(() => {\n            data.onChangeListeners.forEach(callback => callback());\n            parentMenuItemData.onChangeListeners.forEach(callback => callback());\n          });\n        });\n\n        // Record the parent item.\n        folderConfig.items[itemConfigKey] = parentMenuItemData;\n      } else {\n        folderConfig.items[itemConfigKey] = menuItemData;\n\n        // Hook up the onChange listeners.\n        menuItemData.menuItem.onChange(() =>\n            menuItemData.onChangeListeners.forEach(callback => callback()));\n      }\n    });\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {Object} onChangeListeners A map from labels to on-change event handlers.\n   * @param {boolean} makeInitialCallToListeners\n   * @private\n   */\n  _addOnChangeListeners(folderConfig, onChangeListeners, makeInitialCallToListeners) {\n    if (onChangeListeners) {\n      Object.keys(onChangeListeners).forEach(key => {\n        const onChangeHandler = onChangeListeners[key];\n        configController.addOnChangeListener(folderConfig, key, onChangeHandler);\n        if (makeInitialCallToListeners) {\n          onChangeHandler();\n        }\n      });\n    }\n  }\n\n  /**\n   * Close the menu on smaller screens.\n   */\n  _onResize() {\n    setTimeout(() => {\n      if (getViewportSize() < _SMALL_SCREEN_WIDTH_THRESHOLD) {\n        this._gui.close();\n      }\n    }, 10);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {ToggleMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createToggleItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TriggerMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTriggerItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createSliderItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const listeners = isInt(itemConfig.min) && isInt(itemConfig.max)\n        ? [ConfigController._truncateToInt.bind(null, configObject, label)]\n        : [];\n\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.min, itemConfig.max),\n      onChangeListeners: listeners\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createNumberItem(configObject, label, itemConfig, folder) {\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * This is used to force int sliders to only produce ints.\n   *\n   * This shouldn't be needed, but dat.GUI doesn't seem to be behaving consistently.\n   *\n   * @param configObject\n   * @param label\n   * @private\n   */\n  static _truncateToInt(configObject, label) {\n    configObject[label] = parseInt(configObject[label]);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {HslColorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createHslColorItem(configObject, label, itemConfig, folder) {\n    // Create the property that the menu item will use.\n    itemConfig = hslToHsv(itemConfig);\n    configObject[label] = itemConfig;\n\n    // Set up a listener that will keep derived HSL values in sync with the native HSV values used\n    // by the dat.GUI menu item.\n    const calculateHslValues = () => {\n      const hsl = hsvToHsl(configObject[label]);\n      const rgb = hslToRgb(hsl);\n      itemConfig.hsl = hsl;\n      itemConfig.rgb = rgb;\n      itemConfig.rgbVec = vec3.fromValues(rgb.r, rgb.g, rgb.b);\n      itemConfig.hsl.colorString = createHslColorString(hsl);\n    };\n    calculateHslValues();\n\n    // Create the menu item.\n    return {\n      menuItem: folder.addColor(configObject, label),\n      onChangeListeners: [calculateHslValues]\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TextMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTextItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3NumberItems(configObject, label, itemConfig, folder) {\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(itemConfig, configObject[xLabel], configObject[yLabel],\n        configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = itemConfig[index];\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3SliderItems(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(configObject[label], configObject[xLabel],\n        configObject[yLabel], configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n      const start = itemConfig.start[index];\n      const min = itemConfig.min[index];\n      const max = itemConfig.max[index];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = start;\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label, min, max),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {StringSelectorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createStringSelectorItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.options),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isToggleItem(itemConfig) {\n    return typeof itemConfig === 'boolean';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTriggerItem(itemConfig) {\n    return typeof itemConfig === 'function';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isSliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'number' &&\n        typeof itemConfig.min === 'number' &&\n        typeof itemConfig.max === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isNumberItem(itemConfig) {\n    return typeof itemConfig === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isHslColorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.h === 'number' &&\n        typeof itemConfig.s === 'number' &&\n        typeof itemConfig.l === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTextItem(itemConfig) {\n    return typeof itemConfig === 'string';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isStringSelectorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'string' &&\n        itemConfig.options instanceof Array;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3NumberItem(itemConfig) {\n    return (itemConfig instanceof Float32Array || itemConfig instanceof Array) &&\n        itemConfig.length === 3;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3SliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        ConfigController.isVec3NumberItem(itemConfig.start) &&\n        ConfigController.isVec3NumberItem(itemConfig.min) &&\n        ConfigController.isVec3NumberItem(itemConfig.max);\n  }\n}\n\nconst configController = new ConfigController();\n\nexport {configController};\n\n/**\n * @typedef {Object} MenuItemData\n * @property {dat.gui.controller} menuItem The actual dat.GUI menu item.\n * @property {Array.<Function>} onChangeListeners onChange listeners for the menu item.\n * @property {string} [label] The label used for the menu item.\n */\n\n/**\n * @typedef {Object} MenuFolderConfig\n * @property {string} label\n * @property {Object} config A map from labels to MenuItemConfigs. Any config item whose label\n * starts with '_' will be treated as internal and will not be exposed to the user.\n * @property {boolean} [isOpen=false]\n * @property {Object} [onChangeListeners] A map from labels to on-change event handlers.\n * @property {Array.<MenuFolderConfig>} [childFolders]\n * @property {Object} [items] A map from labels to MenuItemDatas.\n * @property {dat.gui.GUI} [folder] Created and added by the ConfigController after registering the\n * folder.\n */\n\n/**\n * @typedef {ToggleMenuItemConfig|TriggerMenuItemConfig|SliderMenuItemConfig|NumberMenuItemConfig|HslColorMenuItemConfig|TextMenuItemConfig|StringSelectorMenuItemConfig|Vec3NumberMenuItemConfig|Vec3SliderMenuItemConfig} MenuItemConfig\n */\n\n/**\n * @typedef {boolean} ToggleMenuItemConfig\n */\n\n/**\n * @typedef {Function} TriggerMenuItemConfig\n */\n\n/**\n * @typedef {Object} SliderMenuItemConfig\n * @property {number} start\n * @property {number} min\n * @property {number} max\n */\n\n/**\n * @typedef {number} NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} HslColorMenuItemConfig\n * @property {number} h A value from 0 to 1.\n * @property {number} s A value from 0 to 1.\n * @property {number} l A value from 0 to 1.\n */\n\n/**\n * @typedef {string} TextMenuItemConfig\n */\n\n/**\n * @typedef {Object} StringSelectorMenuItemConfig\n * @property {string} start\n * @property {Array.<String>} options\n */\n\n/**\n * @typedef {vec3} Vec3NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} Vec3SliderMenuItemConfig\n * @property {vec3} start\n * @property {vec3} min\n * @property {vec3} max\n */\n","import { animator } from 'lsl-animatex';\nimport {\n  GrafxController,\n  handlePageFocusChange,\n}\nfrom 'grafx';\nimport { configController } from './config-controller';\nimport { InputController } from './input-controller';\n\n/**\n * This top-level Controller class initializes and runs the rest of the app.\n */\nclass GameController extends GrafxController {\n  constructor() {\n    super();\n\n    this.isGameOver = true;\n    this._inputCtrl = null;\n  }\n\n  /**\n   * Initializes the app. After this completes successfully, call run to actually start the app.\n   *\n   * @param {HTMLCanvasElement} canvas\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\n   * should be pre-cached before starting the rest of the app.\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\n   * starting the rest of the app.\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   */\n  initialize(canvas, programConfigs, texturePaths, SceneImpl) {\n    this._canvas = canvas;\n\n    configController.initialize();\n    this._setUpInput();\n\n    return super.initialize(canvas, programConfigs, texturePaths, SceneImpl);\n  }\n\n  destroy() {\n    this._inputCtrl.destroy();\n  }\n\n  /**\n   * Runs the app. This should be called after initialize.\n   *\n   * A few things happen if this is run in dev mode:\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\n   *   step and resolves when this controller has finished (currently never)\n   */\n  run() {\n    handlePageFocusChange(hasFocus => this._onPageFocusChange(hasFocus));\n    super.run();\n  }\n\n  pause() {\n    animator.pause();\n  }\n\n  unpause() {\n    animator.unpause();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused() {\n    return animator.isPaused;\n  }\n\n  /**\n   * @param {boolean} hasFocus\n   * @private\n   */\n  _onPageFocusChange(hasFocus) {\n    if (!hasFocus) {\n      this.pause();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _setUpInput() {\n    this._inputCtrl = new InputController();\n    this._inputCtrl.preventDefaultBrowserBehaviorForKey('SPACE');\n  }\n\n  /**\n   * Initializes the scene.\n   *\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   * @protected\n   */\n  _setUpScene(SceneImpl) {\n    this._scene = new SceneImpl({\n      gl: this._gl,\n      getViewMatrix: () => this._getViewMatrix(),\n      getProjectionMatrix: () => this._getProjectionMatrix(),\n    }, this, this._inputCtrl);\n    return this._scene.getIsReady().then(() => {\n      this._scene.reset();\n      this._updateAspectRatio(); // TODO: This should NOT happen here or using the glUtil globals.\n    });\n  }\n}\n\nexport { GameController };\n","import { Scene } from 'grafx';\nimport { Aabb } from 'lsl-physx';\n\n/**\n * This class handles the overall scene.\n *\n * @abstract\n */\nclass GameScene extends Scene {\n  /**\n   * @param {ModelGroupControllerConfig} modelControllerParams\n   * @param {GameController} gameCtrl\n   * @param {InputController} inputCtrl\n   * @param {number} renderDistance\n   */\n  constructor(modelControllerParams, gameCtrl, inputCtrl, renderDistance) {\n    super(modelControllerParams);\n\n    // GameScene is an abstract class. It should not be instantiated directly.\n    if (new.target === GameScene) {\n      throw new TypeError('Cannot construct GameScene instances directly');\n    }\n\n    this._gameCtrl = gameCtrl;\n    this._inputCtrl = inputCtrl;\n    this._renderDistance = renderDistance;\n    this._bounds = Aabb.createAsUniformAroundCenter(\n      vec3.fromValues(0, 0, 0), this._renderDistance);\n  }\n\n  reset() {\n    this.centerOfVolume = vec3.fromValues(0, 0, 0);\n    super.reset();\n  }\n\n  /** @returns {Aabb} */\n  get bounds() {\n    return this._bounds;\n  }\n  /** @returns {vec3} */\n  get centerOfVolume() {\n    return this._bounds.centerOfVolume;\n  }\n  /** @param {vec3} value */\n  set centerOfVolume(value) {\n    this._bounds.setAsUniformAroundCenter(value, this._renderDistance);\n  }\n}\n\nexport { GameScene };\n","import {keyCodes} from 'grafx';\n\n// TODO: Figure out how to capture: tab, space, escape, enter; prevent their default behaviors when\n// listeners have been registered for them.\n\n/**\n * This class handles user input.\n */\nclass InputController {\n  constructor() {\n    this._keyDownListeners = {};\n    this._keyUpListeners = {};\n    this._currentlyPressedKeys = {};\n    this._keysToPreventDefaultBrowserBehaviorFor = {};\n\n    this._mainKeyDownListener = event => this._handleKeyDown(event);\n    this._mainKeyUpListener = event => this._handleKeyUp(event);\n    this._mainKeyPressListener = event => this._handleKeyPress(event);\n\n    window.addEventListener('keydown', this._mainKeyDownListener, false);\n    window.addEventListener('keyup', this._mainKeyUpListener, false);\n    window.addEventListener('keypress', this._mainKeyPressListener, false);\n  }\n\n  destroy() {\n    window.removeEventListener('keydown', this._mainKeyDownListener);\n    window.removeEventListener('keyup', this._mainKeyUpListener);\n    window.removeEventListener('keypress', this._mainKeyPressListener);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyDownListener(key, callback) {\n    let listenersForKey = this._keyDownListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyDownListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyUpListener(key, callback) {\n    let listenersForKey = this._keyUpListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyUpListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyDownListener(key, callback) {\n    this._keyDownListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyUpListener(key, callback) {\n    this._keyUpListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  preventDefaultBrowserBehaviorForKey(key) {\n    this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]] = true;\n  }\n\n  /**\n   * Un-registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  allowDefaultBrowserBehaviorForKey(key) {\n    delete this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]];\n  }\n\n  /**\n   * Determines whether the given key is currently pressed down.\n   *\n   * @param {string} key\n   * @returns {boolean}\n   */\n  isKeyCurrentlyPressed(key) {\n    return !!this._currentlyPressedKeys[keyCodes[key]];\n  }\n\n  /**\n   * Saves the given key as being pressed.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyDown(event) {\n    // If this key was already being pressed down, then do nothing (when a key is held down, many\n    // keydown events are actually triggered).\n    if (this._currentlyPressedKeys[event.keyCode]) {\n      return;\n    }\n\n    // Mark this key as being pressed down.\n    this._currentlyPressedKeys[event.keyCode] = true;\n\n    // Call any registered key-down listeners for this key.\n    const listeners = this._keyDownListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Calls all key-up listeners that have been registered for the given key.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyUp(event) {\n    // Mark this key as no longer being pressed down.\n    delete this._currentlyPressedKeys[event.keyCode];\n\n    // Call any registered key-up listeners for this key.\n    const listeners = this._keyUpListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Prevents the default browser behavior for keys that have been registered to prevent.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyPress(event) {\n    if (this._keysToPreventDefaultBrowserBehaviorFor[event.keyCode]) {\n      event.preventDefault();\n    }\n  }\n}\n\nexport {InputController};\n","import {isInDevMode, ModelController, StandardModelController, vec3ToString} from 'grafx';\nimport {PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a non-collidable physics-based model-controller.\n *\n * It uses composition to control an instance of a ModelController along with a corresponding\n * instance of a PhysicsJob.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {PhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} [forceAppliers]\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    // PhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === PhysicsModelController) {\n      throw new TypeError('Cannot construct PhysicsModelController instances directly');\n    }\n\n    this.modelCtrl = modelControllerOrParams instanceof ModelController\n        ? modelControllerOrParams\n        : new StandardModelController(modelControllerOrParams, shapeParams);\n\n    if (physicsJobOrDynamicsParams instanceof PhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new PhysicsJob(forceAppliers, state);\n    }\n\n    this._originalPosition = vec3.clone(this.physicsJob.currentState.position);\n\n    this._patchModelController({\n      /**\n       * Patches the ModelController's updateTransforms method in order to keep it's local-transform\n       * matrix in-sync with the PhysicsJob's position and orientation.\n       */\n      updateTransforms: (superVersion) => {\n        // Update the ModelController's local-transform matrix according to the PhysicsJob's\n        // current position and orientation.\n        mat4.fromRotationTranslationScale(this.modelCtrl._localTransform,\n            this.renderOrientation, this.renderPosition,\n            this.modelCtrl.scale);\n        superVersion();\n      },\n    });\n\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} created @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /**\n   * Patches the given methods on the underlying ModelController.\n   *\n   * The patched methods are passed the original or \"super\" version of the method as the first\n   * argument; the normal method arguments are provided after.\n   *\n   * @protected\n   */\n  _patchModelController(patches) {\n    Object.keys(patches).forEach((methodName) => {\n      const newMethod = patches[methodName];\n      const superVersion = this.modelCtrl[methodName].bind(this.modelCtrl);\n      this.modelCtrl[methodName] = newMethod.bind(this.modelCtrl, superVersion);\n    });\n  }\n\n  /**\n   * Registers this controller's PhysicsJob(s) with the physics engine.\n   */\n  reset() {\n    this.modelCtrl.reset();\n    this.physicsJob.position = this._originalPosition;\n    this.physicsJob.finish();\n    this.physicsJob.start();\n  }\n\n  /**\n   * Unregisters this controller's PhysicsJob(s) with the physics engine.\n   */\n  destroy() {\n    this.modelCtrl.destroy();\n    this.physicsJob.finish();\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} destroyed @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /** @param {vec3} value */\n  set position(value) {\n    this.physicsJob.position = value;\n  }\n  /** @returns {vec3} */\n  get position() {\n    return this.physicsJob.currentState.position;\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this.physicsJob.currentState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get velocity() {\n    return this.physicsJob.currentState.velocity;\n  }\n\n  /** @returns {vec3} */\n  get renderPosition() {\n    return this.physicsJob.renderState.position;\n  }\n  /** @returns {quat} */\n  get renderOrientation() {\n    return this.physicsJob.renderState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get renderVelocity() {\n    return this.physicsJob.renderState.velocity;\n  }\n\n  /**\n   * @returns {DefaultModel}\n   * @protected\n   */\n  get _model() {\n    return this.modelCtrl._model;\n  }\n  /**\n   * @returns {vec3}\n   */\n  get scale() {\n    return this.modelCtrl.scale;\n  }\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return this.modelCtrl.getIsReady();\n  }\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this.modelCtrl.localTransform;\n  }\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this.modelCtrl.worldTransform;\n  }\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.modelCtrl.updateSelfAndChildren(currentTime, deltaTime);\n  }\n}\n\nexport {PhysicsModelController};\n","import {FollowCamera} from 'grafx';\n\n// TODO: Ideally, this would use the built-in physics engine; however, we I tried integrating it\n// before, I noticed some instability when moving at high speeds. This probably had something to do\n// with accessing different versions of the target position (previousState vs currentState vs\n// renderState)for force/position calculations\n\n/**\n * This class defines a spring-based follow camera.\n *\n * This camera is positioned at a relative, flexible distance and rotation from the observed target\n * and follows the target's position and orientation with a spring force tying the camera to the\n * desired position.\n *\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\n */\nclass SpringFollowCamera extends FollowCamera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\n    // These could have been set in _matchOldCamera.\n    this._velocity = this._velocity || vec3.create();\n    this._acceleration = this._acceleration || vec3.create();\n  }\n\n  reset() {\n    super.reset();\n    vec3.copy(this._position, this._followCameraParams._intendedTranslationFromTarget);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updateAccelerationVelocityAndPosition(deltaTime);\n    this._updateOrientation();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateAccelerationVelocityAndPosition(deltaTime) {\n    this._updateAcceleration();\n    this._updatePosition(deltaTime);\n    this._updateVelocity(deltaTime);\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law and drag.\n   *\n   * @private\n   */\n  _updateAcceleration() {\n    this._applySpringAcceleration();\n    this._applySpringDamping();\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law.\n   *\n   * acceleration = displacement * coefficient\n   *\n   * @private\n   */\n  _applySpringAcceleration() {\n    const displacement = vec3.create();\n    vec3.subtract(displacement, this._getIntendedPosition(), this._position);\n    vec3.scale(this._acceleration, displacement, this._followCameraParams.springCoefficient);\n  }\n\n  /**\n   * @private\n   */\n  _applySpringDamping() {\n    const damping = vec3.create();\n    vec3.scale(damping, this._velocity, -this._followCameraParams.dampingCoefficient);\n    vec3.add(this._acceleration, this._acceleration, damping);\n  }\n\n  /**\n   * Update the camera's velocity according to its current acceleration.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateVelocity(deltaTime) {\n    vec3.scaleAndAdd(this._velocity, this._velocity, this._acceleration, deltaTime);\n  }\n\n  /**\n   * Update the camera's position according to its current velocity.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updatePosition(deltaTime) {\n    vec3.scaleAndAdd(this._position, this._position, this._velocity, deltaTime);\n  }\n\n  /**\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    super._matchOldCamera(oldCamera);\n    if (oldCamera instanceof SpringFollowCamera) {\n      this._velocity = this._velocity || vec3.create();\n      this._acceleration = this._acceleration || vec3.create();\n      vec3.copy(this._velocity, oldCamera._velocity);\n      vec3.copy(this._acceleration, oldCamera._acceleration);\n    }\n  }\n}\n\nexport {SpringFollowCamera};\n","export * from './src/wall-collidable';\nexport * from './src/wall-controller';\n","import { Aabb } from 'lsl-physx';\n\n/**\n * This class represents a wall or floor.\n *\n * This is just a convenience class that extends Aabb.\n */\nclass Wall extends Aabb {\n  /**\n   * - If the x parameter is given, then a wall will be constructed along the y-z plane with its\n   * surface at the x coordinate. The y and z parameters are handled similarly.\n   * - Only one of the x/y/z parameters should be specified.\n   * - If isOpenOnPositiveSide is true, then the wall will be open toward the positive direction.\n   *\n   * @param {WallParams} wallParams\n   */\n  constructor(wallParams) {\n    let minX;\n    let minY;\n    let minZ;\n    let maxX;\n    let maxY;\n    let maxZ;\n\n    let { x, y, z, isOpenOnPositiveSide, thickness, halfSideLength } = wallParams;\n    thickness = thickness || 80000;\n    halfSideLength = halfSideLength || 80000;\n\n    if (typeof x === 'number') {\n      if (isOpenOnPositiveSide) {\n        minX = x - thickness;\n        maxX = x;\n      }\n      else {\n        minX = x;\n        maxX = x + thickness;\n      }\n      minY = -halfSideLength;\n      minZ = -halfSideLength;\n      maxY = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else if (typeof y === 'number') {\n      if (isOpenOnPositiveSide) {\n        minY = y - thickness;\n        maxY = y;\n      }\n      else {\n        minY = y;\n        maxY = y + thickness;\n      }\n      minX = -halfSideLength;\n      minZ = -halfSideLength;\n      maxX = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else {\n      if (isOpenOnPositiveSide) {\n        minZ = z - thickness;\n        maxZ = z;\n      }\n      else {\n        minZ = z;\n        maxZ = z + thickness;\n      }\n      minX = -halfSideLength;\n      minY = -halfSideLength;\n      maxX = halfSideLength;\n      maxY = halfSideLength;\n    }\n\n    super(minX, minY, minZ, maxX, maxY, maxZ, true);\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get scale() {\n    // Reuse the same object when this is called multiple times.\n    this._scale = this._scale || vec3.create();\n    vec3.set(this._scale, this.rangeX, this.rangeY, this.rangeZ);\n    return this._scale;\n  }\n}\n\nexport { Wall };\n","import {StandardModelController} from 'grafx';\nimport {collidableStore} from 'lsl-physx';\n\nimport {Wall} from './wall-collidable';\n\n/**\n * This class defines a wall-controller.\n */\nclass WallController extends StandardModelController {\n  /**\n   * @param {ModelControllerConfig} modelControllerParams\n   * @param {WallParams} wallParams\n   */\n  constructor(modelControllerParams, wallParams) {\n    const shapeParams = {\n      shapeId: 'CUBE',\n      isUsingSphericalNormals: wallParams.useSmoothShading,\n      textureSpan: wallParams.textureSpan\n    };\n\n    super(modelControllerParams, shapeParams);\n\n    this._collidable = new Wall(wallParams);\n    collidableStore.registerCollidable(this._collidable);\n  }\n\n  reset() {\n    // Re-size and re-position the wall.\n    mat4.fromTranslation(this._localTransform, this._collidable.centerOfVolume);\n    mat4.scale(this._localTransform, this._localTransform, this._collidable.scale);\n\n    super.reset();\n  }\n\n  /**\n   * Called when this is done being used, and is being destroyed from memory.\n   */\n  destroy() {\n    super.destroy();\n    collidableStore.unregisterCollidable(this._collidable);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @protected\n   */\n  update(currentTime, deltaTime) {}\n}\n\nexport {WallController};\n\n/**\n * @typedef {Object} WallParams\n * @property {number} x\n * @property {number} y\n * @property {number} z\n * @property {boolean} isOpenOnPositiveSide\n * @property {number} thickness\n * @property {number} halfSideLength\n * @property {boolean} useSmoothShading\n * @property {TextureSpan} textureSpan\n */\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvZnJhbWUtbGF0ZW5jeS1wcm9maWxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvcGVyc2lzdGVudC1hbmltYXRpb24tam9iLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvdHJhbnNpZW50LWFuaW1hdGlvbi1qb2IuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L3NyYy91dGlsLmpzIiwic3JjL2luZGV4LmpzIiwic3JjL3NyYy9jb2xsaWRhYmxlLXBoeXNpY3MtbW9kZWwtY29udHJvbGxlci5qcyIsInNyYy9zcmMvY29uZmlnLWNvbnRyb2xsZXIuanMiLCJzcmMvc3JjL2dhbWUtY29udHJvbGxlci5qcyIsInNyYy9zcmMvZ2FtZS1zY2VuZS5qcyIsInNyYy9zcmMvaW5wdXQtY29udHJvbGxlci5qcyIsInNyYy9zcmMvcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyLmpzIiwic3JjL3NyYy9zcHJpbmctZm9sbG93LWNhbWVyYS5qcyIsInNyYy93YWxsL2luZGV4LmpzIiwic3JjL3dhbGwvc3JjL3dhbGwtY29sbGlkYWJsZS5qcyIsInNyYy93YWxsL3NyYy93YWxsLWNvbnRyb2xsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE9BQU8sT0FBUCxHQUFpQixFQUFqQixDLENBQXFCOzs7Ozs7Ozs7OztBQ0Fy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QUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxhQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxNQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsT0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsU0FBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLFVBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUVBLE9BQUEsSUFBQSxDQUFBLGlDQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsa0NBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGlCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsa0JBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGVBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxnQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsVUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLFdBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGdCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsaUJBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLHVCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FB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OztBQUVBLFdBQUEsZUFBQSxTQUFBLENBQUEsU0FBQSxJQUFBLE9BQUEsY0FBQSxDQUFBLGVBQUEsU0FBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLENBQUEsSUFBQTtBQUNEOztBQUVEOzs7Ozs7OEJBR1U7QUFDUixXQUFBLGVBQUEsU0FBQSxDQUFBLFNBQUEsSUFBQSxPQUFBLGNBQUEsQ0FBQSxlQUFBLFNBQUEsQ0FBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxDQUFBLElBQUE7QUFDQSxnQkFBQSxlQUFBLENBQUEsb0JBQUEsQ0FBcUMsS0FBckMsV0FBQTtBQUNEOztBQUVEOzs7Ozs7OzsyQkFLTyxXLEVBQWEsUyxFQUFXLENBQUU7Ozs7RUF2Q04sT0FBQSx1Qjs7UUEwQ3JCLGMsR0FBQSxjOztBQUVSIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwibW9kdWxlLmV4cG9ydHMgPSB7fTsgLy8gRklYTUU6IFBvaW50IHRoaXMgdG8gZGlzdFxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMnO1xuIiwiLyoqXG4gKiBBbiBBbmltYXRpb25Kb2IgaXMgdXNlZCB3aXRoIHRoZSBhbmltYXRvciBjb250cm9sbGVyIHRvIHVwZGF0ZSBhbmQgcmUtZHJhdyBzb21ldGhpbmcgZWFjaCBmcmFtZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob25Db21wbGV0ZSkge1xuICAgIC8vIEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBBbmltYXRpb25Kb2IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnRUaW1lID0gMDtcbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB0aGlzLl9vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIEFuaW1hdGlvbkpvYiBpcyBjb21wbGV0ZS5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0NvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0NvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhpcyBBbmltYXRpb25Kb2IgYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBzdGFydFRpbWVcbiAgICovXG4gIHN0YXJ0KHN0YXJ0VGltZSkge1xuICAgIHRoaXMuX3N0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgYW5pbWF0aW9uIHByb2dyZXNzIG9mIHRoaXMgQW5pbWF0aW9uSm9iIHRvIG1hdGNoIHRoZSBnaXZlbiB0aW1lLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBvdmVyYWxsIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGlzIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgb3ZlcmFsbCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBkcmF3KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYW55IG5lY2Vzc2FyeSBzdGF0ZSBmb3IgdGhpcyBBbmltYXRpb25Kb2IgYmVpbmcgZmluaXNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNDYW5jZWxsZWRcbiAgICovXG4gIGZpbmlzaChpc0NhbmNlbGxlZCkge1xuICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gJHtpc0NhbmNlbGxlZCA/ICdjYW5jZWxsZWQnIDogJ2NvbXBsZXRlZCd9YCk7XG5cbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7QW5pbWF0aW9uSm9ifTtcbiIsImltcG9ydCB7RnJhbWVMYXRlbmN5UHJvZmlsZXJ9IGZyb20gJy4vZnJhbWUtbGF0ZW5jeS1wcm9maWxlcic7XG5pbXBvcnQge1BlcnNpc3RlbnRBbmltYXRpb25Kb2J9IGZyb20gJy4vcGVyc2lzdGVudC1hbmltYXRpb24tam9iJztcbmltcG9ydCB7VHJhbnNpZW50QW5pbWF0aW9uSm9ifSBmcm9tICcuL3RyYW5zaWVudC1hbmltYXRpb24tam9iJztcblxuY29uc3QgX0RFTFRBX1RJTUVfVVBQRVJfVEhSRVNIT0xEID0gMjAwO1xuY29uc3QgX0ZSQU1FX0RVUkFUSU9OX1dBUk5JTkdfVEhSRVNIT0xEID0gMTAwMCAvIDMwO1xuY29uc3QgX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCA9IDUwMDA7XG5jb25zdCBfTEFURU5DWV9MT0dfTEFCRUwgPSAnQW5pbWF0aW9uIGZyYW1lIHBlcmlvZCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHRoZSBhbmltYXRpb24gbG9vcC5cbiAqXG4gKiBUaGlzIGNsYXNzJ3MgcmVzcG9uc2liaWxpdGllcyBpbmNsdWRlOlxuICogLSB1cGRhdGluZyBtb2R1bGVzIGZvciB0aGUgY3VycmVudCBmcmFtZSxcbiAqIC0gZHJhd2luZyByZW5kZXJhYmxlcyBmb3IgdGhlIGN1cnJlbnQgZnJhbWUsXG4gKiAtIHN0YXJ0aW5nIGFuZCBzdG9wcGluZyB0cmFuc2llbnQgYW5pbWF0aW9uIGpvYnMsXG4gKiAtIGNhcHBpbmcgdGltZSBzdGVwIGR1cmF0aW9ucyBhdCBhIG1heCB0aHJlc2hvbGQuXG4gKi9cbmNsYXNzIEFuaW1hdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fam9icyA9IFtdO1xuICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IG51bGw7XG4gICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSA9IDA7XG4gICAgdGhpcy5fbGFzdFVucGF1c2VUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIgPSBuZXcgRnJhbWVMYXRlbmN5UHJvZmlsZXIoX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCxcbiAgICAgICAgX0ZSQU1FX0RVUkFUSU9OX1dBUk5JTkdfVEhSRVNIT0xELCBfTEFURU5DWV9MT0dfTEFCRUwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgZ2l2ZW4gQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqL1xuICBzdGFydEpvYihqb2IpIHtcbiAgICAvLyBJcyB0aGlzIGEgcmVzdGFydD9cbiAgICBpZiAoIWpvYi5pc0NvbXBsZXRlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBSZXN0YXJ0aW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgICAgaWYgKGpvYiBpbnN0YW5jZW9mIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgICAgam9iLnJlc2V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2IuZmluaXNoKHRydWUpO1xuICAgICAgICBqb2Iuc3RhcnQod2luZG93LnBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyhgU3RhcnRpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICBqb2Iuc3RhcnQodGhpcy5fcHJldmlvdXNUaW1lKTtcbiAgICAgIHRoaXMuX2pvYnMucHVzaChqb2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgdGhlIGdpdmVuIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKi9cbiAgY2FuY2VsSm9iKGpvYikge1xuICAgIGNvbnNvbGUuZGVidWcoYENhbmNlbGxpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICAgIGpvYi5maW5pc2godHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyBhbGwgcnVubmluZyBBbmltYXRpb25Kb2JzLlxuICAgKi9cbiAgY2FuY2VsQWxsKCkge1xuICAgIHdoaWxlICh0aGlzLl9qb2JzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jYW5jZWxKb2IodGhpcy5fam9ic1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfSAqL1xuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzVGltZTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbiAgZ2V0IGlzUGF1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1BhdXNlZDtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHRoaXMuX3N0b3BBbmltYXRpb25Mb29wKCk7XG4gICAgY29uc29sZS5kZWJ1ZygnQW5pbWF0b3IgcGF1c2VkJyk7XG4gIH1cblxuICB1bnBhdXNlKCkge1xuICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICAgIGNvbnNvbGUuZGVidWcoJ0FuaW1hdG9yIHVucGF1c2VkJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgYW5pbWF0aW9uIGxvb3AgdGhhdCBkcml2ZXMgYWxsIG9mIHRoZSBhbmltYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hbmltYXRpb25Mb29wKGN1cnJlbnRUaW1lKSB7XG4gICAgLy8gV2hlbiBwYXVzaW5nIGFuZCByZXN0YXJ0aW5nLCBpdCdzIHBvc3NpYmxlIGZvciB0aGUgcHJldmlvdXMgdGltZSB0byBiZSBzbGlnaHRseSBpbmNvbnNpc3RlbnRcbiAgICAvLyB3aXRoIHRoZSBhbmltYXRpb25GcmFtZSB0aW1lLlxuICAgIGlmIChjdXJyZW50VGltZSA8IHRoaXMuX3ByZXZpb3VzVGltZSkge1xuICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gY3VycmVudFRpbWUgLSAxO1xuICAgIH1cblxuICAgIGxldCBkZWx0YVRpbWUgPSBjdXJyZW50VGltZSAtIHRoaXMuX3ByZXZpb3VzVGltZTtcbiAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZTtcblxuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5yZWNvcmRGcmFtZUxhdGVuY3koZGVsdGFUaW1lKTtcblxuICAgIC8vIExhcmdlIGRlbGF5cyBiZXR3ZWVuIGZyYW1lcyBjYW4gY2F1c2UgbGVhZCB0byBpbnN0YWJpbGl0eSBpbiB0aGUgc3lzdGVtLCBzbyB0aGlzIGNhcHMgdGhlbSB0b1xuICAgIC8vIGEgbWF4IHRocmVzaG9sZC5cbiAgICBkZWx0YVRpbWUgPSBkZWx0YVRpbWUgPiBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgP1xuICAgICAgICBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgOiBkZWx0YVRpbWU7XG5cbiAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjdXJyZW50VGltZSA9PiB0aGlzLl9hbmltYXRpb25Mb29wKGN1cnJlbnRUaW1lKSk7XG4gICAgICB0aGlzLl91cGRhdGVKb2JzKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgdGhpcy5fZHJhd0pvYnMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgb2YgdGhlIGFjdGl2ZSBBbmltYXRpb25Kb2JzLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlSm9icyhjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBsZXQgam9iID0gdGhpcy5fam9ic1tpXTtcblxuICAgICAgLy8gUmVtb3ZlIGpvYnMgZnJvbSB0aGUgbGlzdCBhZnRlciB0aGV5IGFyZSBjb21wbGV0ZS5cbiAgICAgIGlmIChqb2IuaXNDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVKb2Ioam9iLCBpKTtcbiAgICAgICAgaS0tO1xuICAgICAgICBjb3VudC0tO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgam9iIGlzIHRyYW5zaWVudCBhbmQgaGFzIHJlYWNoZWQgaXRzIGVuZC5cbiAgICAgIGlmIChqb2IgaW5zdGFuY2VvZiBUcmFuc2llbnRBbmltYXRpb25Kb2IgJiYgam9iLmVuZFRpbWUgPCBjdXJyZW50VGltZSkge1xuICAgICAgICBqb2IuZmluaXNoKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpvYi51cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGpvYiBmcm9tIHRoZSBjb2xsZWN0aW9uIG9mIGFjdGl2ZSwgYW5pbWF0aW5nIGpvYnMuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0tMV1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVKb2Ioam9iLCBpbmRleCA9IC0xKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhgUmVtb3ZpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMuX2pvYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICh0aGlzLl9qb2JzW2luZGV4XSA9PT0gam9iKSB7XG4gICAgICAgICAgdGhpcy5fam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RvcCB0aGUgYW5pbWF0aW9uIGxvb3Agd2hlbiB0aGVyZSBhcmUgbm8gbW9yZSBqb2JzIHRvIGFuaW1hdGUuXG4gICAgaWYgKHRoaXMuX2pvYnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9zdG9wQW5pbWF0aW9uTG9vcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyBhbGwgb2YgdGhlIGFjdGl2ZSBBbmltYXRpb25Kb2JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RyYXdKb2JzKCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgdGhpcy5fam9ic1tpXS5kcmF3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgYW5pbWF0aW9uIGxvb3AgaWYgaXQgaXMgbm90IGFscmVhZHkgcnVubmluZy5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdGFydEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl9sYXN0VW5wYXVzZVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG5cbiAgICAvLyBPbmx5IGFjdHVhbGx5IHN0YXJ0IHRoZSBsb29wIGlmIGl0IGlzbid0IGFscmVhZHkgcnVubmluZyBhbmQgdGhlIHBhZ2UgaGFzIGZvY3VzLlxuICAgIGlmICghdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgJiYgIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aW1lID0+IHRoaXMuX2FuaW1hdGlvbkxvb3AodGltZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RvcEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWUgKz0gdGhpcy5fdGltZVNpbmNlTGFzdFBhdXNlZDtcbiAgICB9XG4gICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCk7XG4gICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb24gdGhlIG5leHQgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgcmVzb2x2ZU9uTmV4dEZyYW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0b3RhbCBhbW91bnQgb2YgdGltZSB0aGUgYW5pbWF0b3IgaGFzIGJlZW4gcnVubmluZyB3aGlsZSBub3QgcGF1c2VkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH1cbiAgICovXG4gIGdldCB0b3RhbFJ1blRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUGF1c2VkXG4gICAgICAgID8gdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWVcbiAgICAgICAgOiB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSArIHRoaXMuX3RpbWVTaW5jZUxhc3RQYXVzZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9XG4gICAqL1xuICBnZXQgX3RpbWVTaW5jZUxhc3RQYXVzZWQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuX2xhc3RVbnBhdXNlVGltZTtcbiAgfVxufVxuXG5jb25zdCBhbmltYXRvciA9IG5ldyBBbmltYXRvcigpO1xuXG5leHBvcnQge2FuaW1hdG9yfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBET01IaWdoUmVzVGltZVN0YW1wIEEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYWNjdXJhdGUgdG8gb25lIHRob3VzYW5kdGggb2YgYVxuICogbWlsbGlzZWNvbmQuXG4gKi9cblxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGtlZXBzIHRyYWNrIG9mIGF2Zy9taW4vbWF4IGZyYW1lIGxhdGVuY2llcyBvdmVyIHRoZSBsYXN0IGxvZ2dpbmcgdGltZSBwZXJpb2QgYW5kXG4gKiBwZXJpb2RpY2FsbHkgbG9ncyB0aGVzZSB2YWx1ZXMuXG4gKi9cbmNsYXNzIEZyYW1lTGF0ZW5jeVByb2ZpbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsb2dQZXJpb2QgVGhlIHBlcmlvZCBhdCB3aGljaCB0byBwcmludCBsYXRlbmN5IGxvZyBtZXNzYWdlcy4gSW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQgSWYgdGhlIGF2ZXJhZ2UgbGF0ZW5jeSBleGNlZWRzIHRoaXMgdGhyZXNob2xkLCB0aGVuIHRoZVxuICAgKiBsb2cgbWVzc2FnZSBpcyBzaG93biBhcyBhIHdhcm5pbmcuIEluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvZ0xhYmVsIEEgbGFiZWwgdG8gc2hvdyBmb3IgZWFjaCBsYXRlbmN5IGxvZyBtZXNzYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IobG9nUGVyaW9kLCBsYXRlbmN5V2FybmluZ1RocmVzaG9sZCwgbG9nTGFiZWwpIHtcbiAgICB0aGlzLl9sb2dQZXJpb2QgPSBsb2dQZXJpb2Q7XG4gICAgdGhpcy5fbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQgPSBsYXRlbmN5V2FybmluZ1RocmVzaG9sZDtcbiAgICB0aGlzLl9sb2dMYWJlbCA9IGxvZ0xhYmVsO1xuXG4gICAgdGhpcy5fZnJhbWVDb3VudCA9IG51bGw7XG4gICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5ID0gbnVsbDtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPSBudWxsO1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9IG51bGw7XG5cbiAgICB0aGlzLl9pbnRlcnZhbElkID0gbnVsbDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIHRoaXMuX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmxvZ0ZyYW1lTGF0ZW5jeSgpO1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH0sIHRoaXMuX2xvZ1BlcmlvZCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9mcmFtZUNvdW50ID0gMDtcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBLZWVwcyB0cmFjayBvZiBhIHJ1bm5pbmcgYXZlcmFnZSwgbWluIHZhbHVlLCBhbmQgbWF4IHZhbHVlIGZvciB0aGUgZnJhbWUgbGF0ZW5jaWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGZyYW1lTGF0ZW5jeVxuICAgKi9cbiAgcmVjb3JkRnJhbWVMYXRlbmN5KGZyYW1lTGF0ZW5jeSkge1xuICAgIHRoaXMuX2ZyYW1lQ291bnQrKztcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPCBmcmFtZUxhdGVuY3kgPyBmcmFtZUxhdGVuY3kgOiB0aGlzLl9tYXhGcmFtZUxhdGVuY3k7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID4gZnJhbWVMYXRlbmN5ID8gZnJhbWVMYXRlbmN5IDogdGhpcy5fbWluRnJhbWVMYXRlbmN5O1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSArIChmcmFtZUxhdGVuY3kgLSB0aGlzLl9hdmdGcmFtZUxhdGVuY3kpIC8gdGhpcy5fZnJhbWVDb3VudDtcbiAgfVxuXG4gIGxvZ0ZyYW1lTGF0ZW5jeSgpIHtcbiAgICBpZiAodGhpcy5fZnJhbWVDb3VudCA+IDApIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0aGlzLl9sb2dMYWJlbH06ICBBVkc9JHt0aGlzLl9hdmdGcmFtZUxhdGVuY3kudG9GaXhlZCgzKX0gIGAgK1xuICAgICAgICAgIGAoTUFYPSR7dGhpcy5fbWF4RnJhbWVMYXRlbmN5LnRvRml4ZWQoMyl9OyBNSU49JHt0aGlzLl9taW5GcmFtZUxhdGVuY3kudG9GaXhlZCgzKX0pYDtcbiAgICAgIGlmICh0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPj0gdGhpcy5fbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlcn07XG4iLCJleHBvcnQgKiBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi9hbmltYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2ZyYW1lLWxhdGVuY3ktcHJvZmlsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9wZXJzaXN0ZW50LWFuaW1hdGlvbi1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi90cmFuc2llbnQtYW5pbWF0aW9uLWpvYic7XG4iLCJpbXBvcnQge0FuaW1hdGlvbkpvYn0gZnJvbSAnLi9hbmltYXRpb24tam9iJztcblxuLyoqXG4gKiBBIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgcmVjdXJzIG9yIGhhcyBhbiBpbmRlZmluaXRlIGR1cmF0aW9uLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGV4dGVuZHMgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob25Db21wbGV0ZSkge1xuICAgIHN1cGVyKG9uQ29tcGxldGUpO1xuXG4gICAgLy8gUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFBlcnNpc3RlbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICByZXNldCgpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuXG5leHBvcnQge1BlcnNpc3RlbnRBbmltYXRpb25Kb2J9O1xuIiwiaW1wb3J0IHtfdXRpbH0gZnJvbSAnLi91dGlsJztcblxuaW1wb3J0IHtBbmltYXRpb25Kb2J9IGZyb20gJy4vYW5pbWF0aW9uLWpvYic7XG5cbi8qKlxuICogQSBUcmFuc2llbnRBbmltYXRpb25Kb2IgaXMgdGVtcG9yYXJ5IGFuZCBoYXMgYSBkZWZpbml0ZSBiZWdpbm5pbmcgYW5kIGVuZC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGV4dGVuZHMgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGVhc2luZ0Z1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZHVyYXRpb24sIGRlbGF5LCBlYXNpbmdGdW5jdGlvbiwgb25Db21wbGV0ZSkge1xuICAgIHN1cGVyKG9uQ29tcGxldGUpO1xuXG4gICAgLy8gVHJhbnNpZW50QW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gVHJhbnNpZW50QW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIHRoaXMuX2RlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy5fZWFzaW5nRnVuY3Rpb24gPSB0eXBlb2YgZWFzaW5nRnVuY3Rpb24gPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBlYXNpbmdGdW5jdGlvblxuICAgICAgICA6IF91dGlsLmVhc2luZ0Z1bmN0aW9uc1tlYXNpbmdGdW5jdGlvbl07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBlbmRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGFydFRpbWUgKyB0aGlzLl9kdXJhdGlvbiArIHRoaXMuX2RlbGF5O1xuICB9XG59XG5cbmV4cG9ydCB7VHJhbnNpZW50QW5pbWF0aW9uSm9ifTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIHV0aWxpdHkgZnVuY3Rpb25zLlxuICovXG5cbi8vIEEgY29sbGVjdGlvbiBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgZWFzaW5nIGZ1bmN0aW9ucy5cbmNvbnN0IGVhc2luZ0Z1bmN0aW9ucyA9IHtcbiAgbGluZWFyOiB0ID0+IHQsXG4gIGVhc2VJblF1YWQ6IHQgPT4gdCAqIHQsXG4gIGVhc2VPdXRRdWFkOiB0ID0+IHQgKiAoMiAtIHQpLFxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdCxcbiAgZWFzZUluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICBlYXNlT3V0Q3ViaWM6IHQgPT4gMSArIC0tdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRDdWJpYzogdCA9PiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSxcbiAgZWFzZUluUXVhcnQ6IHQgPT4gdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1YXJ0OiB0ID0+IDEgLSAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+IHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5RdWludDogdCA9PiB0ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1aW50OiB0ID0+IDEgKyAtLXQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWludDogdCA9PiB0IDwgMC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqIC0tdCAqIHQgKiB0ICogdCAqIHRcbn07XG5cbmNvbnN0IF91dGlsID0ge1xuICBlYXNpbmdGdW5jdGlvbnMsXG59O1xuXG5leHBvcnQge1xuICBfdXRpbCxcbn07XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIHRoZSBleHBvcnRzIGluIHRoZSBncmFmeCBmcmFtZXdvcmsuIFRoaXMgbWFrZXMgdGhlIGVudGlyZSBmcmFtZXdvcmtcbiAqIGNvbnZlbmllbnRseSBhY2Nlc3NpYmxlIHZpYSB0aGlzIHNpbmdsZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnbHNsLWFuaW1hdGV4JztcbmV4cG9ydCAqIGZyb20gJ2dyYWZ4JztcbmV4cG9ydCAqIGZyb20gJ2xzbC1waHlzeCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUtcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbmZpZy1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dhbWUtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9nYW1lLXNjZW5lJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2lucHV0LWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1tb2RlbC1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3NwcmluZy1mb2xsb3ctY2FtZXJhJztcblxuZXhwb3J0ICogZnJvbSAnLi93YWxsJztcbiIsImltcG9ydCB7UGh5c2ljc01vZGVsQ29udHJvbGxlcn0gZnJvbSAnLi9waHlzaWNzLW1vZGVsLWNvbnRyb2xsZXInO1xuaW1wb3J0IHtDb2xsaWRhYmxlUGh5c2ljc0pvYiwgUGh5c2ljc0pvYiwgUGh5c2ljc1N0YXRlfSBmcm9tICdsc2wtcGh5c3gnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIGNvbGxpZGFibGUgcGh5c2ljcy1iYXNlZCBtb2RlbC1jb250cm9sbGVyLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlciBleHRlbmRzIFBoeXNpY3NNb2RlbENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJ8TW9kZWxDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJPclBhcmFtc1xuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifER5bmFtaWNzQ29uZmlnfSBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtc1xuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gW3NoYXBlUGFyYW1zXVxuICAgKiBAcGFyYW0ge0FycmF5LjxGb3JjZUFwcGxpZXI+fSBmb3JjZUFwcGxpZXJzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihtb2RlbENvbnRyb2xsZXJPclBhcmFtcywgcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMsIHNoYXBlUGFyYW1zLCBmb3JjZUFwcGxpZXJzKSB7XG4gICAgc3VwZXIobW9kZWxDb250cm9sbGVyT3JQYXJhbXMsIHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zLCBzaGFwZVBhcmFtcywgZm9yY2VBcHBsaWVycyk7XG5cbiAgICBpZiAocGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMgaW5zdGFuY2VvZiBDb2xsaWRhYmxlUGh5c2ljc0pvYikge1xuICAgICAgdGhpcy5waHlzaWNzSm9iID0gcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZShwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcyk7XG4gICAgICB0aGlzLnBoeXNpY3NKb2IgPSBuZXcgQ29sbGlkYWJsZVBoeXNpY3NKb2Ioc2hhcGVQYXJhbXMsIHN0YXRlLCBmb3JjZUFwcGxpZXJzLCB0aGlzLFxuICAgICAgICAgIGNvbGxpc2lvbiA9PiB0aGlzLmhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pKTtcbiAgICB9XG5cbiAgICAvLyBDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlciBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRyaWdnZXJlZCBpbiByZXNwb25zZSB0byBhIGNvbGxpc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIG5lZWRzIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24gdG8gcHJvY2VlZC5cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBoYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IHtDb2xsaWRhYmxlUGh5c2ljc01vZGVsQ29udHJvbGxlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge1JlbmRlcmFibGVTaGFwZUNvbmZpZyZDb2xsaWRhYmxlU2hhcGVDb25maWd9IFJlbmRlcmFibGVBbmRDb2xsaWRhYmxlU2hhcGVDb25maWdcbiAqL1xuIiwiaW1wb3J0IHtcbiAgY3JlYXRlSHNsQ29sb3JTdHJpbmcsXG4gIGRlYm91bmNlLFxuICBmaW5kLFxuICBnZXRWaWV3cG9ydFNpemUsXG4gIGhzbFRvSHN2LFxuICBoc3ZUb0hzbCxcbiAgaHNsVG9SZ2IsXG4gIGlzSW50LFxufSBmcm9tICdncmFmeCc7XG5cbmNvbnN0IF9TTUFMTF9TQ1JFRU5fV0lEVEhfVEhSRVNIT0xEID0gODAwO1xuXG4vKipcbiAqIFRoaXMgdG9wLWxldmVsIENvbmZpZ0NvbnRyb2xsZXIgY2xhc3Mgd3JhcHMgdGhlIGRhdC5HVUkgbGlicmFyeSBhbmQgcHJvdmlkZXMgaGlnaGVyLWxldmVsXG4gKiBjb25maWd1cmF0aW9uIGZ1bmN0aW9uYWxpdHkuXG4gKlxuICogIyMgQ29uZmlndXJpbmcgUGFyYW1ldGVyc1xuICpcbiAqIENvbnN1bWVycyBvZiB0aGlzIG1vZHVsZSB3aWxsIG5lZWQgdG8gc3BlY2lmeSBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgd2l0aCBhIGNlcnRhaW4gZm9ybS4gRm9yXG4gKiBlYWNoIHByb3BlcnR5IG9uIGEgY29uZmlnIG9iamVjdCwgYW4gaXRlbSB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhlIGNvcnJlc3BvbmRpbmcgZGF0LkdVSSBmb2xkZXIuXG4gKiBUaGUgdHlwZSBhbmQgc3BlY2lmaWNzIG9mIHRoZSBtZW51IGl0ZW0gZGVwZW5kcyBvbiB0aGUgdmFsdWUgYXNzaWduZWQgdG8gdGhlIGNvbmZpZyBwcm9wZXJ0eTpcbiAqXG4gKiAtIFRvZ2dsZSBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhIGJvb2xlYW4uXG4gKiAtIFRyaWdnZXIgaXRlbTpcbiAqICAgLSBDcmVhdGVkIGlmIHRoZSBjb25maWcgcHJvcGVydHkgaXMgYSBmdW5jdGlvbi5cbiAqIC0gU2xpZGVyIGl0ZW06XG4gKiAgIC0gQ3JlYXRlZCBpZiB0aGUgY29uZmlnIHByb3BlcnR5IGlzIGFuIG9iamVjdCB3aXRoICdtaW4nLCAnbWF4JywgYW5kICdzdGFydCcgcHJvcGVydGllcy5cbiAqICAgLSBXaGVuIHRoZSBjb25maWcgb2JqZWN0IGlzIHBhcnNlZCwgdGhpcyBpbml0aWFsIGNvbmZpZyBvYmplY3Qgd2lsbCBiZSByZW1vdmVkIGFuZCByZXBsYWNlZFxuICogICAgIHdpdGggb25seSB0aGUgY3VycmVudCBhY3R1YWwgdmFsdWUuXG4gKiAgIC0gVGhlIGludGVydmFscyBvZiB0aGUgc2xpZGVyIGFyZSBhdXRvbWF0aWNhbGx5IGRldGVybWluZWQgYnkgdGhlIGRhdC5HVUkgbGlicmFyeSBhbmQgZGVwZW5kIG9uXG4gKiAgICAgdGhlIHR5cGUgb2YgdGhlICdtaW4nLydtYXgnLyd2YWx1ZScgcHJvcGVydGllcyAoaW50IHZzIGZsb2F0KS4gU2VlIHRoZSBkYXQuR1VJIGRvY3VtZW50YXRpb25cbiAqICAgICBmb3IgbW9yZSBpbmZvLlxuICogLSBDb2xvciBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhbiBvYmplY3Qgd2l0aCAnaCcvJ3MnLydsJyBwcm9wZXJ0aWVzLlxuICogICAtIFdoZW4gdGhlIGNvbmZpZyBvYmplY3QgaXMgcGFyc2VkLCB0aGlzIGluaXRpYWwgY29uZmlnIG9iamVjdCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggYSBuZXdcbiAqICAgICBvYmplY3QgdGhhdCBoYXMgJ2gnLydzJy8ndicgcHJvcGVydGllcyBhbmQgYW4gJ2hzbCcgcHJvcGVydHksIHdoaWNoIGlzIGFuIG9iamVjdCBjb250YWluaW5nXG4gKiAgICAgJ2gnLydzJy8nbCcgcHJvcGVydGllcyBhbmQgYSAnY29sb3JTdHJpbmcnIHByb3BlcnR5IHRoYXQgY29udGFpbnMgYSB2YWxpZCBjb2xvciBzdHJpbmcgdG9cbiAqICAgICBhc3NpZ24gdG8gYSBDU1MgcHJvcGVydHkuXG4gKiAgIC0gQWxsICdoJy8ncycvJ2wnIGFuZCAnaCcvJ3MnLyd2JyB2YWx1ZXMgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiBbMCwxXS5cbiAqIC0gVGV4dCBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhIFN0cmluZy5cbiAqL1xuY2xhc3MgQ29uZmlnQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2RhdEd1aVdpZHRoID0gMzAwO1xuICAgIHRoaXMuX2d1aSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZGF0LkdVSSBjb250cm9sbGVyLlxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBDcmVhdGUgdGhlIGRhdC5HVUkgbWVudS5cbiAgICB0aGlzLl9jcmVhdGVHdWlJZk5vdENyZWF0ZWQodHJ1ZSk7XG4gICAgdGhpcy5fZ3VpLndpZHRoID0gdGhpcy5fZGF0R3VpV2lkdGg7XG5cbiAgICAvLyBBdXRvbWF0aWNhbGx5IGNsb3NlIHRoZSBtZW51IG9uIHNtYWxsZXIgc2NyZWVucy5cbiAgICAvLyBUT0RPOiBDaGVjayB0aGF0IHRoZSBtZW51IGlzIGNsb3NlZCBpbml0aWFsbHkgKHdpdGggbm8gcmVzaXplIGV2ZW50KSBpZiB0aGUgcGFnZSBsb2FkcyBhdCB0b28gc21hbGwgYSB3aWR0aC5cbiAgICBjb25zdCBkZWJvdW5jZWRSZXNpemUgPSBkZWJvdW5jZSgoKSA9PiB0aGlzLl9vblJlc2l6ZSgpLCAzMDApO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZWRSZXNpemUsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGRhdC5HVUkgbWVudS5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fZ3VpLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzR3VpVmlzaWJsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUd1aUlmTm90Q3JlYXRlZChpc0d1aVZpc2libGUpIHtcbiAgICBpZiAodGhpcy5fZ3VpKSB7XG4gICAgICBpZiAoaXNHdWlWaXNpYmxlKSB7XG4gICAgICAgIHRoaXMuX2d1aS5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgICAgaWYgKCFpc0d1aVZpc2libGUpIHtcbiAgICAgICAgdGhpcy5fZ3VpLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGZvbGRlciB3aXRoIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uIHVuZGVybmVhdGggdGhlIGdpdmVuIHBhcmVudCBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7TWVudUZvbGRlckNvbmZpZ30gZm9sZGVyQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IFtwYXJlbnRGb2xkZXJdIElmIG5vdCBnaXZlbiwgdGhlIGZvbGRlciBpcyBjcmVhdGVkIGF0IHRoZSB0b3AgbGV2ZWwuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb25DaGFuZ2VMaXN0ZW5lcnNdIEEgbWFwIGZyb20gbGFiZWxzIHRvIG9uLWNoYW5nZSBoYW5kbGVycy5cbiAgICovXG4gIGNyZWF0ZUZvbGRlcihmb2xkZXJDb25maWcsIHBhcmVudEZvbGRlciwgb25DaGFuZ2VMaXN0ZW5lcnMpIHtcbiAgICB0aGlzLl9jcmVhdGVHdWlJZk5vdENyZWF0ZWQoZmFsc2UpO1xuXG4gICAgcGFyZW50Rm9sZGVyID0gcGFyZW50Rm9sZGVyIHx8IHRoaXMuX2d1aTtcblxuICAgIC8vIFRPRE86IENvcHkgdGhlIG9yaWdpbmFsIGNvbmZpZyBhbmQgc3RvcmUgaXQgc29tZWhvdyBvbiB0aGUgZGF0LkdVSSBtZW51IGl0ZW0/IFRoaXMgaXMgaW1wb3J0YW50IGZvciByZXNldHRpbmcgY29uZmlncyBsYXRlciAoZnJvbSB0aGUgb3RoZXIgY29udHJvbGxlcikuXG4gICAgY29uc3QgZm9sZGVyID0gcGFyZW50Rm9sZGVyLmFkZEZvbGRlcihmb2xkZXJDb25maWcubGFiZWwpO1xuXG4gICAgZm9sZGVyQ29uZmlnLmZvbGRlciA9IGZvbGRlcjtcblxuICAgIHRoaXMuX2NyZWF0ZUl0ZW1zKGZvbGRlckNvbmZpZyk7XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIGZyb20gdGhlIGNvbmZpZyBmaWxlLlxuICAgIHRoaXMuX2FkZE9uQ2hhbmdlTGlzdGVuZXJzKGZvbGRlckNvbmZpZywgZm9sZGVyQ29uZmlnLm9uQ2hhbmdlTGlzdGVuZXJzLCB0cnVlKTtcblxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgZnJvbSB0aGUgY2FsbGVyIG9mIHRoaXMgbWV0aG9kLlxuICAgIHRoaXMuX2FkZE9uQ2hhbmdlTGlzdGVuZXJzKGZvbGRlckNvbmZpZywgb25DaGFuZ2VMaXN0ZW5lcnMsIGZhbHNlKTtcblxuICAgIGlmIChmb2xkZXJDb25maWcuaXNPcGVuKSB7XG4gICAgICBmb2xkZXIub3BlbigpO1xuICAgIH1cblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNyZWF0ZSBkZXNjZW5kYW50IGZvbGRlcnMuXG4gICAgaWYgKGZvbGRlckNvbmZpZy5jaGlsZEZvbGRlcnMpIHtcbiAgICAgIHRoaXMuY3JlYXRlRm9sZGVycyhmb2xkZXJDb25maWcuY2hpbGRGb2xkZXJzLCBmb2xkZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5LjxNZW51Rm9sZGVyQ29uZmlnPn0gZm9sZGVyQ29uZmlnc1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBwYXJlbnRGb2xkZXJcbiAgICovXG4gIGNyZWF0ZUZvbGRlcnMoZm9sZGVyQ29uZmlncywgcGFyZW50Rm9sZGVyKSB7XG4gICAgZm9sZGVyQ29uZmlncy5mb3JFYWNoKGZvbGRlckNvbmZpZyA9PiB0aGlzLmNyZWF0ZUZvbGRlcihmb2xkZXJDb25maWcsIHBhcmVudEZvbGRlcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUZvbGRlckNvbmZpZ30gZm9sZGVyQ29uZmlnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgYWRkT25DaGFuZ2VMaXN0ZW5lcihmb2xkZXJDb25maWcsIGxhYmVsLCBjYWxsYmFjaykge1xuICAgIGlmIChmb2xkZXJDb25maWcuaXRlbXNbbGFiZWxdKSB7XG4gICAgICBmb2xkZXJDb25maWcuaXRlbXNbbGFiZWxdLm9uQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0F0dGVtcHRpbmcgdG8gYWRkIG9uLWNoYW5nZSBsaXN0ZW5lciBmb3IgYSBub24tZXhpc3RlbnQgY29uZmlnJywgbGFiZWwsXG4gICAgICAgICAgZm9sZGVyQ29uZmlnKTtcbiAgICB9XG4gIH1cblxuICBoaWRlTWVudSgpIHtcbiAgICBjb25zb2xlLmluZm8oJ0hpZGUgTWVudSBjbGlja2VkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keSA+IC5kZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICAvKipcbiAgICogTk9URTogVGhpcyBpcyBub3QgaWRlbXBvdGVudC4gVGhpcyBtb2RpZmllcyB0aGUgb3JpZ2luYWwgZm9sZGVyQ29uZmlnLmNvbmZpZyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7TWVudUZvbGRlckNvbmZpZ30gZm9sZGVyQ29uZmlnXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlSXRlbXMoZm9sZGVyQ29uZmlnKSB7XG4gICAgZm9sZGVyQ29uZmlnLml0ZW1zID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhmb2xkZXJDb25maWcuY29uZmlnKS5mb3JFYWNoKChpdGVtQ29uZmlnS2V5KSA9PiB7XG4gICAgICAvLyBEbyBub3QgZXhwb3NlIGludGVybmFsIGNvbmZpZ3VyYXRpb25zIHRvIHRoZSB1c2VyLlxuICAgICAgaWYgKGl0ZW1Db25maWdLZXkuc3Vic3RyKDAsIDEpID09PSAnXycpIHJldHVybjtcblxuICAgICAgY29uc3QgaXRlbUNvbmZpZyA9IGZvbGRlckNvbmZpZy5jb25maWdbaXRlbUNvbmZpZ0tleV07XG5cbiAgICAgIC8vIERldGVybWluZSB3aGljaCBtZXRob2QgdG8gdXNlIHRvIGNyZWF0ZSB0aGUgbWVudSBpdGVtLlxuICAgICAgY29uc3QgcGFpciA9IGZpbmQoW1xuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1RvZ2dsZUl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVRvZ2dsZUl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1RyaWdnZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVUcmlnZ2VySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzU2xpZGVySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlU2xpZGVySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzTnVtYmVySXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlTnVtYmVySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzSHNsQ29sb3JJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVIc2xDb2xvckl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1RleHRJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVUZXh0SXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzU3RyaW5nU2VsZWN0b3JJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVTdHJpbmdTZWxlY3Rvckl0ZW1dLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1ZlYzNOdW1iZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVWZWMzTnVtYmVySXRlbXNdLFxuICAgICAgICBbQ29uZmlnQ29udHJvbGxlci5pc1ZlYzNTbGlkZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVWZWMzU2xpZGVySXRlbXNdLFxuICAgICAgXSwgKHBhaXIpID0+IHBhaXJbMF0oaXRlbUNvbmZpZykpO1xuICAgICAgaWYgKCFwYWlyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVW5yZWNvZ25pemVkIGNvbmZpZyB0eXBlJywgaXRlbUNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lbnVJdGVtQ3JlYXRvciA9IHBhaXJbMV07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgYWN0dWFsIGRhdC5HVUkgbWVudSBpdGVtIGFuZCBzYXZlIGEgcmVmZXJlbmNlIHRvIGl0LlxuICAgICAgY29uc3QgbWVudUl0ZW1EYXRhID0gbWVudUl0ZW1DcmVhdG9yLmNhbGwodGhpcywgZm9sZGVyQ29uZmlnLmNvbmZpZyxcbiAgICAgICAgICBpdGVtQ29uZmlnS2V5LCBpdGVtQ29uZmlnLCBmb2xkZXJDb25maWcuZm9sZGVyKTtcbiAgICAgIGlmIChtZW51SXRlbURhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBjb25zdCBwYXJlbnRNZW51SXRlbURhdGEgPSB7b25DaGFuZ2VMaXN0ZW5lcnM6IFtdfTtcblxuICAgICAgICAvLyBSZWNvcmQgdGhlIGluZGl2aWR1YWwgc3ViLWl0ZW1zLlxuICAgICAgICBtZW51SXRlbURhdGEuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgICBmb2xkZXJDb25maWcuaXRlbXNbZGF0YS5sYWJlbF0gPSBkYXRhO1xuXG4gICAgICAgICAgLy8gSG9vayB1cCB0aGUgKHBhcmVudCBpdGVtJ3MpIG9uQ2hhbmdlIGxpc3RlbmVycy5cbiAgICAgICAgICBkYXRhLm1lbnVJdGVtLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIGRhdGEub25DaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgICAgICAgICAgIHBhcmVudE1lbnVJdGVtRGF0YS5vbkNoYW5nZUxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWNvcmQgdGhlIHBhcmVudCBpdGVtLlxuICAgICAgICBmb2xkZXJDb25maWcuaXRlbXNbaXRlbUNvbmZpZ0tleV0gPSBwYXJlbnRNZW51SXRlbURhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb2xkZXJDb25maWcuaXRlbXNbaXRlbUNvbmZpZ0tleV0gPSBtZW51SXRlbURhdGE7XG5cbiAgICAgICAgLy8gSG9vayB1cCB0aGUgb25DaGFuZ2UgbGlzdGVuZXJzLlxuICAgICAgICBtZW51SXRlbURhdGEubWVudUl0ZW0ub25DaGFuZ2UoKCkgPT5cbiAgICAgICAgICAgIG1lbnVJdGVtRGF0YS5vbkNoYW5nZUxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVGb2xkZXJDb25maWd9IGZvbGRlckNvbmZpZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gb25DaGFuZ2VMaXN0ZW5lcnMgQSBtYXAgZnJvbSBsYWJlbHMgdG8gb24tY2hhbmdlIGV2ZW50IGhhbmRsZXJzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1ha2VJbml0aWFsQ2FsbFRvTGlzdGVuZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWRkT25DaGFuZ2VMaXN0ZW5lcnMoZm9sZGVyQ29uZmlnLCBvbkNoYW5nZUxpc3RlbmVycywgbWFrZUluaXRpYWxDYWxsVG9MaXN0ZW5lcnMpIHtcbiAgICBpZiAob25DaGFuZ2VMaXN0ZW5lcnMpIHtcbiAgICAgIE9iamVjdC5rZXlzKG9uQ2hhbmdlTGlzdGVuZXJzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IG9uQ2hhbmdlSGFuZGxlciA9IG9uQ2hhbmdlTGlzdGVuZXJzW2tleV07XG4gICAgICAgIGNvbmZpZ0NvbnRyb2xsZXIuYWRkT25DaGFuZ2VMaXN0ZW5lcihmb2xkZXJDb25maWcsIGtleSwgb25DaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgaWYgKG1ha2VJbml0aWFsQ2FsbFRvTGlzdGVuZXJzKSB7XG4gICAgICAgICAgb25DaGFuZ2VIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgbWVudSBvbiBzbWFsbGVyIHNjcmVlbnMuXG4gICAqL1xuICBfb25SZXNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoZ2V0Vmlld3BvcnRTaXplKCkgPCBfU01BTExfU0NSRUVOX1dJRFRIX1RIUkVTSE9MRCkge1xuICAgICAgICB0aGlzLl9ndWkuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtUb2dnbGVNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlVG9nZ2xlSXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VHJpZ2dlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVUcmlnZ2VySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7U2xpZGVyTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVNsaWRlckl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgLy8gUmVwbGFjZSB0aGUgb3JpZ2luYWwgaXRlbUNvbmZpZyBvbiB0aGUgY29uZmlnT2JqZWN0IHdpdGggdGhlIGFjdHVhbCBzdGFydGluZyB2YWx1ZS5cbiAgICBjb25maWdPYmplY3RbbGFiZWxdID0gaXRlbUNvbmZpZy5zdGFydDtcblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IGlzSW50KGl0ZW1Db25maWcubWluKSAmJiBpc0ludChpdGVtQ29uZmlnLm1heClcbiAgICAgICAgPyBbQ29uZmlnQ29udHJvbGxlci5fdHJ1bmNhdGVUb0ludC5iaW5kKG51bGwsIGNvbmZpZ09iamVjdCwgbGFiZWwpXVxuICAgICAgICA6IFtdO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBtZW51IGl0ZW0uXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcubWluLCBpdGVtQ29uZmlnLm1heCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogbGlzdGVuZXJzXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge051bWJlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVOdW1iZXJJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIC8vIENyZWF0ZSB0aGUgbWVudSBpdGVtLlxuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsKSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGZvcmNlIGludCBzbGlkZXJzIHRvIG9ubHkgcHJvZHVjZSBpbnRzLlxuICAgKlxuICAgKiBUaGlzIHNob3VsZG4ndCBiZSBuZWVkZWQsIGJ1dCBkYXQuR1VJIGRvZXNuJ3Qgc2VlbSB0byBiZSBiZWhhdmluZyBjb25zaXN0ZW50bHkuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIGxhYmVsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX3RydW5jYXRlVG9JbnQoY29uZmlnT2JqZWN0LCBsYWJlbCkge1xuICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBwYXJzZUludChjb25maWdPYmplY3RbbGFiZWxdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge0hzbENvbG9yTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZUhzbENvbG9ySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICAvLyBDcmVhdGUgdGhlIHByb3BlcnR5IHRoYXQgdGhlIG1lbnUgaXRlbSB3aWxsIHVzZS5cbiAgICBpdGVtQ29uZmlnID0gaHNsVG9Ic3YoaXRlbUNvbmZpZyk7XG4gICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IGl0ZW1Db25maWc7XG5cbiAgICAvLyBTZXQgdXAgYSBsaXN0ZW5lciB0aGF0IHdpbGwga2VlcCBkZXJpdmVkIEhTTCB2YWx1ZXMgaW4gc3luYyB3aXRoIHRoZSBuYXRpdmUgSFNWIHZhbHVlcyB1c2VkXG4gICAgLy8gYnkgdGhlIGRhdC5HVUkgbWVudSBpdGVtLlxuICAgIGNvbnN0IGNhbGN1bGF0ZUhzbFZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGhzbCA9IGhzdlRvSHNsKGNvbmZpZ09iamVjdFtsYWJlbF0pO1xuICAgICAgY29uc3QgcmdiID0gaHNsVG9SZ2IoaHNsKTtcbiAgICAgIGl0ZW1Db25maWcuaHNsID0gaHNsO1xuICAgICAgaXRlbUNvbmZpZy5yZ2IgPSByZ2I7XG4gICAgICBpdGVtQ29uZmlnLnJnYlZlYyA9IHZlYzMuZnJvbVZhbHVlcyhyZ2IuciwgcmdiLmcsIHJnYi5iKTtcbiAgICAgIGl0ZW1Db25maWcuaHNsLmNvbG9yU3RyaW5nID0gY3JlYXRlSHNsQ29sb3JTdHJpbmcoaHNsKTtcbiAgICB9O1xuICAgIGNhbGN1bGF0ZUhzbFZhbHVlcygpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBtZW51IGl0ZW0uXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkQ29sb3IoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW2NhbGN1bGF0ZUhzbFZhbHVlc11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VGV4dE1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVUZXh0SXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7VmVjM051bWJlck1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7QXJyYXkuPE1lbnVJdGVtRGF0YT59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVZlYzNOdW1iZXJJdGVtcyhjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICBjb25zdCB4TGFiZWwgPSBgJHtsYWJlbH1YYDtcbiAgICBjb25zdCB5TGFiZWwgPSBgJHtsYWJlbH1ZYDtcbiAgICBjb25zdCB6TGFiZWwgPSBgJHtsYWJlbH1aYDtcblxuICAgIC8vIFNldCB1cCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBrZWVwIHRoZSBkZXJpdmVkIHZlYzMgaW4gc3luYyB3aXRoIGl0cyBpbmRpdmlkdWFsIGNvb3JkaW5hdGVzLlxuICAgIGNvbnN0IF91cGRhdGVWZWMzID0gKCkgPT4gdmVjMy5zZXQoaXRlbUNvbmZpZywgY29uZmlnT2JqZWN0W3hMYWJlbF0sIGNvbmZpZ09iamVjdFt5TGFiZWxdLFxuICAgICAgICBjb25maWdPYmplY3RbekxhYmVsXSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgWzAsIHhMYWJlbF0sXG4gICAgICBbMSwgeUxhYmVsXSxcbiAgICAgIFsyLCB6TGFiZWxdXG4gICAgXS5tYXAoaW5kZXhBbmRMYWJlbCA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IGluZGV4QW5kTGFiZWxbMF07XG4gICAgICBjb25zdCBsYWJlbCA9IGluZGV4QW5kTGFiZWxbMV07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgaW5kaXZpZHVhbCB2ZWMzIGNvb3JkaW5hdGUgcHJvcGVydHkgYW5kIGluaXRpYWwgdmFsdWUuXG4gICAgICBjb25maWdPYmplY3RbbGFiZWxdID0gaXRlbUNvbmZpZ1tpbmRleF07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgaW5kaXZpZHVhbCB2ZWMzIGNvb3JkaW5hdGUgbWVudSBpdGVtLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCksXG4gICAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbX3VwZGF0ZVZlYzNdLFxuICAgICAgICBsYWJlbDogbGFiZWxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtWZWMzU2xpZGVyTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtBcnJheS48TWVudUl0ZW1EYXRhPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlVmVjM1NsaWRlckl0ZW1zKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIGl0ZW1Db25maWcgb24gdGhlIGNvbmZpZ09iamVjdCB3aXRoIHRoZSBhY3R1YWwgc3RhcnRpbmcgdmFsdWUuXG4gICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IGl0ZW1Db25maWcuc3RhcnQ7XG5cbiAgICBjb25zdCB4TGFiZWwgPSBgJHtsYWJlbH1YYDtcbiAgICBjb25zdCB5TGFiZWwgPSBgJHtsYWJlbH1ZYDtcbiAgICBjb25zdCB6TGFiZWwgPSBgJHtsYWJlbH1aYDtcblxuICAgIC8vIFNldCB1cCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBrZWVwIHRoZSBkZXJpdmVkIHZlYzMgaW4gc3luYyB3aXRoIGl0cyBpbmRpdmlkdWFsIGNvb3JkaW5hdGVzLlxuICAgIGNvbnN0IF91cGRhdGVWZWMzID0gKCkgPT4gdmVjMy5zZXQoY29uZmlnT2JqZWN0W2xhYmVsXSwgY29uZmlnT2JqZWN0W3hMYWJlbF0sXG4gICAgICAgIGNvbmZpZ09iamVjdFt5TGFiZWxdLCBjb25maWdPYmplY3RbekxhYmVsXSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgWzAsIHhMYWJlbF0sXG4gICAgICBbMSwgeUxhYmVsXSxcbiAgICAgIFsyLCB6TGFiZWxdXG4gICAgXS5tYXAoaW5kZXhBbmRMYWJlbCA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IGluZGV4QW5kTGFiZWxbMF07XG4gICAgICBjb25zdCBsYWJlbCA9IGluZGV4QW5kTGFiZWxbMV07XG4gICAgICBjb25zdCBzdGFydCA9IGl0ZW1Db25maWcuc3RhcnRbaW5kZXhdO1xuICAgICAgY29uc3QgbWluID0gaXRlbUNvbmZpZy5taW5baW5kZXhdO1xuICAgICAgY29uc3QgbWF4ID0gaXRlbUNvbmZpZy5tYXhbaW5kZXhdO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGluZGl2aWR1YWwgdmVjMyBjb29yZGluYXRlIHByb3BlcnR5IGFuZCBpbml0aWFsIHZhbHVlLlxuICAgICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IHN0YXJ0O1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGluZGl2aWR1YWwgdmVjMyBjb29yZGluYXRlIG1lbnUgaXRlbS5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwsIG1pbiwgbWF4KSxcbiAgICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtfdXBkYXRlVmVjM10sXG4gICAgICAgIGxhYmVsOiBsYWJlbFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1N0cmluZ1NlbGVjdG9yTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVN0cmluZ1NlbGVjdG9ySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICAvLyBSZXBsYWNlIHRoZSBvcmlnaW5hbCBpdGVtQ29uZmlnIG9uIHRoZSBjb25maWdPYmplY3Qgd2l0aCB0aGUgYWN0dWFsIHN0YXJ0aW5nIHZhbHVlLlxuICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBpdGVtQ29uZmlnLnN0YXJ0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcub3B0aW9ucyksXG4gICAgICBvbkNoYW5nZUxpc3RlbmVyczogW11cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNUb2dnbGVJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdib29sZWFuJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzVHJpZ2dlckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzU2xpZGVySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5zdGFydCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcubWluID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5tYXggPT09ICdudW1iZXInO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNOdW1iZXJJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdudW1iZXInO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNIc2xDb2xvckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcuaCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcucyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcubCA9PT0gJ251bWJlcic7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1RleHRJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdzdHJpbmcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNTdHJpbmdTZWxlY3Rvckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIGl0ZW1Db25maWcuc3RhcnQgPT09ICdzdHJpbmcnICYmXG4gICAgICAgIGl0ZW1Db25maWcub3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNWZWMzTnVtYmVySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIChpdGVtQ29uZmlnIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5IHx8IGl0ZW1Db25maWcgaW5zdGFuY2VvZiBBcnJheSkgJiZcbiAgICAgICAgaXRlbUNvbmZpZy5sZW5ndGggPT09IDM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1ZlYzNTbGlkZXJJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdvYmplY3QnICYmXG4gICAgICAgIENvbmZpZ0NvbnRyb2xsZXIuaXNWZWMzTnVtYmVySXRlbShpdGVtQ29uZmlnLnN0YXJ0KSAmJlxuICAgICAgICBDb25maWdDb250cm9sbGVyLmlzVmVjM051bWJlckl0ZW0oaXRlbUNvbmZpZy5taW4pICYmXG4gICAgICAgIENvbmZpZ0NvbnRyb2xsZXIuaXNWZWMzTnVtYmVySXRlbShpdGVtQ29uZmlnLm1heCk7XG4gIH1cbn1cblxuY29uc3QgY29uZmlnQ29udHJvbGxlciA9IG5ldyBDb25maWdDb250cm9sbGVyKCk7XG5cbmV4cG9ydCB7Y29uZmlnQ29udHJvbGxlcn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWVudUl0ZW1EYXRhXG4gKiBAcHJvcGVydHkge2RhdC5ndWkuY29udHJvbGxlcn0gbWVudUl0ZW0gVGhlIGFjdHVhbCBkYXQuR1VJIG1lbnUgaXRlbS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gb25DaGFuZ2VMaXN0ZW5lcnMgb25DaGFuZ2UgbGlzdGVuZXJzIGZvciB0aGUgbWVudSBpdGVtLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbF0gVGhlIGxhYmVsIHVzZWQgZm9yIHRoZSBtZW51IGl0ZW0uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNZW51Rm9sZGVyQ29uZmlnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGFiZWxcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBjb25maWcgQSBtYXAgZnJvbSBsYWJlbHMgdG8gTWVudUl0ZW1Db25maWdzLiBBbnkgY29uZmlnIGl0ZW0gd2hvc2UgbGFiZWxcbiAqIHN0YXJ0cyB3aXRoICdfJyB3aWxsIGJlIHRyZWF0ZWQgYXMgaW50ZXJuYWwgYW5kIHdpbGwgbm90IGJlIGV4cG9zZWQgdG8gdGhlIHVzZXIuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc09wZW49ZmFsc2VdXG4gKiBAcHJvcGVydHkge09iamVjdH0gW29uQ2hhbmdlTGlzdGVuZXJzXSBBIG1hcCBmcm9tIGxhYmVscyB0byBvbi1jaGFuZ2UgZXZlbnQgaGFuZGxlcnMuXG4gKiBAcHJvcGVydHkge0FycmF5LjxNZW51Rm9sZGVyQ29uZmlnPn0gW2NoaWxkRm9sZGVyc11cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbaXRlbXNdIEEgbWFwIGZyb20gbGFiZWxzIHRvIE1lbnVJdGVtRGF0YXMuXG4gKiBAcHJvcGVydHkge2RhdC5ndWkuR1VJfSBbZm9sZGVyXSBDcmVhdGVkIGFuZCBhZGRlZCBieSB0aGUgQ29uZmlnQ29udHJvbGxlciBhZnRlciByZWdpc3RlcmluZyB0aGVcbiAqIGZvbGRlci5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtUb2dnbGVNZW51SXRlbUNvbmZpZ3xUcmlnZ2VyTWVudUl0ZW1Db25maWd8U2xpZGVyTWVudUl0ZW1Db25maWd8TnVtYmVyTWVudUl0ZW1Db25maWd8SHNsQ29sb3JNZW51SXRlbUNvbmZpZ3xUZXh0TWVudUl0ZW1Db25maWd8U3RyaW5nU2VsZWN0b3JNZW51SXRlbUNvbmZpZ3xWZWMzTnVtYmVyTWVudUl0ZW1Db25maWd8VmVjM1NsaWRlck1lbnVJdGVtQ29uZmlnfSBNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge2Jvb2xlYW59IFRvZ2dsZU1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7RnVuY3Rpb259IFRyaWdnZXJNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2xpZGVyTWVudUl0ZW1Db25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge251bWJlcn0gTnVtYmVyTWVudUl0ZW1Db25maWdcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEhzbENvbG9yTWVudUl0ZW1Db25maWdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoIEEgdmFsdWUgZnJvbSAwIHRvIDEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcyBBIHZhbHVlIGZyb20gMCB0byAxLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGwgQSB2YWx1ZSBmcm9tIDAgdG8gMS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtzdHJpbmd9IFRleHRNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RyaW5nU2VsZWN0b3JNZW51SXRlbUNvbmZpZ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0FycmF5LjxTdHJpbmc+fSBvcHRpb25zXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7dmVjM30gVmVjM051bWJlck1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBWZWMzU2xpZGVyTWVudUl0ZW1Db25maWdcbiAqIEBwcm9wZXJ0eSB7dmVjM30gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7dmVjM30gbWluXG4gKiBAcHJvcGVydHkge3ZlYzN9IG1heFxuICovXG4iLCJpbXBvcnQgeyBhbmltYXRvciB9IGZyb20gJ2xzbC1hbmltYXRleCc7XG5pbXBvcnQge1xuICBHcmFmeENvbnRyb2xsZXIsXG4gIGhhbmRsZVBhZ2VGb2N1c0NoYW5nZSxcbn1cbmZyb20gJ2dyYWZ4JztcbmltcG9ydCB7IGNvbmZpZ0NvbnRyb2xsZXIgfSBmcm9tICcuL2NvbmZpZy1jb250cm9sbGVyJztcbmltcG9ydCB7IElucHV0Q29udHJvbGxlciB9IGZyb20gJy4vaW5wdXQtY29udHJvbGxlcic7XG5cbi8qKlxuICogVGhpcyB0b3AtbGV2ZWwgQ29udHJvbGxlciBjbGFzcyBpbml0aWFsaXplcyBhbmQgcnVucyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICovXG5jbGFzcyBHYW1lQ29udHJvbGxlciBleHRlbmRzIEdyYWZ4Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2lucHV0Q3RybCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGFwcC4gQWZ0ZXIgdGhpcyBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LCBjYWxsIHJ1biB0byBhY3R1YWxseSBzdGFydCB0aGUgYXBwLlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAgICogQHBhcmFtIHtBcnJheS48UHJvZ3JhbVdyYXBwZXJDb25maWc+fSBwcm9ncmFtQ29uZmlncyBDb25maWd1cmF0aW9ucyBmb3IgcHJvZ3JhbSB3cmFwcGVycyB0aGF0XG4gICAqIHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZSBzdGFydGluZyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSB0ZXh0dXJlUGF0aHMgVGV4dHVyZSBpbWFnZXMgdGhhdCBzaG91bGQgYmUgcHJlLWNhY2hlZCBiZWZvcmVcbiAgICogc3RhcnRpbmcgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbi48U2NlbmU+fSBTY2VuZUltcGwgQSBjbGFzcyB0aGF0IGV4dGVuZHMgR2FtZVNjZW5lLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGluaXRpYWxpemUoY2FudmFzLCBwcm9ncmFtQ29uZmlncywgdGV4dHVyZVBhdGhzLCBTY2VuZUltcGwpIHtcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgICBjb25maWdDb250cm9sbGVyLmluaXRpYWxpemUoKTtcbiAgICB0aGlzLl9zZXRVcElucHV0KCk7XG5cbiAgICByZXR1cm4gc3VwZXIuaW5pdGlhbGl6ZShjYW52YXMsIHByb2dyYW1Db25maWdzLCB0ZXh0dXJlUGF0aHMsIFNjZW5lSW1wbCk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2lucHV0Q3RybC5kZXN0cm95KCk7XG4gIH1cblxuICAvKipcbiAgICogUnVucyB0aGUgYXBwLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbGl6ZS5cbiAgICpcbiAgICogQSBmZXcgdGhpbmdzIGhhcHBlbiBpZiB0aGlzIGlzIHJ1biBpbiBkZXYgbW9kZTpcbiAgICogLSBUaGUgZHJhdyBhbmQgdXBkYXRlIHN0ZXBzIG9mIGVhY2ggZnJhbWUgYXJlIHdyYXBwZWQgaW4gYSB0cnkvY2F0Y2ggYmxvY2suXG4gICAqIC0gVGhpcyBtZXRob2QgcmV0dXJucyBhIFByb21pc2UgdGhhdCByZWplY3RzIGlmIGFuIGVycm9yIGlzIHRocm93IGR1cmluZyBhbnkgdXBkYXRlIG9yIGRyYXdcbiAgICogICBzdGVwIGFuZCByZXNvbHZlcyB3aGVuIHRoaXMgY29udHJvbGxlciBoYXMgZmluaXNoZWQgKGN1cnJlbnRseSBuZXZlcilcbiAgICovXG4gIHJ1bigpIHtcbiAgICBoYW5kbGVQYWdlRm9jdXNDaGFuZ2UoaGFzRm9jdXMgPT4gdGhpcy5fb25QYWdlRm9jdXNDaGFuZ2UoaGFzRm9jdXMpKTtcbiAgICBzdXBlci5ydW4oKTtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIGFuaW1hdG9yLnBhdXNlKCk7XG4gIH1cblxuICB1bnBhdXNlKCkge1xuICAgIGFuaW1hdG9yLnVucGF1c2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gYW5pbWF0b3IuaXNQYXVzZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBoYXNGb2N1c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX29uUGFnZUZvY3VzQ2hhbmdlKGhhc0ZvY3VzKSB7XG4gICAgaWYgKCFoYXNGb2N1cykge1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFVwSW5wdXQoKSB7XG4gICAgdGhpcy5faW5wdXRDdHJsID0gbmV3IElucHV0Q29udHJvbGxlcigpO1xuICAgIHRoaXMuX2lucHV0Q3RybC5wcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcktleSgnU1BBQ0UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgc2NlbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb24uPFNjZW5lPn0gU2NlbmVJbXBsIEEgY2xhc3MgdGhhdCBleHRlbmRzIEdhbWVTY2VuZS5cbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVcFNjZW5lKFNjZW5lSW1wbCkge1xuICAgIHRoaXMuX3NjZW5lID0gbmV3IFNjZW5lSW1wbCh7XG4gICAgICBnbDogdGhpcy5fZ2wsXG4gICAgICBnZXRWaWV3TWF0cml4OiAoKSA9PiB0aGlzLl9nZXRWaWV3TWF0cml4KCksXG4gICAgICBnZXRQcm9qZWN0aW9uTWF0cml4OiAoKSA9PiB0aGlzLl9nZXRQcm9qZWN0aW9uTWF0cml4KCksXG4gICAgfSwgdGhpcywgdGhpcy5faW5wdXRDdHJsKTtcbiAgICByZXR1cm4gdGhpcy5fc2NlbmUuZ2V0SXNSZWFkeSgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fc2NlbmUucmVzZXQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUFzcGVjdFJhdGlvKCk7IC8vIFRPRE86IFRoaXMgc2hvdWxkIE5PVCBoYXBwZW4gaGVyZSBvciB1c2luZyB0aGUgZ2xVdGlsIGdsb2JhbHMuXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgR2FtZUNvbnRyb2xsZXIgfTtcbiIsImltcG9ydCB7IFNjZW5lIH0gZnJvbSAnZ3JhZngnO1xuaW1wb3J0IHsgQWFiYiB9IGZyb20gJ2xzbC1waHlzeCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHRoZSBvdmVyYWxsIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBTY2VuZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsR3JvdXBDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJQYXJhbXNcbiAgICogQHBhcmFtIHtHYW1lQ29udHJvbGxlcn0gZ2FtZUN0cmxcbiAgICogQHBhcmFtIHtJbnB1dENvbnRyb2xsZXJ9IGlucHV0Q3RybFxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVuZGVyRGlzdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgZ2FtZUN0cmwsIGlucHV0Q3RybCwgcmVuZGVyRGlzdGFuY2UpIHtcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJQYXJhbXMpO1xuXG4gICAgLy8gR2FtZVNjZW5lIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gR2FtZVNjZW5lKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IEdhbWVTY2VuZSBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nYW1lQ3RybCA9IGdhbWVDdHJsO1xuICAgIHRoaXMuX2lucHV0Q3RybCA9IGlucHV0Q3RybDtcbiAgICB0aGlzLl9yZW5kZXJEaXN0YW5jZSA9IHJlbmRlckRpc3RhbmNlO1xuICAgIHRoaXMuX2JvdW5kcyA9IEFhYmIuY3JlYXRlQXNVbmlmb3JtQXJvdW5kQ2VudGVyKFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApLCB0aGlzLl9yZW5kZXJEaXN0YW5jZSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmNlbnRlck9mVm9sdW1lID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIDApO1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cblxuICAvKiogQHJldHVybnMge0FhYmJ9ICovXG4gIGdldCBib3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgfVxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYm91bmRzLmNlbnRlck9mVm9sdW1lO1xuICB9XG4gIC8qKiBAcGFyYW0ge3ZlYzN9IHZhbHVlICovXG4gIHNldCBjZW50ZXJPZlZvbHVtZSh2YWx1ZSkge1xuICAgIHRoaXMuX2JvdW5kcy5zZXRBc1VuaWZvcm1Bcm91bmRDZW50ZXIodmFsdWUsIHRoaXMuX3JlbmRlckRpc3RhbmNlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBHYW1lU2NlbmUgfTtcbiIsImltcG9ydCB7a2V5Q29kZXN9IGZyb20gJ2dyYWZ4JztcblxuLy8gVE9ETzogRmlndXJlIG91dCBob3cgdG8gY2FwdHVyZTogdGFiLCBzcGFjZSwgZXNjYXBlLCBlbnRlcjsgcHJldmVudCB0aGVpciBkZWZhdWx0IGJlaGF2aW9ycyB3aGVuXG4vLyBsaXN0ZW5lcnMgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgZm9yIHRoZW0uXG5cbi8qKlxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHVzZXIgaW5wdXQuXG4gKi9cbmNsYXNzIElucHV0Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2tleURvd25MaXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLl9rZXlVcExpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzID0ge307XG4gICAgdGhpcy5fa2V5c1RvUHJldmVudERlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3IgPSB7fTtcblxuICAgIHRoaXMuX21haW5LZXlEb3duTGlzdGVuZXIgPSBldmVudCA9PiB0aGlzLl9oYW5kbGVLZXlEb3duKGV2ZW50KTtcbiAgICB0aGlzLl9tYWluS2V5VXBMaXN0ZW5lciA9IGV2ZW50ID0+IHRoaXMuX2hhbmRsZUtleVVwKGV2ZW50KTtcbiAgICB0aGlzLl9tYWluS2V5UHJlc3NMaXN0ZW5lciA9IGV2ZW50ID0+IHRoaXMuX2hhbmRsZUtleVByZXNzKGV2ZW50KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fbWFpbktleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX21haW5LZXlVcExpc3RlbmVyLCBmYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fbWFpbktleVByZXNzTGlzdGVuZXIsIGZhbHNlKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9tYWluS2V5RG93bkxpc3RlbmVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9tYWluS2V5VXBMaXN0ZW5lcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fbWFpbktleVByZXNzTGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgZ2l2ZW4ga2V5IGlzIHByZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIGFkZEtleURvd25MaXN0ZW5lcihrZXksIGNhbGxiYWNrKSB7XG4gICAgbGV0IGxpc3RlbmVyc0ZvcktleSA9IHRoaXMuX2tleURvd25MaXN0ZW5lcnNba2V5Q29kZXNba2V5XV07XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGxpc3RlbmVyIGxpc3QgaXMgaW5pdGlhbGl6ZWQgZm9yIHRoaXMga2V5LlxuICAgIGlmICghbGlzdGVuZXJzRm9yS2V5KSB7XG4gICAgICBsaXN0ZW5lcnNGb3JLZXkgPSBuZXcgU2V0KCk7XG4gICAgICB0aGlzLl9rZXlEb3duTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dID0gbGlzdGVuZXJzRm9yS2V5O1xuICAgIH1cblxuICAgIGxpc3RlbmVyc0ZvcktleS5hZGQoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgZ2l2ZW4ga2V5IGlzIGxpZnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgYWRkS2V5VXBMaXN0ZW5lcihrZXksIGNhbGxiYWNrKSB7XG4gICAgbGV0IGxpc3RlbmVyc0ZvcktleSA9IHRoaXMuX2tleVVwTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBsaXN0ZW5lciBsaXN0IGlzIGluaXRpYWxpemVkIGZvciB0aGlzIGtleS5cbiAgICBpZiAoIWxpc3RlbmVyc0ZvcktleSkge1xuICAgICAgbGlzdGVuZXJzRm9yS2V5ID0gbmV3IFNldCgpO1xuICAgICAgdGhpcy5fa2V5VXBMaXN0ZW5lcnNba2V5Q29kZXNba2V5XV0gPSBsaXN0ZW5lcnNGb3JLZXk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzRm9yS2V5LmFkZChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogVW4tcmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBnaXZlbiBrZXkgaXMgcHJlc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgcmVtb3ZlS2V5RG93bkxpc3RlbmVyKGtleSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9rZXlEb3duTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dLmRlbGV0ZShjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogVW4tcmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBnaXZlbiBrZXkgaXMgbGlmdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICByZW1vdmVLZXlVcExpc3RlbmVyKGtleSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9rZXlVcExpc3RlbmVyc1trZXlDb2Rlc1trZXldXS5kZWxldGUoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgZ2l2ZW4ga2V5IHRvIHByZXZlbnQgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvciB3aGVuIGl0IGlzIHByZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICovXG4gIHByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yS2V5KGtleSkge1xuICAgIHRoaXMuX2tleXNUb1ByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yW2tleUNvZGVzW2tleV1dID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbi1yZWdpc3RlcnMgdGhlIGdpdmVuIGtleSB0byBwcmV2ZW50IHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3Igd2hlbiBpdCBpcyBwcmVzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqL1xuICBhbGxvd0RlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3JLZXkoa2V5KSB7XG4gICAgZGVsZXRlIHRoaXMuX2tleXNUb1ByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yW2tleUNvZGVzW2tleV1dO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4ga2V5IGlzIGN1cnJlbnRseSBwcmVzc2VkIGRvd24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0tleUN1cnJlbnRseVByZXNzZWQoa2V5KSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY3VycmVudGx5UHJlc3NlZEtleXNba2V5Q29kZXNba2V5XV07XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgdGhlIGdpdmVuIGtleSBhcyBiZWluZyBwcmVzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5RG93bihldmVudCkge1xuICAgIC8vIElmIHRoaXMga2V5IHdhcyBhbHJlYWR5IGJlaW5nIHByZXNzZWQgZG93biwgdGhlbiBkbyBub3RoaW5nICh3aGVuIGEga2V5IGlzIGhlbGQgZG93biwgbWFueVxuICAgIC8vIGtleWRvd24gZXZlbnRzIGFyZSBhY3R1YWxseSB0cmlnZ2VyZWQpLlxuICAgIGlmICh0aGlzLl9jdXJyZW50bHlQcmVzc2VkS2V5c1tldmVudC5rZXlDb2RlXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE1hcmsgdGhpcyBrZXkgYXMgYmVpbmcgcHJlc3NlZCBkb3duLlxuICAgIHRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzW2V2ZW50LmtleUNvZGVdID0gdHJ1ZTtcblxuICAgIC8vIENhbGwgYW55IHJlZ2lzdGVyZWQga2V5LWRvd24gbGlzdGVuZXJzIGZvciB0aGlzIGtleS5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9rZXlEb3duTGlzdGVuZXJzW2V2ZW50LmtleUNvZGVdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBhbGwga2V5LXVwIGxpc3RlbmVycyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIGZvciB0aGUgZ2l2ZW4ga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlS2V5VXAoZXZlbnQpIHtcbiAgICAvLyBNYXJrIHRoaXMga2V5IGFzIG5vIGxvbmdlciBiZWluZyBwcmVzc2VkIGRvd24uXG4gICAgZGVsZXRlIHRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzW2V2ZW50LmtleUNvZGVdO1xuXG4gICAgLy8gQ2FsbCBhbnkgcmVnaXN0ZXJlZCBrZXktdXAgbGlzdGVuZXJzIGZvciB0aGlzIGtleS5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9rZXlVcExpc3RlbmVyc1tldmVudC5rZXlDb2RlXTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcigpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudHMgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvciBmb3Iga2V5cyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIHRvIHByZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgIGlmICh0aGlzLl9rZXlzVG9QcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcltldmVudC5rZXlDb2RlXSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtJbnB1dENvbnRyb2xsZXJ9O1xuIiwiaW1wb3J0IHtpc0luRGV2TW9kZSwgTW9kZWxDb250cm9sbGVyLCBTdGFuZGFyZE1vZGVsQ29udHJvbGxlciwgdmVjM1RvU3RyaW5nfSBmcm9tICdncmFmeCc7XG5pbXBvcnQge1BoeXNpY3NKb2IsIFBoeXNpY3NTdGF0ZX0gZnJvbSAnbHNsLXBoeXN4JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBub24tY29sbGlkYWJsZSBwaHlzaWNzLWJhc2VkIG1vZGVsLWNvbnRyb2xsZXIuXG4gKlxuICogSXQgdXNlcyBjb21wb3NpdGlvbiB0byBjb250cm9sIGFuIGluc3RhbmNlIG9mIGEgTW9kZWxDb250cm9sbGVyIGFsb25nIHdpdGggYSBjb3JyZXNwb25kaW5nXG4gKiBpbnN0YW5jZSBvZiBhIFBoeXNpY3NKb2IuXG4gKlxuICogQGltcGxlbWVudHMge01vZGVsQ29udHJvbGxlckludGVyZmFjZX1cbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBQaHlzaWNzTW9kZWxDb250cm9sbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxDb250cm9sbGVyfE1vZGVsQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyT3JQYXJhbXNcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifER5bmFtaWNzQ29uZmlnfSBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtc1xuICAgKiBAcGFyYW0ge1JlbmRlcmFibGVTaGFwZUNvbmZpZ30gW3NoYXBlUGFyYW1zXVxuICAgKiBAcGFyYW0ge0FycmF5LjxGb3JjZUFwcGxpZXI+fSBbZm9yY2VBcHBsaWVyc11cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlck9yUGFyYW1zLCBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcywgc2hhcGVQYXJhbXMsIGZvcmNlQXBwbGllcnMpIHtcbiAgICAvLyBQaHlzaWNzTW9kZWxDb250cm9sbGVyIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gUGh5c2ljc01vZGVsQ29udHJvbGxlcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBQaHlzaWNzTW9kZWxDb250cm9sbGVyIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMubW9kZWxDdHJsID0gbW9kZWxDb250cm9sbGVyT3JQYXJhbXMgaW5zdGFuY2VvZiBNb2RlbENvbnRyb2xsZXJcbiAgICAgICAgPyBtb2RlbENvbnRyb2xsZXJPclBhcmFtc1xuICAgICAgICA6IG5ldyBTdGFuZGFyZE1vZGVsQ29udHJvbGxlcihtb2RlbENvbnRyb2xsZXJPclBhcmFtcywgc2hhcGVQYXJhbXMpO1xuXG4gICAgaWYgKHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zIGluc3RhbmNlb2YgUGh5c2ljc0pvYikge1xuICAgICAgdGhpcy5waHlzaWNzSm9iID0gcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gbmV3IFBoeXNpY3NTdGF0ZShwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcyk7XG4gICAgICB0aGlzLnBoeXNpY3NKb2IgPSBuZXcgUGh5c2ljc0pvYihmb3JjZUFwcGxpZXJzLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fb3JpZ2luYWxQb3NpdGlvbiA9IHZlYzMuY2xvbmUodGhpcy5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbik7XG5cbiAgICB0aGlzLl9wYXRjaE1vZGVsQ29udHJvbGxlcih7XG4gICAgICAvKipcbiAgICAgICAqIFBhdGNoZXMgdGhlIE1vZGVsQ29udHJvbGxlcidzIHVwZGF0ZVRyYW5zZm9ybXMgbWV0aG9kIGluIG9yZGVyIHRvIGtlZXAgaXQncyBsb2NhbC10cmFuc2Zvcm1cbiAgICAgICAqIG1hdHJpeCBpbi1zeW5jIHdpdGggdGhlIFBoeXNpY3NKb2IncyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXG4gICAgICAgKi9cbiAgICAgIHVwZGF0ZVRyYW5zZm9ybXM6IChzdXBlclZlcnNpb24pID0+IHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBNb2RlbENvbnRyb2xsZXIncyBsb2NhbC10cmFuc2Zvcm0gbWF0cml4IGFjY29yZGluZyB0byB0aGUgUGh5c2ljc0pvYidzXG4gICAgICAgIC8vIGN1cnJlbnQgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uLlxuICAgICAgICBtYXQ0LmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUodGhpcy5tb2RlbEN0cmwuX2xvY2FsVHJhbnNmb3JtLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJPcmllbnRhdGlvbiwgdGhpcy5yZW5kZXJQb3NpdGlvbixcbiAgICAgICAgICAgIHRoaXMubW9kZWxDdHJsLnNjYWxlKTtcbiAgICAgICAgc3VwZXJWZXJzaW9uKCk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKGlzSW5EZXZNb2RlKSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyTmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZS5yZXBsYWNlKCdDb250cm9sbGVyJywgJycpO1xuICAgICAgY29uc29sZS5kZWJ1ZyhgJHtjb250cm9sbGVyTmFtZX0gY3JlYXRlZCBAICR7dmVjM1RvU3RyaW5nKHRoaXMucG9zaXRpb24pfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQYXRjaGVzIHRoZSBnaXZlbiBtZXRob2RzIG9uIHRoZSB1bmRlcmx5aW5nIE1vZGVsQ29udHJvbGxlci5cbiAgICpcbiAgICogVGhlIHBhdGNoZWQgbWV0aG9kcyBhcmUgcGFzc2VkIHRoZSBvcmlnaW5hbCBvciBcInN1cGVyXCIgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGFzIHRoZSBmaXJzdFxuICAgKiBhcmd1bWVudDsgdGhlIG5vcm1hbCBtZXRob2QgYXJndW1lbnRzIGFyZSBwcm92aWRlZCBhZnRlci5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3BhdGNoTW9kZWxDb250cm9sbGVyKHBhdGNoZXMpIHtcbiAgICBPYmplY3Qua2V5cyhwYXRjaGVzKS5mb3JFYWNoKChtZXRob2ROYW1lKSA9PiB7XG4gICAgICBjb25zdCBuZXdNZXRob2QgPSBwYXRjaGVzW21ldGhvZE5hbWVdO1xuICAgICAgY29uc3Qgc3VwZXJWZXJzaW9uID0gdGhpcy5tb2RlbEN0cmxbbWV0aG9kTmFtZV0uYmluZCh0aGlzLm1vZGVsQ3RybCk7XG4gICAgICB0aGlzLm1vZGVsQ3RybFttZXRob2ROYW1lXSA9IG5ld01ldGhvZC5iaW5kKHRoaXMubW9kZWxDdHJsLCBzdXBlclZlcnNpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGlzIGNvbnRyb2xsZXIncyBQaHlzaWNzSm9iKHMpIHdpdGggdGhlIHBoeXNpY3MgZW5naW5lLlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5tb2RlbEN0cmwucmVzZXQoKTtcbiAgICB0aGlzLnBoeXNpY3NKb2IucG9zaXRpb24gPSB0aGlzLl9vcmlnaW5hbFBvc2l0aW9uO1xuICAgIHRoaXMucGh5c2ljc0pvYi5maW5pc2goKTtcbiAgICB0aGlzLnBoeXNpY3NKb2Iuc3RhcnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVycyB0aGlzIGNvbnRyb2xsZXIncyBQaHlzaWNzSm9iKHMpIHdpdGggdGhlIHBoeXNpY3MgZW5naW5lLlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm1vZGVsQ3RybC5kZXN0cm95KCk7XG4gICAgdGhpcy5waHlzaWNzSm9iLmZpbmlzaCgpO1xuICAgIGlmIChpc0luRGV2TW9kZSkge1xuICAgICAgY29uc3QgY29udHJvbGxlck5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWUucmVwbGFjZSgnQ29udHJvbGxlcicsICcnKTtcbiAgICAgIGNvbnNvbGUuZGVidWcoYCR7Y29udHJvbGxlck5hbWV9IGRlc3Ryb3llZCBAICR7dmVjM1RvU3RyaW5nKHRoaXMucG9zaXRpb24pfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcGFyYW0ge3ZlYzN9IHZhbHVlICovXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgIHRoaXMucGh5c2ljc0pvYi5wb3NpdGlvbiA9IHZhbHVlO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlLnBvc2l0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7cXVhdH0gKi9cbiAgZ2V0IG9yaWVudGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlLm9yaWVudGF0aW9uO1xuICB9XG4gIC8vIEZJWE1FOiBDYW4gSSByZW1vdmUgdGhpcz9cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgdmVsb2NpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljc0pvYi5jdXJyZW50U3RhdGUudmVsb2NpdHk7XG4gIH1cblxuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCByZW5kZXJQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLnJlbmRlclN0YXRlLnBvc2l0aW9uO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7cXVhdH0gKi9cbiAgZ2V0IHJlbmRlck9yaWVudGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IucmVuZGVyU3RhdGUub3JpZW50YXRpb247XG4gIH1cbiAgLy8gRklYTUU6IENhbiBJIHJlbW92ZSB0aGlzP1xuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCByZW5kZXJWZWxvY2l0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLnJlbmRlclN0YXRlLnZlbG9jaXR5O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtEZWZhdWx0TW9kZWx9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldCBfbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxDdHJsLl9tb2RlbDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqL1xuICBnZXQgc2NhbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxDdHJsLnNjYWxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhpcyBtb2RlbCBjb250cm9sbGVyIGlzIHJlYWR5IGZvciB0aGUgYXBwIHRvIHJ1bi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBnZXRJc1JlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLm1vZGVsQ3RybC5nZXRJc1JlYWR5KCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIGxvY2FsIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCBsb2NhbFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEN0cmwubG9jYWxUcmFuc2Zvcm07XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vZGVsIHRyYW5zZm9ybSBtYXRyaXgsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bWF0NH1cbiAgICovXG4gIGdldCB3b3JsZFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEN0cmwud29ybGRUcmFuc2Zvcm07XG4gIH1cbiAgLyoqXG4gICAqIENhbGxzIHVwZGF0ZSwgdXBkYXRlVHJhbnNmb3JtcywgYW5kIHVwZGF0ZUNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGVTZWxmQW5kQ2hpbGRyZW4oY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMubW9kZWxDdHJsLnVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgfVxufVxuXG5leHBvcnQge1BoeXNpY3NNb2RlbENvbnRyb2xsZXJ9O1xuIiwiaW1wb3J0IHtGb2xsb3dDYW1lcmF9IGZyb20gJ2dyYWZ4JztcblxuLy8gVE9ETzogSWRlYWxseSwgdGhpcyB3b3VsZCB1c2UgdGhlIGJ1aWx0LWluIHBoeXNpY3MgZW5naW5lOyBob3dldmVyLCB3ZSBJIHRyaWVkIGludGVncmF0aW5nIGl0XG4vLyBiZWZvcmUsIEkgbm90aWNlZCBzb21lIGluc3RhYmlsaXR5IHdoZW4gbW92aW5nIGF0IGhpZ2ggc3BlZWRzLiBUaGlzIHByb2JhYmx5IGhhZCBzb21ldGhpbmcgdG8gZG9cbi8vIHdpdGggYWNjZXNzaW5nIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiB0aGUgdGFyZ2V0IHBvc2l0aW9uIChwcmV2aW91c1N0YXRlIHZzIGN1cnJlbnRTdGF0ZSB2c1xuLy8gcmVuZGVyU3RhdGUpZm9yIGZvcmNlL3Bvc2l0aW9uIGNhbGN1bGF0aW9uc1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIHNwcmluZy1iYXNlZCBmb2xsb3cgY2FtZXJhLlxuICpcbiAqIFRoaXMgY2FtZXJhIGlzIHBvc2l0aW9uZWQgYXQgYSByZWxhdGl2ZSwgZmxleGlibGUgZGlzdGFuY2UgYW5kIHJvdGF0aW9uIGZyb20gdGhlIG9ic2VydmVkIHRhcmdldFxuICogYW5kIGZvbGxvd3MgdGhlIHRhcmdldCdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiB3aXRoIGEgc3ByaW5nIGZvcmNlIHR5aW5nIHRoZSBjYW1lcmEgdG8gdGhlXG4gKiBkZXNpcmVkIHBvc2l0aW9uLlxuICpcbiAqIEEgZm9sbG93IGNhbWVyYSByb3RhdGVzIGluIGFsbCB0aHJlZSBkaW1lbnNpb25zOyBpdCBkb2VzIG5vdCBoYXZlIGEgZml4ZWQgcm9sbC5cbiAqL1xuY2xhc3MgU3ByaW5nRm9sbG93Q2FtZXJhIGV4dGVuZHMgRm9sbG93Q2FtZXJhIHtcbiAgLyoqXG4gICAqIElmIG9sZENhbWVyYSBpcyBnaXZlbiwgdGhlbiB0aGUgc3RhdGUgb2YgdGhlIG5ldyBjYW1lcmEgd2lsbCBiZSBpbml0aWFsaXplZCB0byBtYXRjaCB0aGF0IG9mXG4gICAqIHRoZSBvbGQgY2FtZXJhLiBUaGlzIGVuYWJsZXMgYSBzbW9vdGggdHJhbnNpdGlvbiB3aGVuIGNoYW5naW5nIGNhbWVyYXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FtZXJhVGFyZ2V0fSBjYW1lcmFUYXJnZXRcbiAgICogQHBhcmFtIHtGb2xsb3dDYW1lcmFDb25maWd9IGZvbGxvd0NhbWVyYVBhcmFtc1xuICAgKiBAcGFyYW0ge0NhbWVyYUNvbmZpZ30gY2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhfSBbb2xkQ2FtZXJhXVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIoY2FtZXJhVGFyZ2V0LCBmb2xsb3dDYW1lcmFQYXJhbXMsIGNhbWVyYVBhcmFtcywgb2xkQ2FtZXJhKTtcbiAgICAvLyBUaGVzZSBjb3VsZCBoYXZlIGJlZW4gc2V0IGluIF9tYXRjaE9sZENhbWVyYS5cbiAgICB0aGlzLl92ZWxvY2l0eSA9IHRoaXMuX3ZlbG9jaXR5IHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgdGhpcy5fYWNjZWxlcmF0aW9uID0gdGhpcy5fYWNjZWxlcmF0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuICAgIHZlYzMuY29weSh0aGlzLl9wb3NpdGlvbiwgdGhpcy5fZm9sbG93Q2FtZXJhUGFyYW1zLl9pbnRlbmRlZFRyYW5zbGF0aW9uRnJvbVRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICB0aGlzLl91cGRhdGVBY2NlbGVyYXRpb25WZWxvY2l0eUFuZFBvc2l0aW9uKGRlbHRhVGltZSk7XG4gICAgdGhpcy5fdXBkYXRlT3JpZW50YXRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUFjY2VsZXJhdGlvblZlbG9jaXR5QW5kUG9zaXRpb24oZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fdXBkYXRlQWNjZWxlcmF0aW9uKCk7XG4gICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oZGVsdGFUaW1lKTtcbiAgICB0aGlzLl91cGRhdGVWZWxvY2l0eShkZWx0YVRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3MgYWNjZWxlcmF0aW9uIHVzaW5nIEhvb2tlJ3MgbGF3IGFuZCBkcmFnLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUFjY2VsZXJhdGlvbigpIHtcbiAgICB0aGlzLl9hcHBseVNwcmluZ0FjY2VsZXJhdGlvbigpO1xuICAgIHRoaXMuX2FwcGx5U3ByaW5nRGFtcGluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3MgYWNjZWxlcmF0aW9uIHVzaW5nIEhvb2tlJ3MgbGF3LlxuICAgKlxuICAgKiBhY2NlbGVyYXRpb24gPSBkaXNwbGFjZW1lbnQgKiBjb2VmZmljaWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FwcGx5U3ByaW5nQWNjZWxlcmF0aW9uKCkge1xuICAgIGNvbnN0IGRpc3BsYWNlbWVudCA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zdWJ0cmFjdChkaXNwbGFjZW1lbnQsIHRoaXMuX2dldEludGVuZGVkUG9zaXRpb24oKSwgdGhpcy5fcG9zaXRpb24pO1xuICAgIHZlYzMuc2NhbGUodGhpcy5fYWNjZWxlcmF0aW9uLCBkaXNwbGFjZW1lbnQsIHRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcy5zcHJpbmdDb2VmZmljaWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hcHBseVNwcmluZ0RhbXBpbmcoKSB7XG4gICAgY29uc3QgZGFtcGluZyA9IHZlYzMuY3JlYXRlKCk7XG4gICAgdmVjMy5zY2FsZShkYW1waW5nLCB0aGlzLl92ZWxvY2l0eSwgLXRoaXMuX2ZvbGxvd0NhbWVyYVBhcmFtcy5kYW1waW5nQ29lZmZpY2llbnQpO1xuICAgIHZlYzMuYWRkKHRoaXMuX2FjY2VsZXJhdGlvbiwgdGhpcy5fYWNjZWxlcmF0aW9uLCBkYW1waW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIHZlbG9jaXR5IGFjY29yZGluZyB0byBpdHMgY3VycmVudCBhY2NlbGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlVmVsb2NpdHkoZGVsdGFUaW1lKSB7XG4gICAgdmVjMy5zY2FsZUFuZEFkZCh0aGlzLl92ZWxvY2l0eSwgdGhpcy5fdmVsb2NpdHksIHRoaXMuX2FjY2VsZXJhdGlvbiwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSdzIHBvc2l0aW9uIGFjY29yZGluZyB0byBpdHMgY3VycmVudCB2ZWxvY2l0eS5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVQb3NpdGlvbihkZWx0YVRpbWUpIHtcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbiwgdGhpcy5fdmVsb2NpdHksIGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW1lcmF9IG9sZENhbWVyYVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKSB7XG4gICAgc3VwZXIuX21hdGNoT2xkQ2FtZXJhKG9sZENhbWVyYSk7XG4gICAgaWYgKG9sZENhbWVyYSBpbnN0YW5jZW9mIFNwcmluZ0ZvbGxvd0NhbWVyYSkge1xuICAgICAgdGhpcy5fdmVsb2NpdHkgPSB0aGlzLl92ZWxvY2l0eSB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgICAgdGhpcy5fYWNjZWxlcmF0aW9uID0gdGhpcy5fYWNjZWxlcmF0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgICB2ZWMzLmNvcHkodGhpcy5fdmVsb2NpdHksIG9sZENhbWVyYS5fdmVsb2NpdHkpO1xuICAgICAgdmVjMy5jb3B5KHRoaXMuX2FjY2VsZXJhdGlvbiwgb2xkQ2FtZXJhLl9hY2NlbGVyYXRpb24pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge1NwcmluZ0ZvbGxvd0NhbWVyYX07XG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy93YWxsLWNvbGxpZGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvd2FsbC1jb250cm9sbGVyJztcbiIsImltcG9ydCB7IEFhYmIgfSBmcm9tICdsc2wtcGh5c3gnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIHdhbGwgb3IgZmxvb3IuXG4gKlxuICogVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgY2xhc3MgdGhhdCBleHRlbmRzIEFhYmIuXG4gKi9cbmNsYXNzIFdhbGwgZXh0ZW5kcyBBYWJiIHtcbiAgLyoqXG4gICAqIC0gSWYgdGhlIHggcGFyYW1ldGVyIGlzIGdpdmVuLCB0aGVuIGEgd2FsbCB3aWxsIGJlIGNvbnN0cnVjdGVkIGFsb25nIHRoZSB5LXogcGxhbmUgd2l0aCBpdHNcbiAgICogc3VyZmFjZSBhdCB0aGUgeCBjb29yZGluYXRlLiBUaGUgeSBhbmQgeiBwYXJhbWV0ZXJzIGFyZSBoYW5kbGVkIHNpbWlsYXJseS5cbiAgICogLSBPbmx5IG9uZSBvZiB0aGUgeC95L3ogcGFyYW1ldGVycyBzaG91bGQgYmUgc3BlY2lmaWVkLlxuICAgKiAtIElmIGlzT3Blbk9uUG9zaXRpdmVTaWRlIGlzIHRydWUsIHRoZW4gdGhlIHdhbGwgd2lsbCBiZSBvcGVuIHRvd2FyZCB0aGUgcG9zaXRpdmUgZGlyZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1dhbGxQYXJhbXN9IHdhbGxQYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdhbGxQYXJhbXMpIHtcbiAgICBsZXQgbWluWDtcbiAgICBsZXQgbWluWTtcbiAgICBsZXQgbWluWjtcbiAgICBsZXQgbWF4WDtcbiAgICBsZXQgbWF4WTtcbiAgICBsZXQgbWF4WjtcblxuICAgIGxldCB7IHgsIHksIHosIGlzT3Blbk9uUG9zaXRpdmVTaWRlLCB0aGlja25lc3MsIGhhbGZTaWRlTGVuZ3RoIH0gPSB3YWxsUGFyYW1zO1xuICAgIHRoaWNrbmVzcyA9IHRoaWNrbmVzcyB8fCA4MDAwMDtcbiAgICBoYWxmU2lkZUxlbmd0aCA9IGhhbGZTaWRlTGVuZ3RoIHx8IDgwMDAwO1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGlzT3Blbk9uUG9zaXRpdmVTaWRlKSB7XG4gICAgICAgIG1pblggPSB4IC0gdGhpY2tuZXNzO1xuICAgICAgICBtYXhYID0geDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtaW5YID0geDtcbiAgICAgICAgbWF4WCA9IHggKyB0aGlja25lc3M7XG4gICAgICB9XG4gICAgICBtaW5ZID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWluWiA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFkgPSBoYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFogPSBoYWxmU2lkZUxlbmd0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHkgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoaXNPcGVuT25Qb3NpdGl2ZVNpZGUpIHtcbiAgICAgICAgbWluWSA9IHkgLSB0aGlja25lc3M7XG4gICAgICAgIG1heFkgPSB5O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1pblkgPSB5O1xuICAgICAgICBtYXhZID0geSArIHRoaWNrbmVzcztcbiAgICAgIH1cbiAgICAgIG1pblggPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtaW5aID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WCA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WiA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChpc09wZW5PblBvc2l0aXZlU2lkZSkge1xuICAgICAgICBtaW5aID0geiAtIHRoaWNrbmVzcztcbiAgICAgICAgbWF4WiA9IHo7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbWluWiA9IHo7XG4gICAgICAgIG1heFogPSB6ICsgdGhpY2tuZXNzO1xuICAgICAgfVxuICAgICAgbWluWCA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1pblkgPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhYID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhZID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgfVxuXG4gICAgc3VwZXIobWluWCwgbWluWSwgbWluWiwgbWF4WCwgbWF4WSwgbWF4WiwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3ZlYzN9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0IHNjYWxlKCkge1xuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIHRoaXMuX3NjYWxlID0gdGhpcy5fc2NhbGUgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnNldCh0aGlzLl9zY2FsZSwgdGhpcy5yYW5nZVgsIHRoaXMucmFuZ2VZLCB0aGlzLnJhbmdlWik7XG4gICAgcmV0dXJuIHRoaXMuX3NjYWxlO1xuICB9XG59XG5cbmV4cG9ydCB7IFdhbGwgfTtcbiIsImltcG9ydCB7U3RhbmRhcmRNb2RlbENvbnRyb2xsZXJ9IGZyb20gJ2dyYWZ4JztcbmltcG9ydCB7Y29sbGlkYWJsZVN0b3JlfSBmcm9tICdsc2wtcGh5c3gnO1xuXG5pbXBvcnQge1dhbGx9IGZyb20gJy4vd2FsbC1jb2xsaWRhYmxlJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlZmluZXMgYSB3YWxsLWNvbnRyb2xsZXIuXG4gKi9cbmNsYXNzIFdhbGxDb250cm9sbGVyIGV4dGVuZHMgU3RhbmRhcmRNb2RlbENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlclBhcmFtc1xuICAgKiBAcGFyYW0ge1dhbGxQYXJhbXN9IHdhbGxQYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlclBhcmFtcywgd2FsbFBhcmFtcykge1xuICAgIGNvbnN0IHNoYXBlUGFyYW1zID0ge1xuICAgICAgc2hhcGVJZDogJ0NVQkUnLFxuICAgICAgaXNVc2luZ1NwaGVyaWNhbE5vcm1hbHM6IHdhbGxQYXJhbXMudXNlU21vb3RoU2hhZGluZyxcbiAgICAgIHRleHR1cmVTcGFuOiB3YWxsUGFyYW1zLnRleHR1cmVTcGFuXG4gICAgfTtcblxuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcywgc2hhcGVQYXJhbXMpO1xuXG4gICAgdGhpcy5fY29sbGlkYWJsZSA9IG5ldyBXYWxsKHdhbGxQYXJhbXMpO1xuICAgIGNvbGxpZGFibGVTdG9yZS5yZWdpc3RlckNvbGxpZGFibGUodGhpcy5fY29sbGlkYWJsZSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICAvLyBSZS1zaXplIGFuZCByZS1wb3NpdGlvbiB0aGUgd2FsbC5cbiAgICBtYXQ0LmZyb21UcmFuc2xhdGlvbih0aGlzLl9sb2NhbFRyYW5zZm9ybSwgdGhpcy5fY29sbGlkYWJsZS5jZW50ZXJPZlZvbHVtZSk7XG4gICAgbWF0NC5zY2FsZSh0aGlzLl9sb2NhbFRyYW5zZm9ybSwgdGhpcy5fbG9jYWxUcmFuc2Zvcm0sIHRoaXMuX2NvbGxpZGFibGUuc2NhbGUpO1xuXG4gICAgc3VwZXIucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGlzIGlzIGRvbmUgYmVpbmcgdXNlZCwgYW5kIGlzIGJlaW5nIGRlc3Ryb3llZCBmcm9tIG1lbW9yeS5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIGNvbGxpZGFibGVTdG9yZS51bnJlZ2lzdGVyQ29sbGlkYWJsZSh0aGlzLl9jb2xsaWRhYmxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7fVxufVxuXG5leHBvcnQge1dhbGxDb250cm9sbGVyfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBXYWxsUGFyYW1zXG4gKiBAcHJvcGVydHkge251bWJlcn0geFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzT3Blbk9uUG9zaXRpdmVTaWRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGhpY2tuZXNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGFsZlNpZGVMZW5ndGhcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdXNlU21vb3RoU2hhZGluZ1xuICogQHByb3BlcnR5IHtUZXh0dXJlU3Bhbn0gdGV4dHVyZVNwYW5cbiAqL1xuIl19"}