{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/grafx/index.js","node_modules/lsl-animatex/index.js","node_modules/lsl-animatex/src/animation-job.js","node_modules/lsl-animatex/src/animator.js","node_modules/lsl-animatex/src/frame-latency-profiler.js","node_modules/lsl-animatex/src/persistent-animation-job.js","node_modules/lsl-animatex/src/transient-animation-job.js","node_modules/lsl-animatex/src/util.js","src/index.js","src/src/collidable-physics-model-controller.js","src/src/config-controller.js","src/src/game-controller.js","src/src/game-scene.js","src/src/input-controller.js","src/src/physics-model-controller.js","src/src/spring-follow-camera.js","src/wall/index.js","src/wall/src/wall-collidable.js","src/wall/src/wall-controller.js"],"names":[],"mappings":"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","file":"gamex.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports = {}; // FIXME: Point this to dist\n","export * from './src/animation-job';\nexport * from './src/animator';\nexport * from './src/frame-latency-profiler';\nexport * from './src/persistent-animation-job';\nexport * from './src/transient-animation-job';\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","/**\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\n * conveniently accessible via this single module.\n */\n\nexport * from 'lsl-animatex';\nexport * from 'grafx';\nexport * from 'lsl-physx';\n\nexport * from './src/collidable-physics-model-controller';\nexport * from './src/config-controller';\nexport * from './src/game-controller';\nexport * from './src/game-scene';\nexport * from './src/input-controller';\nexport * from './src/physics-model-controller';\nexport * from './src/spring-follow-camera';\n\nexport * from './wall';\n","import {PhysicsModelController} from './physics-model-controller';\nimport {CollidablePhysicsJob, PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a collidable physics-based model-controller.\n *\n * @abstract\n */\nclass CollidablePhysicsModelController extends PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {CollidablePhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} forceAppliers\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    super(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers);\n\n    if (physicsJobOrDynamicsParams instanceof CollidablePhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new CollidablePhysicsJob(shapeParams, state, forceAppliers, this,\n          collision => this.handleCollision(collision));\n    }\n\n    // CollidablePhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === CollidablePhysicsModelController) {\n      throw new TypeError('Cannot construct CollidablePhysicsModelController instances directly');\n    }\n  }\n\n  /**\n   * This callback is triggered in response to a collision.\n   *\n   * @param {Collision} collision\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\n   * @abstract\n   */\n  handleCollision(collision) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {CollidablePhysicsModelController};\n\n/**\n * @typedef {RenderableShapeConfig&CollidableShapeConfig} RenderableAndCollidableShapeConfig\n */\n","import {\n  createHslColorString,\n  debounce,\n  find,\n  getViewportSize,\n  hslToHsv,\n  hsvToHsl,\n  hslToRgb,\n  isInt,\n} from 'grafx';\n\nconst _SMALL_SCREEN_WIDTH_THRESHOLD = 800;\n\n/**\n * This top-level ConfigController class wraps the dat.GUI library and provides higher-level\n * configuration functionality.\n *\n * ## Configuring Parameters\n *\n * Consumers of this module will need to specify configuration parameters with a certain form. For\n * each property on a config object, an item will be created in the corresponding dat.GUI folder.\n * The type and specifics of the menu item depends on the value assigned to the config property:\n *\n * - Toggle item:\n *   - Created if the config property is a boolean.\n * - Trigger item:\n *   - Created if the config property is a function.\n * - Slider item:\n *   - Created if the config property is an object with 'min', 'max', and 'start' properties.\n *   - When the config object is parsed, this initial config object will be removed and replaced\n *     with only the current actual value.\n *   - The intervals of the slider are automatically determined by the dat.GUI library and depend on\n *     the type of the 'min'/'max'/'value' properties (int vs float). See the dat.GUI documentation\n *     for more info.\n * - Color item:\n *   - Created if the config property is an object with 'h'/'s'/'l' properties.\n *   - When the config object is parsed, this initial config object will be replaced with a new\n *     object that has 'h'/'s'/'v' properties and an 'hsl' property, which is an object containing\n *     'h'/'s'/'l' properties and a 'colorString' property that contains a valid color string to\n *     assign to a CSS property.\n *   - All 'h'/'s'/'l' and 'h'/'s'/'v' values should be in the range of [0,1].\n * - Text item:\n *   - Created if the config property is a String.\n */\nclass ConfigController {\n  constructor() {\n    this._datGuiWidth = 300;\n    this._gui = null;\n  }\n\n  /**\n   * Sets up the dat.GUI controller.\n   */\n  initialize() {\n    // Create the dat.GUI menu.\n    this._createGuiIfNotCreated(true);\n    this._gui.width = this._datGuiWidth;\n\n    // Automatically close the menu on smaller screens.\n    // TODO: Check that the menu is closed initially (with no resize event) if the page loads at too small a width.\n    const debouncedResize = debounce(() => this._onResize(), 300);\n    window.addEventListener('resize', debouncedResize, false);\n  }\n\n  /**\n   * Clears the dat.GUI menu.\n   */\n  destroy() {\n    this._gui.destroy();\n  }\n\n  /**\n   * @param {boolean} isGuiVisible\n   * @private\n   */\n  _createGuiIfNotCreated(isGuiVisible) {\n    if (this._gui) {\n      if (isGuiVisible) {\n        this._gui.domElement.style.display = 'block';\n      }\n    } else {\n      this._gui = new dat.GUI();\n      if (!isGuiVisible) {\n        this._gui.domElement.style.display = 'none';\n      }\n    }\n  }\n\n  /**\n   * Creates a folder with the given configuration underneath the given parent folder.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @param {dat.gui.GUI} [parentFolder] If not given, the folder is created at the top level.\n   * @param {Object} [onChangeListeners] A map from labels to on-change handlers.\n   */\n  createFolder(folderConfig, parentFolder, onChangeListeners) {\n    this._createGuiIfNotCreated(false);\n\n    parentFolder = parentFolder || this._gui;\n\n    // TODO: Copy the original config and store it somehow on the dat.GUI menu item? This is important for resetting configs later (from the other controller).\n    const folder = parentFolder.addFolder(folderConfig.label);\n\n    folderConfig.folder = folder;\n\n    this._createItems(folderConfig);\n\n    // Add listeners from the config file.\n    this._addOnChangeListeners(folderConfig, folderConfig.onChangeListeners, true);\n\n    // Add listeners from the caller of this method.\n    this._addOnChangeListeners(folderConfig, onChangeListeners, false);\n\n    if (folderConfig.isOpen) {\n      folder.open();\n    }\n\n    // Recursively create descendant folders.\n    if (folderConfig.childFolders) {\n      this.createFolders(folderConfig.childFolders, folder);\n    }\n  }\n\n  /**\n   * @param {Array.<MenuFolderConfig>} folderConfigs\n   * @param {dat.gui.GUI} parentFolder\n   */\n  createFolders(folderConfigs, parentFolder) {\n    folderConfigs.forEach(folderConfig => this.createFolder(folderConfig, parentFolder));\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {string} label\n   * @param {Function} callback\n   */\n  addOnChangeListener(folderConfig, label, callback) {\n    if (folderConfig.items[label]) {\n      folderConfig.items[label].onChangeListeners.push(callback);\n    } else {\n      console.warn('Attempting to add on-change listener for a non-existent config', label,\n          folderConfig);\n    }\n  }\n\n  hideMenu() {\n    console.info('Hide Menu clicked');\n    document.querySelector('body > .dg').style.display = 'none';\n  }\n\n  /**\n   * NOTE: This is not idempotent. This modifies the original folderConfig.config object.\n   *\n   * @param {MenuFolderConfig} folderConfig\n   * @private\n   */\n  _createItems(folderConfig) {\n    folderConfig.items = {};\n\n    Object.keys(folderConfig.config).forEach((itemConfigKey) => {\n      // Do not expose internal configurations to the user.\n      if (itemConfigKey.substr(0, 1) === '_') return;\n\n      const itemConfig = folderConfig.config[itemConfigKey];\n\n      // Determine which method to use to create the menu item.\n      const pair = find([\n        [ConfigController.isToggleItem, ConfigController._createToggleItem],\n        [ConfigController.isTriggerItem, ConfigController._createTriggerItem],\n        [ConfigController.isSliderItem, ConfigController._createSliderItem],\n        [ConfigController.isNumberItem, ConfigController._createNumberItem],\n        [ConfigController.isHslColorItem, ConfigController._createHslColorItem],\n        [ConfigController.isTextItem, ConfigController._createTextItem],\n        [ConfigController.isStringSelectorItem, ConfigController._createStringSelectorItem],\n        [ConfigController.isVec3NumberItem, ConfigController._createVec3NumberItems],\n        [ConfigController.isVec3SliderItem, ConfigController._createVec3SliderItems],\n      ], (pair) => pair[0](itemConfig));\n      if (!pair) {\n        console.warn('Unrecognized config type', itemConfig);\n        return;\n      }\n      const menuItemCreator = pair[1];\n\n      // Create the actual dat.GUI menu item and save a reference to it.\n      const menuItemData = menuItemCreator.call(this, folderConfig.config,\n          itemConfigKey, itemConfig, folderConfig.folder);\n      if (menuItemData instanceof Array) {\n        const parentMenuItemData = {onChangeListeners: []};\n\n        // Record the individual sub-items.\n        menuItemData.forEach(data => {\n          folderConfig.items[data.label] = data;\n\n          // Hook up the (parent item's) onChange listeners.\n          data.menuItem.onChange(() => {\n            data.onChangeListeners.forEach(callback => callback());\n            parentMenuItemData.onChangeListeners.forEach(callback => callback());\n          });\n        });\n\n        // Record the parent item.\n        folderConfig.items[itemConfigKey] = parentMenuItemData;\n      } else {\n        folderConfig.items[itemConfigKey] = menuItemData;\n\n        // Hook up the onChange listeners.\n        menuItemData.menuItem.onChange(() =>\n            menuItemData.onChangeListeners.forEach(callback => callback()));\n      }\n    });\n  }\n\n  /**\n   * @param {MenuFolderConfig} folderConfig\n   * @param {Object} onChangeListeners A map from labels to on-change event handlers.\n   * @param {boolean} makeInitialCallToListeners\n   * @private\n   */\n  _addOnChangeListeners(folderConfig, onChangeListeners, makeInitialCallToListeners) {\n    if (onChangeListeners) {\n      Object.keys(onChangeListeners).forEach(key => {\n        const onChangeHandler = onChangeListeners[key];\n        configController.addOnChangeListener(folderConfig, key, onChangeHandler);\n        if (makeInitialCallToListeners) {\n          onChangeHandler();\n        }\n      });\n    }\n  }\n\n  /**\n   * Close the menu on smaller screens.\n   */\n  _onResize() {\n    setTimeout(() => {\n      if (getViewportSize() < _SMALL_SCREEN_WIDTH_THRESHOLD) {\n        this._gui.close();\n      }\n    }, 10);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {ToggleMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createToggleItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TriggerMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTriggerItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createSliderItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const listeners = isInt(itemConfig.min) && isInt(itemConfig.max)\n        ? [ConfigController._truncateToInt.bind(null, configObject, label)]\n        : [];\n\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.min, itemConfig.max),\n      onChangeListeners: listeners\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createNumberItem(configObject, label, itemConfig, folder) {\n    // Create the menu item.\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * This is used to force int sliders to only produce ints.\n   *\n   * This shouldn't be needed, but dat.GUI doesn't seem to be behaving consistently.\n   *\n   * @param configObject\n   * @param label\n   * @private\n   */\n  static _truncateToInt(configObject, label) {\n    configObject[label] = parseInt(configObject[label]);\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {HslColorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createHslColorItem(configObject, label, itemConfig, folder) {\n    // Create the property that the menu item will use.\n    itemConfig = hslToHsv(itemConfig);\n    configObject[label] = itemConfig;\n\n    // Set up a listener that will keep derived HSL values in sync with the native HSV values used\n    // by the dat.GUI menu item.\n    const calculateHslValues = () => {\n      const hsl = hsvToHsl(configObject[label]);\n      const rgb = hslToRgb(hsl);\n      itemConfig.hsl = hsl;\n      itemConfig.rgb = rgb;\n      itemConfig.rgbVec = vec3.fromValues(rgb.r, rgb.g, rgb.b);\n      itemConfig.hsl.colorString = createHslColorString(hsl);\n    };\n    calculateHslValues();\n\n    // Create the menu item.\n    return {\n      menuItem: folder.addColor(configObject, label),\n      onChangeListeners: [calculateHslValues]\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {TextMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createTextItem(configObject, label, itemConfig, folder) {\n    return {\n      menuItem: folder.add(configObject, label),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3NumberMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3NumberItems(configObject, label, itemConfig, folder) {\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(itemConfig, configObject[xLabel], configObject[yLabel],\n        configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = itemConfig[index];\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {Vec3SliderMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {Array.<MenuItemData>}\n   * @private\n   */\n  static _createVec3SliderItems(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    const xLabel = `${label}X`;\n    const yLabel = `${label}Y`;\n    const zLabel = `${label}Z`;\n\n    // Set up a listener that will keep the derived vec3 in sync with its individual coordinates.\n    const _updateVec3 = () => vec3.set(configObject[label], configObject[xLabel],\n        configObject[yLabel], configObject[zLabel]);\n\n    return [\n      [0, xLabel],\n      [1, yLabel],\n      [2, zLabel]\n    ].map(indexAndLabel => {\n      const index = indexAndLabel[0];\n      const label = indexAndLabel[1];\n      const start = itemConfig.start[index];\n      const min = itemConfig.min[index];\n      const max = itemConfig.max[index];\n\n      // Create the individual vec3 coordinate property and initial value.\n      configObject[label] = start;\n\n      // Create the individual vec3 coordinate menu item.\n      return {\n        menuItem: folder.add(configObject, label, min, max),\n        onChangeListeners: [_updateVec3],\n        label: label\n      };\n    });\n  }\n\n  /**\n   * @param {Object} configObject\n   * @param {string} label\n   * @param {StringSelectorMenuItemConfig} itemConfig\n   * @param {dat.gui.GUI} folder\n   * @returns {MenuItemData}\n   * @private\n   */\n  static _createStringSelectorItem(configObject, label, itemConfig, folder) {\n    // Replace the original itemConfig on the configObject with the actual starting value.\n    configObject[label] = itemConfig.start;\n\n    return {\n      menuItem: folder.add(configObject, label, itemConfig.options),\n      onChangeListeners: []\n    };\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isToggleItem(itemConfig) {\n    return typeof itemConfig === 'boolean';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTriggerItem(itemConfig) {\n    return typeof itemConfig === 'function';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isSliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'number' &&\n        typeof itemConfig.min === 'number' &&\n        typeof itemConfig.max === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isNumberItem(itemConfig) {\n    return typeof itemConfig === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isHslColorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.h === 'number' &&\n        typeof itemConfig.s === 'number' &&\n        typeof itemConfig.l === 'number';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isTextItem(itemConfig) {\n    return typeof itemConfig === 'string';\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isStringSelectorItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        typeof itemConfig.start === 'string' &&\n        itemConfig.options instanceof Array;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3NumberItem(itemConfig) {\n    return (itemConfig instanceof Float32Array || itemConfig instanceof Array) &&\n        itemConfig.length === 3;\n  }\n\n  /**\n   * @param {MenuItemConfig} itemConfig\n   * @returns {boolean}\n   */\n  static isVec3SliderItem(itemConfig) {\n    return typeof itemConfig === 'object' &&\n        ConfigController.isVec3NumberItem(itemConfig.start) &&\n        ConfigController.isVec3NumberItem(itemConfig.min) &&\n        ConfigController.isVec3NumberItem(itemConfig.max);\n  }\n}\n\nconst configController = new ConfigController();\n\nexport {configController};\n\n/**\n * @typedef {Object} MenuItemData\n * @property {dat.gui.controller} menuItem The actual dat.GUI menu item.\n * @property {Array.<Function>} onChangeListeners onChange listeners for the menu item.\n * @property {string} [label] The label used for the menu item.\n */\n\n/**\n * @typedef {Object} MenuFolderConfig\n * @property {string} label\n * @property {Object} config A map from labels to MenuItemConfigs. Any config item whose label\n * starts with '_' will be treated as internal and will not be exposed to the user.\n * @property {boolean} [isOpen=false]\n * @property {Object} [onChangeListeners] A map from labels to on-change event handlers.\n * @property {Array.<MenuFolderConfig>} [childFolders]\n * @property {Object} [items] A map from labels to MenuItemDatas.\n * @property {dat.gui.GUI} [folder] Created and added by the ConfigController after registering the\n * folder.\n */\n\n/**\n * @typedef {ToggleMenuItemConfig|TriggerMenuItemConfig|SliderMenuItemConfig|NumberMenuItemConfig|HslColorMenuItemConfig|TextMenuItemConfig|StringSelectorMenuItemConfig|Vec3NumberMenuItemConfig|Vec3SliderMenuItemConfig} MenuItemConfig\n */\n\n/**\n * @typedef {boolean} ToggleMenuItemConfig\n */\n\n/**\n * @typedef {Function} TriggerMenuItemConfig\n */\n\n/**\n * @typedef {Object} SliderMenuItemConfig\n * @property {number} start\n * @property {number} min\n * @property {number} max\n */\n\n/**\n * @typedef {number} NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} HslColorMenuItemConfig\n * @property {number} h A value from 0 to 1.\n * @property {number} s A value from 0 to 1.\n * @property {number} l A value from 0 to 1.\n */\n\n/**\n * @typedef {string} TextMenuItemConfig\n */\n\n/**\n * @typedef {Object} StringSelectorMenuItemConfig\n * @property {string} start\n * @property {Array.<String>} options\n */\n\n/**\n * @typedef {vec3} Vec3NumberMenuItemConfig\n */\n\n/**\n * @typedef {Object} Vec3SliderMenuItemConfig\n * @property {vec3} start\n * @property {vec3} min\n * @property {vec3} max\n */\n","import { animator } from 'lsl-animatex';\nimport {\n  GrafxController,\n  handlePageFocusChange,\n}\nfrom 'grafx';\nimport { configController } from './config-controller';\nimport { InputController } from './input-controller';\n\n/**\n * This top-level Controller class initializes and runs the rest of the app.\n */\nclass GameController extends GrafxController {\n  constructor() {\n    super();\n\n    this.isGameOver = true;\n    this._inputCtrl = null;\n  }\n\n  /**\n   * Initializes the app. After this completes successfully, call run to actually start the app.\n   *\n   * @param {HTMLCanvasElement} canvas\n   * @param {Array.<ProgramWrapperConfig>} programConfigs Configurations for program wrappers that\n   * should be pre-cached before starting the rest of the app.\n   * @param {Array.<String>} texturePaths Texture images that should be pre-cached before\n   * starting the rest of the app.\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   */\n  initialize(canvas, programConfigs, texturePaths, SceneImpl) {\n    this._canvas = canvas;\n\n    configController.initialize();\n    this._setUpInput();\n\n    return super.initialize(canvas, programConfigs, texturePaths, SceneImpl);\n  }\n\n  destroy() {\n    this._inputCtrl.destroy();\n  }\n\n  /**\n   * Runs the app. This should be called after initialize.\n   *\n   * A few things happen if this is run in dev mode:\n   * - The draw and update steps of each frame are wrapped in a try/catch block.\n   * - This method returns a Promise that rejects if an error is throw during any update or draw\n   *   step and resolves when this controller has finished (currently never)\n   */\n  run() {\n    handlePageFocusChange(hasFocus => this._onPageFocusChange(hasFocus));\n    super.run();\n  }\n\n  pause() {\n    animator.pause();\n  }\n\n  unpause() {\n    animator.unpause();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused() {\n    return animator.isPaused;\n  }\n\n  /**\n   * @param {boolean} hasFocus\n   * @private\n   */\n  _onPageFocusChange(hasFocus) {\n    if (!hasFocus) {\n      this.pause();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _setUpInput() {\n    this._inputCtrl = new InputController();\n    this._inputCtrl.preventDefaultBrowserBehaviorForKey('SPACE');\n  }\n\n  /**\n   * Initializes the scene.\n   *\n   * @param {Function.<Scene>} SceneImpl A class that extends GameScene.\n   * @returns {Promise}\n   * @protected\n   */\n  _setUpScene(SceneImpl) {\n    this._scene = new SceneImpl({\n      gl: this._gl,\n      getViewMatrix: () => this._getViewMatrix(),\n      getProjectionMatrix: () => this._getProjectionMatrix(),\n    }, this, this._inputCtrl);\n    return this._scene.getIsReady().then(() => {\n      this._scene.reset();\n      this._updateAspectRatio(); // TODO: This should NOT happen here or using the glUtil globals.\n    });\n  }\n}\n\nexport { GameController };\n","import { Scene } from 'grafx';\nimport { Aabb } from 'lsl-physx';\n\n/**\n * This class handles the overall scene.\n *\n * @abstract\n */\nclass GameScene extends Scene {\n  /**\n   * @param {ModelGroupControllerConfig} modelControllerParams\n   * @param {GameController} gameCtrl\n   * @param {InputController} inputCtrl\n   * @param {number} renderDistance\n   */\n  constructor(modelControllerParams, gameCtrl, inputCtrl, renderDistance) {\n    super(modelControllerParams);\n\n    // GameScene is an abstract class. It should not be instantiated directly.\n    if (new.target === GameScene) {\n      throw new TypeError('Cannot construct GameScene instances directly');\n    }\n\n    this._gameCtrl = gameCtrl;\n    this._inputCtrl = inputCtrl;\n    this._renderDistance = renderDistance;\n    this._bounds = Aabb.createAsUniformAroundCenter(\n      vec3.fromValues(0, 0, 0), this._renderDistance);\n  }\n\n  reset() {\n    this.centerOfVolume = vec3.fromValues(0, 0, 0);\n    super.reset();\n  }\n\n  /** @returns {Aabb} */\n  get bounds() {\n    return this._bounds;\n  }\n  /** @returns {vec3} */\n  get centerOfVolume() {\n    return this._bounds.centerOfVolume;\n  }\n  /** @param {vec3} value */\n  set centerOfVolume(value) {\n    this._bounds.setAsUniformAroundCenter(value, this._renderDistance);\n  }\n}\n\nexport { GameScene };\n","import {keyCodes} from 'grafx';\n\n// TODO: Figure out how to capture: tab, space, escape, enter; prevent their default behaviors when\n// listeners have been registered for them.\n\n/**\n * This class handles user input.\n */\nclass InputController {\n  constructor() {\n    this._keyDownListeners = {};\n    this._keyUpListeners = {};\n    this._currentlyPressedKeys = {};\n    this._keysToPreventDefaultBrowserBehaviorFor = {};\n\n    this._mainKeyDownListener = event => this._handleKeyDown(event);\n    this._mainKeyUpListener = event => this._handleKeyUp(event);\n    this._mainKeyPressListener = event => this._handleKeyPress(event);\n\n    window.addEventListener('keydown', this._mainKeyDownListener, false);\n    window.addEventListener('keyup', this._mainKeyUpListener, false);\n    window.addEventListener('keypress', this._mainKeyPressListener, false);\n  }\n\n  destroy() {\n    window.removeEventListener('keydown', this._mainKeyDownListener);\n    window.removeEventListener('keyup', this._mainKeyUpListener);\n    window.removeEventListener('keypress', this._mainKeyPressListener);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyDownListener(key, callback) {\n    let listenersForKey = this._keyDownListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyDownListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  addKeyUpListener(key, callback) {\n    let listenersForKey = this._keyUpListeners[keyCodes[key]];\n\n    // Make sure the listener list is initialized for this key.\n    if (!listenersForKey) {\n      listenersForKey = new Set();\n      this._keyUpListeners[keyCodes[key]] = listenersForKey;\n    }\n\n    listenersForKey.add(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is pressed.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyDownListener(key, callback) {\n    this._keyDownListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Un-registers a callback to be called whenever the given key is lifted.\n   *\n   * @param {string} key\n   * @param {Function} callback\n   */\n  removeKeyUpListener(key, callback) {\n    this._keyUpListeners[keyCodes[key]].delete(callback);\n  }\n\n  /**\n   * Registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  preventDefaultBrowserBehaviorForKey(key) {\n    this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]] = true;\n  }\n\n  /**\n   * Un-registers the given key to prevent the default browser behavior when it is pressed.\n   *\n   * @param {string} key\n   */\n  allowDefaultBrowserBehaviorForKey(key) {\n    delete this._keysToPreventDefaultBrowserBehaviorFor[keyCodes[key]];\n  }\n\n  /**\n   * Determines whether the given key is currently pressed down.\n   *\n   * @param {string} key\n   * @returns {boolean}\n   */\n  isKeyCurrentlyPressed(key) {\n    return !!this._currentlyPressedKeys[keyCodes[key]];\n  }\n\n  /**\n   * Saves the given key as being pressed.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyDown(event) {\n    // If this key was already being pressed down, then do nothing (when a key is held down, many\n    // keydown events are actually triggered).\n    if (this._currentlyPressedKeys[event.keyCode]) {\n      return;\n    }\n\n    // Mark this key as being pressed down.\n    this._currentlyPressedKeys[event.keyCode] = true;\n\n    // Call any registered key-down listeners for this key.\n    const listeners = this._keyDownListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Calls all key-up listeners that have been registered for the given key.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyUp(event) {\n    // Mark this key as no longer being pressed down.\n    delete this._currentlyPressedKeys[event.keyCode];\n\n    // Call any registered key-up listeners for this key.\n    const listeners = this._keyUpListeners[event.keyCode];\n    if (listeners) {\n      listeners.forEach(listener => listener());\n    }\n  }\n\n  /**\n   * Prevents the default browser behavior for keys that have been registered to prevent.\n   *\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  _handleKeyPress(event) {\n    if (this._keysToPreventDefaultBrowserBehaviorFor[event.keyCode]) {\n      event.preventDefault();\n    }\n  }\n}\n\nexport {InputController};\n","import {isInDevMode, ModelController, StandardModelController, vec3ToString} from 'grafx';\nimport {PhysicsJob, PhysicsState} from 'lsl-physx';\n\n/**\n * This class represents a non-collidable physics-based model-controller.\n *\n * It uses composition to control an instance of a ModelController along with a corresponding\n * instance of a PhysicsJob.\n *\n * @implements {ModelControllerInterface}\n * @abstract\n */\nclass PhysicsModelController {\n  /**\n   * @param {ModelController|ModelControllerConfig} modelControllerOrParams\n   * @param {PhysicsJob|DynamicsConfig} physicsJobOrDynamicsParams\n   * @param {RenderableShapeConfig} [shapeParams]\n   * @param {Array.<ForceApplier>} [forceAppliers]\n   */\n  constructor(modelControllerOrParams, physicsJobOrDynamicsParams, shapeParams, forceAppliers) {\n    // PhysicsModelController is an abstract class. It should not be instantiated directly.\n    if (new.target === PhysicsModelController) {\n      throw new TypeError('Cannot construct PhysicsModelController instances directly');\n    }\n\n    this.modelCtrl = modelControllerOrParams instanceof ModelController\n        ? modelControllerOrParams\n        : new StandardModelController(modelControllerOrParams, shapeParams);\n\n    if (physicsJobOrDynamicsParams instanceof PhysicsJob) {\n      this.physicsJob = physicsJobOrDynamicsParams;\n    } else {\n      const state = new PhysicsState(physicsJobOrDynamicsParams);\n      this.physicsJob = new PhysicsJob(forceAppliers, state);\n    }\n\n    this._originalPosition = vec3.clone(this.physicsJob.currentState.position);\n\n    this._patchModelController({\n      /**\n       * Patches the ModelController's updateTransforms method in order to keep it's local-transform\n       * matrix in-sync with the PhysicsJob's position and orientation.\n       */\n      updateTransforms: (superVersion) => {\n        // Update the ModelController's local-transform matrix according to the PhysicsJob's\n        // current position and orientation.\n        mat4.fromRotationTranslationScale(this.modelCtrl._localTransform,\n            this.renderOrientation, this.renderPosition,\n            this.modelCtrl.scale);\n        superVersion();\n      },\n    });\n\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} created @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /**\n   * Patches the given methods on the underlying ModelController.\n   *\n   * The patched methods are passed the original or \"super\" version of the method as the first\n   * argument; the normal method arguments are provided after.\n   *\n   * @protected\n   */\n  _patchModelController(patches) {\n    Object.keys(patches).forEach((methodName) => {\n      const newMethod = patches[methodName];\n      const superVersion = this.modelCtrl[methodName].bind(this.modelCtrl);\n      this.modelCtrl[methodName] = newMethod.bind(this.modelCtrl, superVersion);\n    });\n  }\n\n  /**\n   * Registers this controller's PhysicsJob(s) with the physics engine.\n   */\n  reset() {\n    this.modelCtrl.reset();\n    this.physicsJob.position = this._originalPosition;\n    this.physicsJob.finish();\n    this.physicsJob.start();\n  }\n\n  /**\n   * Unregisters this controller's PhysicsJob(s) with the physics engine.\n   */\n  destroy() {\n    this.modelCtrl.destroy();\n    this.physicsJob.finish();\n    if (isInDevMode) {\n      const controllerName = this.constructor.name.replace('Controller', '');\n      console.debug(`${controllerName} destroyed @ ${vec3ToString(this.position)}`);\n    }\n  }\n\n  /** @param {vec3} value */\n  set position(value) {\n    this.physicsJob.position = value;\n  }\n  /** @returns {vec3} */\n  get position() {\n    return this.physicsJob.currentState.position;\n  }\n  /** @returns {quat} */\n  get orientation() {\n    return this.physicsJob.currentState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get velocity() {\n    return this.physicsJob.currentState.velocity;\n  }\n\n  /** @returns {vec3} */\n  get renderPosition() {\n    return this.physicsJob.renderState.position;\n  }\n  /** @returns {quat} */\n  get renderOrientation() {\n    return this.physicsJob.renderState.orientation;\n  }\n  // FIXME: Can I remove this?\n  /** @returns {vec3} */\n  get renderVelocity() {\n    return this.physicsJob.renderState.velocity;\n  }\n\n  /**\n   * @returns {DefaultModel}\n   * @protected\n   */\n  get _model() {\n    return this.modelCtrl._model;\n  }\n  /**\n   * @returns {vec3}\n   */\n  get scale() {\n    return this.modelCtrl.scale;\n  }\n  /**\n   * Returns a promise that resolves when this model controller is ready for the app to run.\n   *\n   * @returns {Promise}\n   */\n  getIsReady() {\n    return this.modelCtrl.getIsReady();\n  }\n  /**\n   * Gets the model transform matrix, in local coordinates.\n   *\n   * @returns {mat4}\n   */\n  get localTransform() {\n    return this.modelCtrl.localTransform;\n  }\n  /**\n   * Gets the model transform matrix, in world coordinates.\n   *\n   * @returns {mat4}\n   */\n  get worldTransform() {\n    return this.modelCtrl.worldTransform;\n  }\n  /**\n   * Calls update, updateTransforms, and updateChildren.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  updateSelfAndChildren(currentTime, deltaTime) {\n    this.modelCtrl.updateSelfAndChildren(currentTime, deltaTime);\n  }\n}\n\nexport {PhysicsModelController};\n","import {FollowCamera} from 'grafx';\n\n// TODO: Ideally, this would use the built-in physics engine; however, we I tried integrating it\n// before, I noticed some instability when moving at high speeds. This probably had something to do\n// with accessing different versions of the target position (previousState vs currentState vs\n// renderState)for force/position calculations\n\n/**\n * This class defines a spring-based follow camera.\n *\n * This camera is positioned at a relative, flexible distance and rotation from the observed target\n * and follows the target's position and orientation with a spring force tying the camera to the\n * desired position.\n *\n * A follow camera rotates in all three dimensions; it does not have a fixed roll.\n */\nclass SpringFollowCamera extends FollowCamera {\n  /**\n   * If oldCamera is given, then the state of the new camera will be initialized to match that of\n   * the old camera. This enables a smooth transition when changing cameras.\n   *\n   * @param {CameraTarget} cameraTarget\n   * @param {FollowCameraConfig} followCameraParams\n   * @param {CameraConfig} cameraParams\n   * @param {Camera} [oldCamera]\n   */\n  constructor(cameraTarget, followCameraParams, cameraParams, oldCamera) {\n    super(cameraTarget, followCameraParams, cameraParams, oldCamera);\n    // These could have been set in _matchOldCamera.\n    this._velocity = this._velocity || vec3.create();\n    this._acceleration = this._acceleration || vec3.create();\n  }\n\n  reset() {\n    super.reset();\n    vec3.copy(this._position, this._followCameraParams._intendedTranslationFromTarget);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   */\n  update(currentTime, deltaTime) {\n    this._updateAccelerationVelocityAndPosition(deltaTime);\n    this._updateOrientation();\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateAccelerationVelocityAndPosition(deltaTime) {\n    this._updateAcceleration();\n    this._updatePosition(deltaTime);\n    this._updateVelocity(deltaTime);\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law and drag.\n   *\n   * @private\n   */\n  _updateAcceleration() {\n    this._applySpringAcceleration();\n    this._applySpringDamping();\n  }\n\n  /**\n   * Update the camera's acceleration using Hooke's law.\n   *\n   * acceleration = displacement * coefficient\n   *\n   * @private\n   */\n  _applySpringAcceleration() {\n    const displacement = vec3.create();\n    vec3.subtract(displacement, this._getIntendedPosition(), this._position);\n    vec3.scale(this._acceleration, displacement, this._followCameraParams.springCoefficient);\n  }\n\n  /**\n   * @private\n   */\n  _applySpringDamping() {\n    const damping = vec3.create();\n    vec3.scale(damping, this._velocity, -this._followCameraParams.dampingCoefficient);\n    vec3.add(this._acceleration, this._acceleration, damping);\n  }\n\n  /**\n   * Update the camera's velocity according to its current acceleration.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateVelocity(deltaTime) {\n    vec3.scaleAndAdd(this._velocity, this._velocity, this._acceleration, deltaTime);\n  }\n\n  /**\n   * Update the camera's position according to its current velocity.\n   *\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updatePosition(deltaTime) {\n    vec3.scaleAndAdd(this._position, this._position, this._velocity, deltaTime);\n  }\n\n  /**\n   * @param {Camera} oldCamera\n   * @protected\n   */\n  _matchOldCamera(oldCamera) {\n    super._matchOldCamera(oldCamera);\n    if (oldCamera instanceof SpringFollowCamera) {\n      this._velocity = this._velocity || vec3.create();\n      this._acceleration = this._acceleration || vec3.create();\n      vec3.copy(this._velocity, oldCamera._velocity);\n      vec3.copy(this._acceleration, oldCamera._acceleration);\n    }\n  }\n}\n\nexport {SpringFollowCamera};\n","export * from './src/wall-collidable';\nexport * from './src/wall-controller';\n","import { Aabb } from 'lsl-physx';\n\n/**\n * This class represents a wall or floor.\n *\n * This is just a convenience class that extends Aabb.\n */\nclass Wall extends Aabb {\n  /**\n   * - If the x parameter is given, then a wall will be constructed along the y-z plane with its\n   * surface at the x coordinate. The y and z parameters are handled similarly.\n   * - Only one of the x/y/z parameters should be specified.\n   * - If isOpenOnPositiveSide is true, then the wall will be open toward the positive direction.\n   *\n   * @param {WallParams} wallParams\n   */\n  constructor(wallParams) {\n    let minX;\n    let minY;\n    let minZ;\n    let maxX;\n    let maxY;\n    let maxZ;\n\n    let { x, y, z, isOpenOnPositiveSide, thickness, halfSideLength } = wallParams;\n    thickness = thickness || 80000;\n    halfSideLength = halfSideLength || 80000;\n\n    if (typeof x === 'number') {\n      if (isOpenOnPositiveSide) {\n        minX = x - thickness;\n        maxX = x;\n      }\n      else {\n        minX = x;\n        maxX = x + thickness;\n      }\n      minY = -halfSideLength;\n      minZ = -halfSideLength;\n      maxY = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else if (typeof y === 'number') {\n      if (isOpenOnPositiveSide) {\n        minY = y - thickness;\n        maxY = y;\n      }\n      else {\n        minY = y;\n        maxY = y + thickness;\n      }\n      minX = -halfSideLength;\n      minZ = -halfSideLength;\n      maxX = halfSideLength;\n      maxZ = halfSideLength;\n    }\n    else {\n      if (isOpenOnPositiveSide) {\n        minZ = z - thickness;\n        maxZ = z;\n      }\n      else {\n        minZ = z;\n        maxZ = z + thickness;\n      }\n      minX = -halfSideLength;\n      minY = -halfSideLength;\n      maxX = halfSideLength;\n      maxY = halfSideLength;\n    }\n\n    super(minX, minY, minZ, maxX, maxY, maxZ, true);\n  }\n\n  /**\n   * @returns {vec3}\n   * @override\n   */\n  get scale() {\n    // Reuse the same object when this is called multiple times.\n    this._scale = this._scale || vec3.create();\n    vec3.set(this._scale, this.rangeX, this.rangeY, this.rangeZ);\n    return this._scale;\n  }\n}\n\nexport { Wall };\n","import {StandardModelController} from 'grafx';\nimport {collidableStore} from 'lsl-physx';\n\nimport {Wall} from './wall-collidable';\n\n/**\n * This class defines a wall-controller.\n */\nclass WallController extends StandardModelController {\n  /**\n   * @param {ModelControllerConfig} modelControllerParams\n   * @param {WallParams} wallParams\n   */\n  constructor(modelControllerParams, wallParams) {\n    const shapeParams = {\n      shapeId: 'CUBE',\n      isUsingSphericalNormals: wallParams.useSmoothShading,\n      textureSpan: wallParams.textureSpan\n    };\n\n    super(modelControllerParams, shapeParams);\n\n    this._collidable = new Wall(wallParams);\n    collidableStore.registerCollidable(this._collidable);\n  }\n\n  reset() {\n    // Re-size and re-position the wall.\n    mat4.fromTranslation(this._localTransform, this._collidable.centerOfVolume);\n    mat4.scale(this._localTransform, this._localTransform, this._collidable.scale);\n\n    super.reset();\n  }\n\n  /**\n   * Called when this is done being used, and is being destroyed from memory.\n   */\n  destroy() {\n    super.destroy();\n    collidableStore.unregisterCollidable(this._collidable);\n  }\n\n  /**\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @protected\n   */\n  update(currentTime, deltaTime) {}\n}\n\nexport {WallController};\n\n/**\n * @typedef {Object} WallParams\n * @property {number} x\n * @property {number} y\n * @property {number} z\n * @property {boolean} isOpenOnPositiveSide\n * @property {number} thickness\n * @property {number} halfSideLength\n * @property {boolean} useSmoothShading\n * @property {TextureSpan} textureSpan\n */\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZ3JhZngvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvZnJhbWUtbGF0ZW5jeS1wcm9maWxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL3BlcnNpc3RlbnQtYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL3RyYW5zaWVudC1hbmltYXRpb24tam9iLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvdXRpbC5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9zcmMvY29sbGlkYWJsZS1waHlzaWNzLW1vZGVsLWNvbnRyb2xsZXIuanMiLCJzcmMvc3JjL2NvbmZpZy1jb250cm9sbGVyLmpzIiwic3JjL3NyYy9nYW1lLWNvbnRyb2xsZXIuanMiLCJzcmMvc3JjL2dhbWUtc2NlbmUuanMiLCJzcmMvc3JjL2lucHV0LWNvbnRyb2xsZXIuanMiLCJzcmMvc3JjL3BoeXNpY3MtbW9kZWwtY29udHJvbGxlci5qcyIsInNyYy9zcmMvc3ByaW5nLWZvbGxvdy1jYW1lcmEuanMiLCJzcmMvd2FsbC9pbmRleC5qcyIsInNyYy93YWxsL3NyYy93YWxsLWNvbGxpZGFibGUuanMiLCJzcmMvd2FsbC9zcmMvd2FsbC1jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsRUFBakIsQyxDQUFxQjs7Ozs7Ozs7Ozs7QUNBckI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFB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Q0FBQSxNQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsT0FBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsU0FBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLFVBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUVBLE9BQUEsSUFBQSxDQUFBLGlDQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsa0NBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGlCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsa0JBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGVBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxnQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsVUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLFdBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGdCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsaUJBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLHVCQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsd0JBQUEsR0FBQSxDQUFBO0FB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LENBQUEsSUFBQTtBQUNEOztBQUVEOzs7Ozs7OEJBR1U7QUFDUixXQUFBLGVBQUEsU0FBQSxDQUFBLFNBQUEsSUFBQSxPQUFBLGNBQUEsQ0FBQSxlQUFBLFNBQUEsQ0FBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxDQUFBLElBQUE7QUFDQSxnQkFBQSxlQUFBLENBQUEsb0JBQUEsQ0FBcUMsS0FBckMsV0FBQTtBQUNEOztBQUVEOzs7Ozs7OzsyQkFLTyxXLEVBQWEsUyxFQUFXLENBQUU7Ozs7RUF2Q04sT0FBQSx1Qjs7UUEwQ3JCLGMsR0FBQSxjOztBQUVSIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwibW9kdWxlLmV4cG9ydHMgPSB7fTsgLy8gRklYTUU6IFBvaW50IHRoaXMgdG8gZGlzdFxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvYW5pbWF0aW9uLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9hbmltYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9mcmFtZS1sYXRlbmN5LXByb2ZpbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BlcnNpc3RlbnQtYW5pbWF0aW9uLWpvYic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy90cmFuc2llbnQtYW5pbWF0aW9uLWpvYic7XG4iLCIvKipcbiAqIEFuIEFuaW1hdGlvbkpvYiBpcyB1c2VkIHdpdGggdGhlIGFuaW1hdG9yIGNvbnRyb2xsZXIgdG8gdXBkYXRlIGFuZCByZS1kcmF3IHNvbWV0aGluZyBlYWNoIGZyYW1lLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvbkNvbXBsZXRlKSB7XG4gICAgLy8gQW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gQW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydFRpbWUgPSAwO1xuICAgIHRoaXMuX2lzQ29tcGxldGUgPSB0cnVlO1xuICAgIHRoaXMuX29uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGNvbXBsZXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGlzQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQ29tcGxldGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGlzIEFuaW1hdGlvbkpvYiBhcyBzdGFydGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IHN0YXJ0VGltZVxuICAgKi9cbiAgc3RhcnQoc3RhcnRUaW1lKSB7XG4gICAgdGhpcy5fc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBhbmltYXRpb24gcHJvZ3Jlc3Mgb2YgdGhpcyBBbmltYXRpb25Kb2IgdG8gbWF0Y2ggdGhlIGdpdmVuIHRpbWUuXG4gICAqXG4gICAqIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIG92ZXJhbGwgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoaXMgQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBvdmVyYWxsIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGRyYXcoKSB7XG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbnkgbmVjZXNzYXJ5IHN0YXRlIGZvciB0aGlzIEFuaW1hdGlvbkpvYiBiZWluZyBmaW5pc2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0NhbmNlbGxlZFxuICAgKi9cbiAgZmluaXNoKGlzQ2FuY2VsbGVkKSB7XG4gICAgY29uc29sZS5sb2coYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSAke2lzQ2FuY2VsbGVkID8gJ2NhbmNlbGxlZCcgOiAnY29tcGxldGVkJ31gKTtcblxuICAgIHRoaXMuX2lzQ29tcGxldGUgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtBbmltYXRpb25Kb2J9O1xuIiwiaW1wb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlcn0gZnJvbSAnLi9mcmFtZS1sYXRlbmN5LXByb2ZpbGVyJztcbmltcG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn0gZnJvbSAnLi9wZXJzaXN0ZW50LWFuaW1hdGlvbi1qb2InO1xuaW1wb3J0IHtUcmFuc2llbnRBbmltYXRpb25Kb2J9IGZyb20gJy4vdHJhbnNpZW50LWFuaW1hdGlvbi1qb2InO1xuXG5jb25zdCBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgPSAyMDA7XG5jb25zdCBfRlJBTUVfRFVSQVRJT05fV0FSTklOR19USFJFU0hPTEQgPSAxMDAwIC8gMzA7XG5jb25zdCBfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9EID0gNTAwMDtcbmNvbnN0IF9MQVRFTkNZX0xPR19MQUJFTCA9ICdBbmltYXRpb24gZnJhbWUgcGVyaW9kJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgdGhlIGFuaW1hdGlvbiBsb29wLlxuICpcbiAqIFRoaXMgY2xhc3MncyByZXNwb25zaWJpbGl0aWVzIGluY2x1ZGU6XG4gKiAtIHVwZGF0aW5nIG1vZHVsZXMgZm9yIHRoZSBjdXJyZW50IGZyYW1lLFxuICogLSBkcmF3aW5nIHJlbmRlcmFibGVzIGZvciB0aGUgY3VycmVudCBmcmFtZSxcbiAqIC0gc3RhcnRpbmcgYW5kIHN0b3BwaW5nIHRyYW5zaWVudCBhbmltYXRpb24gam9icyxcbiAqIC0gY2FwcGluZyB0aW1lIHN0ZXAgZHVyYXRpb25zIGF0IGEgbWF4IHRocmVzaG9sZC5cbiAqL1xuY2xhc3MgQW5pbWF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9qb2JzID0gW107XG4gICAgdGhpcy5fcHJldmlvdXNUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICAgIHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lID0gMDtcbiAgICB0aGlzLl9sYXN0VW5wYXVzZVRpbWUgPSBudWxsO1xuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlciA9IG5ldyBGcmFtZUxhdGVuY3lQcm9maWxlcihfRlJBTUVfTEFURU5DWV9MT0dfUEVSSU9ELFxuICAgICAgICBfRlJBTUVfRFVSQVRJT05fV0FSTklOR19USFJFU0hPTEQsIF9MQVRFTkNZX0xPR19MQUJFTCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBnaXZlbiBBbmltYXRpb25Kb2IuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICovXG4gIHN0YXJ0Sm9iKGpvYikge1xuICAgIC8vIElzIHRoaXMgYSByZXN0YXJ0P1xuICAgIGlmICgham9iLmlzQ29tcGxldGUpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoYFJlc3RhcnRpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICBpZiAoam9iIGluc3RhbmNlb2YgUGVyc2lzdGVudEFuaW1hdGlvbkpvYikge1xuICAgICAgICBqb2IucmVzZXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpvYi5maW5pc2godHJ1ZSk7XG4gICAgICAgIGpvYi5zdGFydCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBTdGFydGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICAgIGpvYi5zdGFydCh0aGlzLl9wcmV2aW91c1RpbWUpO1xuICAgICAgdGhpcy5fam9icy5wdXNoKGpvYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnRBbmltYXRpb25Mb29wKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyB0aGUgZ2l2ZW4gQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqL1xuICBjYW5jZWxKb2Ioam9iKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhgQ2FuY2VsbGluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gICAgam9iLmZpbmlzaCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFsbCBydW5uaW5nIEFuaW1hdGlvbkpvYnMuXG4gICAqL1xuICBjYW5jZWxBbGwoKSB7XG4gICAgd2hpbGUgKHRoaXMuX2pvYnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNhbmNlbEpvYih0aGlzLl9qb2JzWzBdKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9ICovXG4gIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNUaW1lO1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUGF1c2VkO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fc3RvcEFuaW1hdGlvbkxvb3AoKTtcbiAgICBjb25zb2xlLmRlYnVnKCdBbmltYXRvciBwYXVzZWQnKTtcbiAgfVxuXG4gIHVucGF1c2UoKSB7XG4gICAgdGhpcy5fc3RhcnRBbmltYXRpb25Mb29wKCk7XG4gICAgY29uc29sZS5kZWJ1ZygnQW5pbWF0b3IgdW5wYXVzZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBhbmltYXRpb24gbG9vcCB0aGF0IGRyaXZlcyBhbGwgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBjdXJyZW50VGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FuaW1hdGlvbkxvb3AoY3VycmVudFRpbWUpIHtcbiAgICAvLyBXaGVuIHBhdXNpbmcgYW5kIHJlc3RhcnRpbmcsIGl0J3MgcG9zc2libGUgZm9yIHRoZSBwcmV2aW91cyB0aW1lIHRvIGJlIHNsaWdodGx5IGluY29uc2lzdGVudFxuICAgIC8vIHdpdGggdGhlIGFuaW1hdGlvbkZyYW1lIHRpbWUuXG4gICAgaWYgKGN1cnJlbnRUaW1lIDwgdGhpcy5fcHJldmlvdXNUaW1lKSB7XG4gICAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZSAtIDE7XG4gICAgfVxuXG4gICAgbGV0IGRlbHRhVGltZSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fcHJldmlvdXNUaW1lO1xuICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnJlY29yZEZyYW1lTGF0ZW5jeShkZWx0YVRpbWUpO1xuXG4gICAgLy8gTGFyZ2UgZGVsYXlzIGJldHdlZW4gZnJhbWVzIGNhbiBjYXVzZSBsZWFkIHRvIGluc3RhYmlsaXR5IGluIHRoZSBzeXN0ZW0sIHNvIHRoaXMgY2FwcyB0aGVtIHRvXG4gICAgLy8gYSBtYXggdGhyZXNob2xkLlxuICAgIGRlbHRhVGltZSA9IGRlbHRhVGltZSA+IF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA/XG4gICAgICAgIF9ERUxUQV9USU1FX1VQUEVSX1RIUkVTSE9MRCA6IGRlbHRhVGltZTtcblxuICAgIGlmICghdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID1cbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGN1cnJlbnRUaW1lID0+IHRoaXMuX2FuaW1hdGlvbkxvb3AoY3VycmVudFRpbWUpKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUpvYnMoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICB0aGlzLl9kcmF3Sm9icygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFsbCBvZiB0aGUgYWN0aXZlIEFuaW1hdGlvbkpvYnMuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVKb2JzKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGxldCBqb2IgPSB0aGlzLl9qb2JzW2ldO1xuXG4gICAgICAvLyBSZW1vdmUgam9icyBmcm9tIHRoZSBsaXN0IGFmdGVyIHRoZXkgYXJlIGNvbXBsZXRlLlxuICAgICAgaWYgKGpvYi5pc0NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUpvYihqb2IsIGkpO1xuICAgICAgICBpLS07XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBqb2IgaXMgdHJhbnNpZW50IGFuZCBoYXMgcmVhY2hlZCBpdHMgZW5kLlxuICAgICAgaWYgKGpvYiBpbnN0YW5jZW9mIFRyYW5zaWVudEFuaW1hdGlvbkpvYiAmJiBqb2IuZW5kVGltZSA8IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIGpvYi5maW5pc2goZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgam9iLnVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gam9iIGZyb20gdGhlIGNvbGxlY3Rpb24gb2YgYWN0aXZlLCBhbmltYXRpbmcgam9icy5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PS0xXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbW92ZUpvYihqb2IsIGluZGV4ID0gLTEpIHtcbiAgICBjb25zb2xlLmRlYnVnKGBSZW1vdmluZyBBbmltYXRpb25Kb2I6ICR7am9iLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5fam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoO1xuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKHRoaXMuX2pvYnNbaW5kZXhdID09PSBqb2IpIHtcbiAgICAgICAgICB0aGlzLl9qb2JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdG9wIHRoZSBhbmltYXRpb24gbG9vcCB3aGVuIHRoZXJlIGFyZSBubyBtb3JlIGpvYnMgdG8gYW5pbWF0ZS5cbiAgICBpZiAodGhpcy5fam9icy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX3N0b3BBbmltYXRpb25Mb29wKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIGFsbCBvZiB0aGUgYWN0aXZlIEFuaW1hdGlvbkpvYnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZHJhd0pvYnMoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICB0aGlzLl9qb2JzW2ldLmRyYXcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBhbmltYXRpb24gbG9vcCBpZiBpdCBpcyBub3QgYWxyZWFkeSBydW5uaW5nLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpZGVtcG90ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N0YXJ0QW5pbWF0aW9uTG9vcCgpIHtcbiAgICBpZiAodGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX2xhc3RVbnBhdXNlVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcblxuICAgIC8vIE9ubHkgYWN0dWFsbHkgc3RhcnQgdGhlIGxvb3AgaWYgaXQgaXNuJ3QgYWxyZWFkeSBydW5uaW5nIGFuZCB0aGUgcGFnZSBoYXMgZm9jdXMuXG4gICAgaWYgKCF0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAmJiAhZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID1cbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpbWUgPT4gdGhpcy5fYW5pbWF0aW9uTG9vcCh0aW1lKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdG9wQW5pbWF0aW9uTG9vcCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSArPSB0aGlzLl90aW1lU2luY2VMYXN0UGF1c2VkO1xuICAgIH1cbiAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkKTtcbiAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7XG4gICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnN0b3AoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbiB0aGUgbmV4dCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICByZXNvbHZlT25OZXh0RnJhbWUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRvdGFsIGFtb3VudCBvZiB0aW1lIHRoZSBhbmltYXRvciBoYXMgYmVlbiBydW5uaW5nIHdoaWxlIG5vdCBwYXVzZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfVxuICAgKi9cbiAgZ2V0IHRvdGFsUnVuVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNQYXVzZWRcbiAgICAgICAgPyB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZVxuICAgICAgICA6IHRoaXMuX3RvdGFsVW5wYXVzZWRSdW5UaW1lICsgdGhpcy5fdGltZVNpbmNlTGFzdFBhdXNlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH1cbiAgICovXG4gIGdldCBfdGltZVNpbmNlTGFzdFBhdXNlZCgpIHtcbiAgICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy5fbGFzdFVucGF1c2VUaW1lO1xuICB9XG59XG5cbmNvbnN0IGFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKCk7XG5cbmV4cG9ydCB7YW5pbWF0b3J9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IERPTUhpZ2hSZXNUaW1lU3RhbXAgQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhY2N1cmF0ZSB0byBvbmUgdGhvdXNhbmR0aCBvZiBhXG4gKiBtaWxsaXNlY29uZC5cbiAqL1xuXG4iLCIvKipcbiAqIFRoaXMgY2xhc3Mga2VlcHMgdHJhY2sgb2YgYXZnL21pbi9tYXggZnJhbWUgbGF0ZW5jaWVzIG92ZXIgdGhlIGxhc3QgbG9nZ2luZyB0aW1lIHBlcmlvZCBhbmRcbiAqIHBlcmlvZGljYWxseSBsb2dzIHRoZXNlIHZhbHVlcy5cbiAqL1xuY2xhc3MgRnJhbWVMYXRlbmN5UHJvZmlsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvZ1BlcmlvZCBUaGUgcGVyaW9kIGF0IHdoaWNoIHRvIHByaW50IGxhdGVuY3kgbG9nIG1lc3NhZ2VzLiBJbiBtaWxsaXNlY29uZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsYXRlbmN5V2FybmluZ1RocmVzaG9sZCBJZiB0aGUgYXZlcmFnZSBsYXRlbmN5IGV4Y2VlZHMgdGhpcyB0aHJlc2hvbGQsIHRoZW4gdGhlXG4gICAqIGxvZyBtZXNzYWdlIGlzIHNob3duIGFzIGEgd2FybmluZy4gSW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9nTGFiZWwgQSBsYWJlbCB0byBzaG93IGZvciBlYWNoIGxhdGVuY3kgbG9nIG1lc3NhZ2UuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2dQZXJpb2QsIGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkLCBsb2dMYWJlbCkge1xuICAgIHRoaXMuX2xvZ1BlcmlvZCA9IGxvZ1BlcmlvZDtcbiAgICB0aGlzLl9sYXRlbmN5V2FybmluZ1RocmVzaG9sZCA9IGxhdGVuY3lXYXJuaW5nVGhyZXNob2xkO1xuICAgIHRoaXMuX2xvZ0xhYmVsID0gbG9nTGFiZWw7XG5cbiAgICB0aGlzLl9mcmFtZUNvdW50ID0gbnVsbDtcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPSBudWxsO1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9IG51bGw7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID0gbnVsbDtcblxuICAgIHRoaXMuX2ludGVydmFsSWQgPSBudWxsO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5yZXNldCgpO1xuXG4gICAgdGhpcy5faW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMubG9nRnJhbWVMYXRlbmN5KCk7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfSwgdGhpcy5fbG9nUGVyaW9kKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX2ZyYW1lQ291bnQgPSAwO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB0aGlzLl9hdmdGcmFtZUxhdGVuY3kgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEtlZXBzIHRyYWNrIG9mIGEgcnVubmluZyBhdmVyYWdlLCBtaW4gdmFsdWUsIGFuZCBtYXggdmFsdWUgZm9yIHRoZSBmcmFtZSBsYXRlbmNpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZnJhbWVMYXRlbmN5XG4gICAqL1xuICByZWNvcmRGcmFtZUxhdGVuY3koZnJhbWVMYXRlbmN5KSB7XG4gICAgdGhpcy5fZnJhbWVDb3VudCsrO1xuICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX21heEZyYW1lTGF0ZW5jeSA8IGZyYW1lTGF0ZW5jeSA/IGZyYW1lTGF0ZW5jeSA6IHRoaXMuX21heEZyYW1lTGF0ZW5jeTtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPiBmcmFtZUxhdGVuY3kgPyBmcmFtZUxhdGVuY3kgOiB0aGlzLl9taW5GcmFtZUxhdGVuY3k7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ICsgKGZyYW1lTGF0ZW5jeSAtIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSkgLyB0aGlzLl9mcmFtZUNvdW50O1xuICB9XG5cbiAgbG9nRnJhbWVMYXRlbmN5KCkge1xuICAgIGlmICh0aGlzLl9mcmFtZUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3RoaXMuX2xvZ0xhYmVsfTogIEFWRz0ke3RoaXMuX2F2Z0ZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfSAgYCArXG4gICAgICAgICAgYChNQVg9JHt0aGlzLl9tYXhGcmFtZUxhdGVuY3kudG9GaXhlZCgzKX07IE1JTj0ke3RoaXMuX21pbkZyYW1lTGF0ZW5jeS50b0ZpeGVkKDMpfSlgO1xuICAgICAgaWYgKHRoaXMuX21heEZyYW1lTGF0ZW5jeSA+PSB0aGlzLl9sYXRlbmN5V2FybmluZ1RocmVzaG9sZCkge1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmRlYnVnKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0ZyYW1lTGF0ZW5jeVByb2ZpbGVyfTtcbiIsImltcG9ydCB7QW5pbWF0aW9uSm9ifSBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuXG4vKipcbiAqIEEgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiByZWN1cnMgb3IgaGFzIGFuIGluZGVmaW5pdGUgZHVyYXRpb24uXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgZXh0ZW5kcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvbkNvbXBsZXRlKSB7XG4gICAgc3VwZXIob25Db21wbGV0ZSk7XG5cbiAgICAvLyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gUGVyc2lzdGVudEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG5cbmV4cG9ydCB7UGVyc2lzdGVudEFuaW1hdGlvbkpvYn07XG4iLCJpbXBvcnQge191dGlsfSBmcm9tICcuL3V0aWwnO1xuXG5pbXBvcnQge0FuaW1hdGlvbkpvYn0gZnJvbSAnLi9hbmltYXRpb24tam9iJztcblxuLyoqXG4gKiBBIFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpcyB0ZW1wb3JhcnkgYW5kIGhhcyBhIGRlZmluaXRlIGJlZ2lubmluZyBhbmQgZW5kLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBUcmFuc2llbnRBbmltYXRpb25Kb2IgZXh0ZW5kcyBBbmltYXRpb25Kb2Ige1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gZWFzaW5nRnVuY3Rpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uQ29tcGxldGVdIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhpcyBBbmltYXRpb25Kb2IgaXMgZmluaXNoZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkdXJhdGlvbiwgZGVsYXksIGVhc2luZ0Z1bmN0aW9uLCBvbkNvbXBsZXRlKSB7XG4gICAgc3VwZXIob25Db21wbGV0ZSk7XG5cbiAgICAvLyBUcmFuc2llbnRBbmltYXRpb25Kb2IgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBUcmFuc2llbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgdGhpcy5fZGVsYXkgPSBkZWxheTtcbiAgICB0aGlzLl9lYXNpbmdGdW5jdGlvbiA9IHR5cGVvZiBlYXNpbmdGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IGVhc2luZ0Z1bmN0aW9uXG4gICAgICAgIDogX3V0aWwuZWFzaW5nRnVuY3Rpb25zW2Vhc2luZ0Z1bmN0aW9uXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGVuZFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0VGltZSArIHRoaXMuX2R1cmF0aW9uICsgdGhpcy5fZGVsYXk7XG4gIH1cbn1cblxuZXhwb3J0IHtUcmFuc2llbnRBbmltYXRpb25Kb2J9O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cblxuLy8gQSBjb2xsZWN0aW9uIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBlYXNpbmcgZnVuY3Rpb25zLlxuY29uc3QgZWFzaW5nRnVuY3Rpb25zID0ge1xuICBsaW5lYXI6IHQgPT4gdCxcbiAgZWFzZUluUXVhZDogdCA9PiB0ICogdCxcbiAgZWFzZU91dFF1YWQ6IHQgPT4gdCAqICgyIC0gdCksXG4gIGVhc2VJbk91dFF1YWQ6IHQgPT4gdCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0LFxuICBlYXNlSW5DdWJpYzogdCA9PiB0ICogdCAqIHQsXG4gIGVhc2VPdXRDdWJpYzogdCA9PiAxICsgLS10ICogdCAqIHQsXG4gIGVhc2VJbk91dEN1YmljOiB0ID0+IHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxLFxuICBlYXNlSW5RdWFydDogdCA9PiB0ICogdCAqIHQgKiB0LFxuICBlYXNlT3V0UXVhcnQ6IHQgPT4gMSAtIC0tdCAqIHQgKiB0ICogdCxcbiAgZWFzZUluT3V0UXVhcnQ6IHQgPT4gdCA8IDAuNSA/IDggKiB0ICogdCAqIHQgKiB0IDogMSAtIDggKiAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJblF1aW50OiB0ID0+IHQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlT3V0UXVpbnQ6IHQgPT4gMSArIC0tdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1aW50OiB0ID0+IHQgPCAwLjUgPyAxNiAqIHQgKiB0ICogdCAqIHQgKiB0IDogMSArIDE2ICogLS10ICogdCAqIHQgKiB0ICogdFxufTtcblxuY29uc3QgX3V0aWwgPSB7XG4gIGVhc2luZ0Z1bmN0aW9ucyxcbn07XG5cbmV4cG9ydCB7XG4gIF91dGlsLFxufTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgdGhlIGV4cG9ydHMgaW4gdGhlIGdyYWZ4IGZyYW1ld29yay4gVGhpcyBtYWtlcyB0aGUgZW50aXJlIGZyYW1ld29ya1xuICogY29udmVuaWVudGx5IGFjY2Vzc2libGUgdmlhIHRoaXMgc2luZ2xlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICdsc2wtYW5pbWF0ZXgnO1xuZXhwb3J0ICogZnJvbSAnZ3JhZngnO1xuZXhwb3J0ICogZnJvbSAnbHNsLXBoeXN4JztcblxuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlkYWJsZS1waHlzaWNzLW1vZGVsLWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29uZmlnLWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvZ2FtZS1jb250cm9sbGVyJztcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dhbWUtc2NlbmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvaW5wdXQtY29udHJvbGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NyYy9waHlzaWNzLW1vZGVsLWNvbnRyb2xsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcmMvc3ByaW5nLWZvbGxvdy1jYW1lcmEnO1xuXG5leHBvcnQgKiBmcm9tICcuL3dhbGwnO1xuIiwiaW1wb3J0IHtQaHlzaWNzTW9kZWxDb250cm9sbGVyfSBmcm9tICcuL3BoeXNpY3MtbW9kZWwtY29udHJvbGxlcic7XG5pbXBvcnQge0NvbGxpZGFibGVQaHlzaWNzSm9iLCBQaHlzaWNzSm9iLCBQaHlzaWNzU3RhdGV9IGZyb20gJ2xzbC1waHlzeCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgY29sbGlkYWJsZSBwaHlzaWNzLWJhc2VkIG1vZGVsLWNvbnRyb2xsZXIuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyIGV4dGVuZHMgUGh5c2ljc01vZGVsQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlcnxNb2RlbENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlck9yUGFyYW1zXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J8RHluYW1pY3NDb25maWd9IHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBbc2hhcGVQYXJhbXNdXG4gICAqIEBwYXJhbSB7QXJyYXkuPEZvcmNlQXBwbGllcj59IGZvcmNlQXBwbGllcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsQ29udHJvbGxlck9yUGFyYW1zLCBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcywgc2hhcGVQYXJhbXMsIGZvcmNlQXBwbGllcnMpIHtcbiAgICBzdXBlcihtb2RlbENvbnRyb2xsZXJPclBhcmFtcywgcGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMsIHNoYXBlUGFyYW1zLCBmb3JjZUFwcGxpZXJzKTtcblxuICAgIGlmIChwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcyBpbnN0YW5jZW9mIENvbGxpZGFibGVQaHlzaWNzSm9iKSB7XG4gICAgICB0aGlzLnBoeXNpY3NKb2IgPSBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgUGh5c2ljc1N0YXRlKHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zKTtcbiAgICAgIHRoaXMucGh5c2ljc0pvYiA9IG5ldyBDb2xsaWRhYmxlUGh5c2ljc0pvYihzaGFwZVBhcmFtcywgc3RhdGUsIGZvcmNlQXBwbGllcnMsIHRoaXMsXG4gICAgICAgICAgY29sbGlzaW9uID0+IHRoaXMuaGFuZGxlQ29sbGlzaW9uKGNvbGxpc2lvbikpO1xuICAgIH1cblxuICAgIC8vIENvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gQ29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgQ29sbGlkYWJsZVBoeXNpY3NNb2RlbENvbnRyb2xsZXIgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgY2FsbGJhY2sgaXMgdHJpZ2dlcmVkIGluIHJlc3BvbnNlIHRvIGEgY29sbGlzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoaXMgbmVlZHMgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiB0byBwcm9jZWVkLlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuXG5leHBvcnQge0NvbGxpZGFibGVQaHlzaWNzTW9kZWxDb250cm9sbGVyfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnJkNvbGxpZGFibGVTaGFwZUNvbmZpZ30gUmVuZGVyYWJsZUFuZENvbGxpZGFibGVTaGFwZUNvbmZpZ1xuICovXG4iLCJpbXBvcnQge1xuICBjcmVhdGVIc2xDb2xvclN0cmluZyxcbiAgZGVib3VuY2UsXG4gIGZpbmQsXG4gIGdldFZpZXdwb3J0U2l6ZSxcbiAgaHNsVG9Ic3YsXG4gIGhzdlRvSHNsLFxuICBoc2xUb1JnYixcbiAgaXNJbnQsXG59IGZyb20gJ2dyYWZ4JztcblxuY29uc3QgX1NNQUxMX1NDUkVFTl9XSURUSF9USFJFU0hPTEQgPSA4MDA7XG5cbi8qKlxuICogVGhpcyB0b3AtbGV2ZWwgQ29uZmlnQ29udHJvbGxlciBjbGFzcyB3cmFwcyB0aGUgZGF0LkdVSSBsaWJyYXJ5IGFuZCBwcm92aWRlcyBoaWdoZXItbGV2ZWxcbiAqIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb25hbGl0eS5cbiAqXG4gKiAjIyBDb25maWd1cmluZyBQYXJhbWV0ZXJzXG4gKlxuICogQ29uc3VtZXJzIG9mIHRoaXMgbW9kdWxlIHdpbGwgbmVlZCB0byBzcGVjaWZ5IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyB3aXRoIGEgY2VydGFpbiBmb3JtLiBGb3JcbiAqIGVhY2ggcHJvcGVydHkgb24gYSBjb25maWcgb2JqZWN0LCBhbiBpdGVtIHdpbGwgYmUgY3JlYXRlZCBpbiB0aGUgY29ycmVzcG9uZGluZyBkYXQuR1VJIGZvbGRlci5cbiAqIFRoZSB0eXBlIGFuZCBzcGVjaWZpY3Mgb2YgdGhlIG1lbnUgaXRlbSBkZXBlbmRzIG9uIHRoZSB2YWx1ZSBhc3NpZ25lZCB0byB0aGUgY29uZmlnIHByb3BlcnR5OlxuICpcbiAqIC0gVG9nZ2xlIGl0ZW06XG4gKiAgIC0gQ3JlYXRlZCBpZiB0aGUgY29uZmlnIHByb3BlcnR5IGlzIGEgYm9vbGVhbi5cbiAqIC0gVHJpZ2dlciBpdGVtOlxuICogICAtIENyZWF0ZWQgaWYgdGhlIGNvbmZpZyBwcm9wZXJ0eSBpcyBhIGZ1bmN0aW9uLlxuICogLSBTbGlkZXIgaXRlbTpcbiAqICAgLSBDcmVhdGVkIGlmIHRoZSBjb25maWcgcHJvcGVydHkgaXMgYW4gb2JqZWN0IHdpdGggJ21pbicsICdtYXgnLCBhbmQgJ3N0YXJ0JyBwcm9wZXJ0aWVzLlxuICogICAtIFdoZW4gdGhlIGNvbmZpZyBvYmplY3QgaXMgcGFyc2VkLCB0aGlzIGluaXRpYWwgY29uZmlnIG9iamVjdCB3aWxsIGJlIHJlbW92ZWQgYW5kIHJlcGxhY2VkXG4gKiAgICAgd2l0aCBvbmx5IHRoZSBjdXJyZW50IGFjdHVhbCB2YWx1ZS5cbiAqICAgLSBUaGUgaW50ZXJ2YWxzIG9mIHRoZSBzbGlkZXIgYXJlIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lZCBieSB0aGUgZGF0LkdVSSBsaWJyYXJ5IGFuZCBkZXBlbmQgb25cbiAqICAgICB0aGUgdHlwZSBvZiB0aGUgJ21pbicvJ21heCcvJ3ZhbHVlJyBwcm9wZXJ0aWVzIChpbnQgdnMgZmxvYXQpLiBTZWUgdGhlIGRhdC5HVUkgZG9jdW1lbnRhdGlvblxuICogICAgIGZvciBtb3JlIGluZm8uXG4gKiAtIENvbG9yIGl0ZW06XG4gKiAgIC0gQ3JlYXRlZCBpZiB0aGUgY29uZmlnIHByb3BlcnR5IGlzIGFuIG9iamVjdCB3aXRoICdoJy8ncycvJ2wnIHByb3BlcnRpZXMuXG4gKiAgIC0gV2hlbiB0aGUgY29uZmlnIG9iamVjdCBpcyBwYXJzZWQsIHRoaXMgaW5pdGlhbCBjb25maWcgb2JqZWN0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIG5ld1xuICogICAgIG9iamVjdCB0aGF0IGhhcyAnaCcvJ3MnLyd2JyBwcm9wZXJ0aWVzIGFuZCBhbiAnaHNsJyBwcm9wZXJ0eSwgd2hpY2ggaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmdcbiAqICAgICAnaCcvJ3MnLydsJyBwcm9wZXJ0aWVzIGFuZCBhICdjb2xvclN0cmluZycgcHJvcGVydHkgdGhhdCBjb250YWlucyBhIHZhbGlkIGNvbG9yIHN0cmluZyB0b1xuICogICAgIGFzc2lnbiB0byBhIENTUyBwcm9wZXJ0eS5cbiAqICAgLSBBbGwgJ2gnLydzJy8nbCcgYW5kICdoJy8ncycvJ3YnIHZhbHVlcyBzaG91bGQgYmUgaW4gdGhlIHJhbmdlIG9mIFswLDFdLlxuICogLSBUZXh0IGl0ZW06XG4gKiAgIC0gQ3JlYXRlZCBpZiB0aGUgY29uZmlnIHByb3BlcnR5IGlzIGEgU3RyaW5nLlxuICovXG5jbGFzcyBDb25maWdDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZGF0R3VpV2lkdGggPSAzMDA7XG4gICAgdGhpcy5fZ3VpID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSBkYXQuR1VJIGNvbnRyb2xsZXIuXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIC8vIENyZWF0ZSB0aGUgZGF0LkdVSSBtZW51LlxuICAgIHRoaXMuX2NyZWF0ZUd1aUlmTm90Q3JlYXRlZCh0cnVlKTtcbiAgICB0aGlzLl9ndWkud2lkdGggPSB0aGlzLl9kYXRHdWlXaWR0aDtcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgY2xvc2UgdGhlIG1lbnUgb24gc21hbGxlciBzY3JlZW5zLlxuICAgIC8vIFRPRE86IENoZWNrIHRoYXQgdGhlIG1lbnUgaXMgY2xvc2VkIGluaXRpYWxseSAod2l0aCBubyByZXNpemUgZXZlbnQpIGlmIHRoZSBwYWdlIGxvYWRzIGF0IHRvbyBzbWFsbCBhIHdpZHRoLlxuICAgIGNvbnN0IGRlYm91bmNlZFJlc2l6ZSA9IGRlYm91bmNlKCgpID0+IHRoaXMuX29uUmVzaXplKCksIDMwMCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlZFJlc2l6ZSwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgZGF0LkdVSSBtZW51LlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9ndWkuZGVzdHJveSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNHdWlWaXNpYmxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlR3VpSWZOb3RDcmVhdGVkKGlzR3VpVmlzaWJsZSkge1xuICAgIGlmICh0aGlzLl9ndWkpIHtcbiAgICAgIGlmIChpc0d1aVZpc2libGUpIHtcbiAgICAgICAgdGhpcy5fZ3VpLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2d1aSA9IG5ldyBkYXQuR1VJKCk7XG4gICAgICBpZiAoIWlzR3VpVmlzaWJsZSkge1xuICAgICAgICB0aGlzLl9ndWkuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZm9sZGVyIHdpdGggdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb24gdW5kZXJuZWF0aCB0aGUgZ2l2ZW4gcGFyZW50IGZvbGRlci5cbiAgICpcbiAgICogQHBhcmFtIHtNZW51Rm9sZGVyQ29uZmlnfSBmb2xkZXJDb25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gW3BhcmVudEZvbGRlcl0gSWYgbm90IGdpdmVuLCB0aGUgZm9sZGVyIGlzIGNyZWF0ZWQgYXQgdGhlIHRvcCBsZXZlbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvbkNoYW5nZUxpc3RlbmVyc10gQSBtYXAgZnJvbSBsYWJlbHMgdG8gb24tY2hhbmdlIGhhbmRsZXJzLlxuICAgKi9cbiAgY3JlYXRlRm9sZGVyKGZvbGRlckNvbmZpZywgcGFyZW50Rm9sZGVyLCBvbkNoYW5nZUxpc3RlbmVycykge1xuICAgIHRoaXMuX2NyZWF0ZUd1aUlmTm90Q3JlYXRlZChmYWxzZSk7XG5cbiAgICBwYXJlbnRGb2xkZXIgPSBwYXJlbnRGb2xkZXIgfHwgdGhpcy5fZ3VpO1xuXG4gICAgLy8gVE9ETzogQ29weSB0aGUgb3JpZ2luYWwgY29uZmlnIGFuZCBzdG9yZSBpdCBzb21laG93IG9uIHRoZSBkYXQuR1VJIG1lbnUgaXRlbT8gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHJlc2V0dGluZyBjb25maWdzIGxhdGVyIChmcm9tIHRoZSBvdGhlciBjb250cm9sbGVyKS5cbiAgICBjb25zdCBmb2xkZXIgPSBwYXJlbnRGb2xkZXIuYWRkRm9sZGVyKGZvbGRlckNvbmZpZy5sYWJlbCk7XG5cbiAgICBmb2xkZXJDb25maWcuZm9sZGVyID0gZm9sZGVyO1xuXG4gICAgdGhpcy5fY3JlYXRlSXRlbXMoZm9sZGVyQ29uZmlnKTtcblxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgZnJvbSB0aGUgY29uZmlnIGZpbGUuXG4gICAgdGhpcy5fYWRkT25DaGFuZ2VMaXN0ZW5lcnMoZm9sZGVyQ29uZmlnLCBmb2xkZXJDb25maWcub25DaGFuZ2VMaXN0ZW5lcnMsIHRydWUpO1xuXG4gICAgLy8gQWRkIGxpc3RlbmVycyBmcm9tIHRoZSBjYWxsZXIgb2YgdGhpcyBtZXRob2QuXG4gICAgdGhpcy5fYWRkT25DaGFuZ2VMaXN0ZW5lcnMoZm9sZGVyQ29uZmlnLCBvbkNoYW5nZUxpc3RlbmVycywgZmFsc2UpO1xuXG4gICAgaWYgKGZvbGRlckNvbmZpZy5pc09wZW4pIHtcbiAgICAgIGZvbGRlci5vcGVuKCk7XG4gICAgfVxuXG4gICAgLy8gUmVjdXJzaXZlbHkgY3JlYXRlIGRlc2NlbmRhbnQgZm9sZGVycy5cbiAgICBpZiAoZm9sZGVyQ29uZmlnLmNoaWxkRm9sZGVycykge1xuICAgICAgdGhpcy5jcmVhdGVGb2xkZXJzKGZvbGRlckNvbmZpZy5jaGlsZEZvbGRlcnMsIGZvbGRlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXkuPE1lbnVGb2xkZXJDb25maWc+fSBmb2xkZXJDb25maWdzXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IHBhcmVudEZvbGRlclxuICAgKi9cbiAgY3JlYXRlRm9sZGVycyhmb2xkZXJDb25maWdzLCBwYXJlbnRGb2xkZXIpIHtcbiAgICBmb2xkZXJDb25maWdzLmZvckVhY2goZm9sZGVyQ29uZmlnID0+IHRoaXMuY3JlYXRlRm9sZGVyKGZvbGRlckNvbmZpZywgcGFyZW50Rm9sZGVyKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51Rm9sZGVyQ29uZmlnfSBmb2xkZXJDb25maWdcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBhZGRPbkNoYW5nZUxpc3RlbmVyKGZvbGRlckNvbmZpZywgbGFiZWwsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGZvbGRlckNvbmZpZy5pdGVtc1tsYWJlbF0pIHtcbiAgICAgIGZvbGRlckNvbmZpZy5pdGVtc1tsYWJlbF0ub25DaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignQXR0ZW1wdGluZyB0byBhZGQgb24tY2hhbmdlIGxpc3RlbmVyIGZvciBhIG5vbi1leGlzdGVudCBjb25maWcnLCBsYWJlbCxcbiAgICAgICAgICBmb2xkZXJDb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVNZW51KCkge1xuICAgIGNvbnNvbGUuaW5mbygnSGlkZSBNZW51IGNsaWNrZWQnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5ID4gLmRnJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIC8qKlxuICAgKiBOT1RFOiBUaGlzIGlzIG5vdCBpZGVtcG90ZW50LiBUaGlzIG1vZGlmaWVzIHRoZSBvcmlnaW5hbCBmb2xkZXJDb25maWcuY29uZmlnIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtNZW51Rm9sZGVyQ29uZmlnfSBmb2xkZXJDb25maWdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVJdGVtcyhmb2xkZXJDb25maWcpIHtcbiAgICBmb2xkZXJDb25maWcuaXRlbXMgPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKGZvbGRlckNvbmZpZy5jb25maWcpLmZvckVhY2goKGl0ZW1Db25maWdLZXkpID0+IHtcbiAgICAgIC8vIERvIG5vdCBleHBvc2UgaW50ZXJuYWwgY29uZmlndXJhdGlvbnMgdG8gdGhlIHVzZXIuXG4gICAgICBpZiAoaXRlbUNvbmZpZ0tleS5zdWJzdHIoMCwgMSkgPT09ICdfJykgcmV0dXJuO1xuXG4gICAgICBjb25zdCBpdGVtQ29uZmlnID0gZm9sZGVyQ29uZmlnLmNvbmZpZ1tpdGVtQ29uZmlnS2V5XTtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIG1ldGhvZCB0byB1c2UgdG8gY3JlYXRlIHRoZSBtZW51IGl0ZW0uXG4gICAgICBjb25zdCBwYWlyID0gZmluZChbXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzVG9nZ2xlSXRlbSwgQ29uZmlnQ29udHJvbGxlci5fY3JlYXRlVG9nZ2xlSXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzVHJpZ2dlckl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVRyaWdnZXJJdGVtXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNTbGlkZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVTbGlkZXJJdGVtXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNOdW1iZXJJdGVtLCBDb25maWdDb250cm9sbGVyLl9jcmVhdGVOdW1iZXJJdGVtXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNIc2xDb2xvckl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZUhzbENvbG9ySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzVGV4dEl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVRleHRJdGVtXSxcbiAgICAgICAgW0NvbmZpZ0NvbnRyb2xsZXIuaXNTdHJpbmdTZWxlY3Rvckl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVN0cmluZ1NlbGVjdG9ySXRlbV0sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzVmVjM051bWJlckl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVZlYzNOdW1iZXJJdGVtc10sXG4gICAgICAgIFtDb25maWdDb250cm9sbGVyLmlzVmVjM1NsaWRlckl0ZW0sIENvbmZpZ0NvbnRyb2xsZXIuX2NyZWF0ZVZlYzNTbGlkZXJJdGVtc10sXG4gICAgICBdLCAocGFpcikgPT4gcGFpclswXShpdGVtQ29uZmlnKSk7XG4gICAgICBpZiAoIXBhaXIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVbnJlY29nbml6ZWQgY29uZmlnIHR5cGUnLCBpdGVtQ29uZmlnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbWVudUl0ZW1DcmVhdG9yID0gcGFpclsxXTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBhY3R1YWwgZGF0LkdVSSBtZW51IGl0ZW0gYW5kIHNhdmUgYSByZWZlcmVuY2UgdG8gaXQuXG4gICAgICBjb25zdCBtZW51SXRlbURhdGEgPSBtZW51SXRlbUNyZWF0b3IuY2FsbCh0aGlzLCBmb2xkZXJDb25maWcuY29uZmlnLFxuICAgICAgICAgIGl0ZW1Db25maWdLZXksIGl0ZW1Db25maWcsIGZvbGRlckNvbmZpZy5mb2xkZXIpO1xuICAgICAgaWYgKG1lbnVJdGVtRGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGNvbnN0IHBhcmVudE1lbnVJdGVtRGF0YSA9IHtvbkNoYW5nZUxpc3RlbmVyczogW119O1xuXG4gICAgICAgIC8vIFJlY29yZCB0aGUgaW5kaXZpZHVhbCBzdWItaXRlbXMuXG4gICAgICAgIG1lbnVJdGVtRGF0YS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgIGZvbGRlckNvbmZpZy5pdGVtc1tkYXRhLmxhYmVsXSA9IGRhdGE7XG5cbiAgICAgICAgICAvLyBIb29rIHVwIHRoZSAocGFyZW50IGl0ZW0ncykgb25DaGFuZ2UgbGlzdGVuZXJzLlxuICAgICAgICAgIGRhdGEubWVudUl0ZW0ub25DaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgZGF0YS5vbkNoYW5nZUxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAgICAgcGFyZW50TWVudUl0ZW1EYXRhLm9uQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlY29yZCB0aGUgcGFyZW50IGl0ZW0uXG4gICAgICAgIGZvbGRlckNvbmZpZy5pdGVtc1tpdGVtQ29uZmlnS2V5XSA9IHBhcmVudE1lbnVJdGVtRGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvbGRlckNvbmZpZy5pdGVtc1tpdGVtQ29uZmlnS2V5XSA9IG1lbnVJdGVtRGF0YTtcblxuICAgICAgICAvLyBIb29rIHVwIHRoZSBvbkNoYW5nZSBsaXN0ZW5lcnMuXG4gICAgICAgIG1lbnVJdGVtRGF0YS5tZW51SXRlbS5vbkNoYW5nZSgoKSA9PlxuICAgICAgICAgICAgbWVudUl0ZW1EYXRhLm9uQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUZvbGRlckNvbmZpZ30gZm9sZGVyQ29uZmlnXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvbkNoYW5nZUxpc3RlbmVycyBBIG1hcCBmcm9tIGxhYmVscyB0byBvbi1jaGFuZ2UgZXZlbnQgaGFuZGxlcnMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWFrZUluaXRpYWxDYWxsVG9MaXN0ZW5lcnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hZGRPbkNoYW5nZUxpc3RlbmVycyhmb2xkZXJDb25maWcsIG9uQ2hhbmdlTGlzdGVuZXJzLCBtYWtlSW5pdGlhbENhbGxUb0xpc3RlbmVycykge1xuICAgIGlmIChvbkNoYW5nZUxpc3RlbmVycykge1xuICAgICAgT2JqZWN0LmtleXMob25DaGFuZ2VMaXN0ZW5lcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc3Qgb25DaGFuZ2VIYW5kbGVyID0gb25DaGFuZ2VMaXN0ZW5lcnNba2V5XTtcbiAgICAgICAgY29uZmlnQ29udHJvbGxlci5hZGRPbkNoYW5nZUxpc3RlbmVyKGZvbGRlckNvbmZpZywga2V5LCBvbkNoYW5nZUhhbmRsZXIpO1xuICAgICAgICBpZiAobWFrZUluaXRpYWxDYWxsVG9MaXN0ZW5lcnMpIHtcbiAgICAgICAgICBvbkNoYW5nZUhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBtZW51IG9uIHNtYWxsZXIgc2NyZWVucy5cbiAgICovXG4gIF9vblJlc2l6ZSgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChnZXRWaWV3cG9ydFNpemUoKSA8IF9TTUFMTF9TQ1JFRU5fV0lEVEhfVEhSRVNIT0xEKSB7XG4gICAgICAgIHRoaXMuX2d1aS5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sIDEwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1RvZ2dsZU1lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IGZvbGRlclxuICAgKiBAcmV0dXJucyB7TWVudUl0ZW1EYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVUb2dnbGVJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsKSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtUcmlnZ2VyTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVRyaWdnZXJJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsKSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtTbGlkZXJNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlU2xpZGVySXRlbShjb25maWdPYmplY3QsIGxhYmVsLCBpdGVtQ29uZmlnLCBmb2xkZXIpIHtcbiAgICAvLyBSZXBsYWNlIHRoZSBvcmlnaW5hbCBpdGVtQ29uZmlnIG9uIHRoZSBjb25maWdPYmplY3Qgd2l0aCB0aGUgYWN0dWFsIHN0YXJ0aW5nIHZhbHVlLlxuICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBpdGVtQ29uZmlnLnN0YXJ0O1xuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gaXNJbnQoaXRlbUNvbmZpZy5taW4pICYmIGlzSW50KGl0ZW1Db25maWcubWF4KVxuICAgICAgICA/IFtDb25maWdDb250cm9sbGVyLl90cnVuY2F0ZVRvSW50LmJpbmQobnVsbCwgY29uZmlnT2JqZWN0LCBsYWJlbCldXG4gICAgICAgIDogW107XG5cbiAgICAvLyBDcmVhdGUgdGhlIG1lbnUgaXRlbS5cbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZy5taW4sIGl0ZW1Db25maWcubWF4KSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBsaXN0ZW5lcnNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7TnVtYmVyTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZU51bWJlckl0ZW0oY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBtZW51IGl0ZW0uXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lbnVJdGVtOiBmb2xkZXIuYWRkKGNvbmZpZ09iamVjdCwgbGFiZWwpLFxuICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gZm9yY2UgaW50IHNsaWRlcnMgdG8gb25seSBwcm9kdWNlIGludHMuXG4gICAqXG4gICAqIFRoaXMgc2hvdWxkbid0IGJlIG5lZWRlZCwgYnV0IGRhdC5HVUkgZG9lc24ndCBzZWVtIHRvIGJlIGJlaGF2aW5nIGNvbnNpc3RlbnRseS5cbiAgICpcbiAgICogQHBhcmFtIGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0gbGFiZWxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfdHJ1bmNhdGVUb0ludChjb25maWdPYmplY3QsIGxhYmVsKSB7XG4gICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IHBhcnNlSW50KGNvbmZpZ09iamVjdFtsYWJlbF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7SHNsQ29sb3JNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlSHNsQ29sb3JJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIC8vIENyZWF0ZSB0aGUgcHJvcGVydHkgdGhhdCB0aGUgbWVudSBpdGVtIHdpbGwgdXNlLlxuICAgIGl0ZW1Db25maWcgPSBoc2xUb0hzdihpdGVtQ29uZmlnKTtcbiAgICBjb25maWdPYmplY3RbbGFiZWxdID0gaXRlbUNvbmZpZztcblxuICAgIC8vIFNldCB1cCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBrZWVwIGRlcml2ZWQgSFNMIHZhbHVlcyBpbiBzeW5jIHdpdGggdGhlIG5hdGl2ZSBIU1YgdmFsdWVzIHVzZWRcbiAgICAvLyBieSB0aGUgZGF0LkdVSSBtZW51IGl0ZW0uXG4gICAgY29uc3QgY2FsY3VsYXRlSHNsVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgaHNsID0gaHN2VG9Ic2woY29uZmlnT2JqZWN0W2xhYmVsXSk7XG4gICAgICBjb25zdCByZ2IgPSBoc2xUb1JnYihoc2wpO1xuICAgICAgaXRlbUNvbmZpZy5oc2wgPSBoc2w7XG4gICAgICBpdGVtQ29uZmlnLnJnYiA9IHJnYjtcbiAgICAgIGl0ZW1Db25maWcucmdiVmVjID0gdmVjMy5mcm9tVmFsdWVzKHJnYi5yLCByZ2IuZywgcmdiLmIpO1xuICAgICAgaXRlbUNvbmZpZy5oc2wuY29sb3JTdHJpbmcgPSBjcmVhdGVIc2xDb2xvclN0cmluZyhoc2wpO1xuICAgIH07XG4gICAgY2FsY3VsYXRlSHNsVmFsdWVzKCk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG1lbnUgaXRlbS5cbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGRDb2xvcihjb25maWdPYmplY3QsIGxhYmVsKSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbY2FsY3VsYXRlSHNsVmFsdWVzXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtUZXh0TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtNZW51SXRlbURhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZVRleHRJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIHJldHVybiB7XG4gICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsKSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtWZWMzTnVtYmVyTWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gZm9sZGVyXG4gICAqIEByZXR1cm5zIHtBcnJheS48TWVudUl0ZW1EYXRhPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlVmVjM051bWJlckl0ZW1zKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIGNvbnN0IHhMYWJlbCA9IGAke2xhYmVsfVhgO1xuICAgIGNvbnN0IHlMYWJlbCA9IGAke2xhYmVsfVlgO1xuICAgIGNvbnN0IHpMYWJlbCA9IGAke2xhYmVsfVpgO1xuXG4gICAgLy8gU2V0IHVwIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGtlZXAgdGhlIGRlcml2ZWQgdmVjMyBpbiBzeW5jIHdpdGggaXRzIGluZGl2aWR1YWwgY29vcmRpbmF0ZXMuXG4gICAgY29uc3QgX3VwZGF0ZVZlYzMgPSAoKSA9PiB2ZWMzLnNldChpdGVtQ29uZmlnLCBjb25maWdPYmplY3RbeExhYmVsXSwgY29uZmlnT2JqZWN0W3lMYWJlbF0sXG4gICAgICAgIGNvbmZpZ09iamVjdFt6TGFiZWxdKTtcblxuICAgIHJldHVybiBbXG4gICAgICBbMCwgeExhYmVsXSxcbiAgICAgIFsxLCB5TGFiZWxdLFxuICAgICAgWzIsIHpMYWJlbF1cbiAgICBdLm1hcChpbmRleEFuZExhYmVsID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhBbmRMYWJlbFswXTtcbiAgICAgIGNvbnN0IGxhYmVsID0gaW5kZXhBbmRMYWJlbFsxXTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBpbmRpdmlkdWFsIHZlYzMgY29vcmRpbmF0ZSBwcm9wZXJ0eSBhbmQgaW5pdGlhbCB2YWx1ZS5cbiAgICAgIGNvbmZpZ09iamVjdFtsYWJlbF0gPSBpdGVtQ29uZmlnW2luZGV4XTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBpbmRpdmlkdWFsIHZlYzMgY29vcmRpbmF0ZSBtZW51IGl0ZW0uXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZW51SXRlbTogZm9sZGVyLmFkZChjb25maWdPYmplY3QsIGxhYmVsKSxcbiAgICAgICAgb25DaGFuZ2VMaXN0ZW5lcnM6IFtfdXBkYXRlVmVjM10sXG4gICAgICAgIGxhYmVsOiBsYWJlbFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1ZlYzNTbGlkZXJNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge0FycmF5LjxNZW51SXRlbURhdGE+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVWZWMzU2xpZGVySXRlbXMoY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZywgZm9sZGVyKSB7XG4gICAgLy8gUmVwbGFjZSB0aGUgb3JpZ2luYWwgaXRlbUNvbmZpZyBvbiB0aGUgY29uZmlnT2JqZWN0IHdpdGggdGhlIGFjdHVhbCBzdGFydGluZyB2YWx1ZS5cbiAgICBjb25maWdPYmplY3RbbGFiZWxdID0gaXRlbUNvbmZpZy5zdGFydDtcblxuICAgIGNvbnN0IHhMYWJlbCA9IGAke2xhYmVsfVhgO1xuICAgIGNvbnN0IHlMYWJlbCA9IGAke2xhYmVsfVlgO1xuICAgIGNvbnN0IHpMYWJlbCA9IGAke2xhYmVsfVpgO1xuXG4gICAgLy8gU2V0IHVwIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGtlZXAgdGhlIGRlcml2ZWQgdmVjMyBpbiBzeW5jIHdpdGggaXRzIGluZGl2aWR1YWwgY29vcmRpbmF0ZXMuXG4gICAgY29uc3QgX3VwZGF0ZVZlYzMgPSAoKSA9PiB2ZWMzLnNldChjb25maWdPYmplY3RbbGFiZWxdLCBjb25maWdPYmplY3RbeExhYmVsXSxcbiAgICAgICAgY29uZmlnT2JqZWN0W3lMYWJlbF0sIGNvbmZpZ09iamVjdFt6TGFiZWxdKTtcblxuICAgIHJldHVybiBbXG4gICAgICBbMCwgeExhYmVsXSxcbiAgICAgIFsxLCB5TGFiZWxdLFxuICAgICAgWzIsIHpMYWJlbF1cbiAgICBdLm1hcChpbmRleEFuZExhYmVsID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhBbmRMYWJlbFswXTtcbiAgICAgIGNvbnN0IGxhYmVsID0gaW5kZXhBbmRMYWJlbFsxXTtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gaXRlbUNvbmZpZy5zdGFydFtpbmRleF07XG4gICAgICBjb25zdCBtaW4gPSBpdGVtQ29uZmlnLm1pbltpbmRleF07XG4gICAgICBjb25zdCBtYXggPSBpdGVtQ29uZmlnLm1heFtpbmRleF07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgaW5kaXZpZHVhbCB2ZWMzIGNvb3JkaW5hdGUgcHJvcGVydHkgYW5kIGluaXRpYWwgdmFsdWUuXG4gICAgICBjb25maWdPYmplY3RbbGFiZWxdID0gc3RhcnQ7XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgaW5kaXZpZHVhbCB2ZWMzIGNvb3JkaW5hdGUgbWVudSBpdGVtLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCwgbWluLCBtYXgpLFxuICAgICAgICBvbkNoYW5nZUxpc3RlbmVyczogW191cGRhdGVWZWMzXSxcbiAgICAgICAgbGFiZWw6IGxhYmVsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7U3RyaW5nU2VsZWN0b3JNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcGFyYW0ge2RhdC5ndWkuR1VJfSBmb2xkZXJcbiAgICogQHJldHVybnMge01lbnVJdGVtRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlU3RyaW5nU2VsZWN0b3JJdGVtKGNvbmZpZ09iamVjdCwgbGFiZWwsIGl0ZW1Db25maWcsIGZvbGRlcikge1xuICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIGl0ZW1Db25maWcgb24gdGhlIGNvbmZpZ09iamVjdCB3aXRoIHRoZSBhY3R1YWwgc3RhcnRpbmcgdmFsdWUuXG4gICAgY29uZmlnT2JqZWN0W2xhYmVsXSA9IGl0ZW1Db25maWcuc3RhcnQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWVudUl0ZW06IGZvbGRlci5hZGQoY29uZmlnT2JqZWN0LCBsYWJlbCwgaXRlbUNvbmZpZy5vcHRpb25zKSxcbiAgICAgIG9uQ2hhbmdlTGlzdGVuZXJzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1RvZ2dsZUl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ2Jvb2xlYW4nO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNUcmlnZ2VySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVudUl0ZW1Db25maWd9IGl0ZW1Db25maWdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNTbGlkZXJJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW1Db25maWcgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBpdGVtQ29uZmlnLnN0YXJ0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5taW4gPT09ICdudW1iZXInICYmXG4gICAgICAgIHR5cGVvZiBpdGVtQ29uZmlnLm1heCA9PT0gJ251bWJlcic7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc051bWJlckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ251bWJlcic7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0hzbENvbG9ySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5oID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5zID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5sID09PSAnbnVtYmVyJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzVGV4dEl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ3N0cmluZyc7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1N0cmluZ1NlbGVjdG9ySXRlbShpdGVtQ29uZmlnKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtQ29uZmlnID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgaXRlbUNvbmZpZy5zdGFydCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgaXRlbUNvbmZpZy5vcHRpb25zIGluc3RhbmNlb2YgQXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZW51SXRlbUNvbmZpZ30gaXRlbUNvbmZpZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1ZlYzNOdW1iZXJJdGVtKGl0ZW1Db25maWcpIHtcbiAgICByZXR1cm4gKGl0ZW1Db25maWcgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHwgaXRlbUNvbmZpZyBpbnN0YW5jZW9mIEFycmF5KSAmJlxuICAgICAgICBpdGVtQ29uZmlnLmxlbmd0aCA9PT0gMztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01lbnVJdGVtQ29uZmlnfSBpdGVtQ29uZmlnXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzVmVjM1NsaWRlckl0ZW0oaXRlbUNvbmZpZykge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbUNvbmZpZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgQ29uZmlnQ29udHJvbGxlci5pc1ZlYzNOdW1iZXJJdGVtKGl0ZW1Db25maWcuc3RhcnQpICYmXG4gICAgICAgIENvbmZpZ0NvbnRyb2xsZXIuaXNWZWMzTnVtYmVySXRlbShpdGVtQ29uZmlnLm1pbikgJiZcbiAgICAgICAgQ29uZmlnQ29udHJvbGxlci5pc1ZlYzNOdW1iZXJJdGVtKGl0ZW1Db25maWcubWF4KTtcbiAgfVxufVxuXG5jb25zdCBjb25maWdDb250cm9sbGVyID0gbmV3IENvbmZpZ0NvbnRyb2xsZXIoKTtcblxuZXhwb3J0IHtjb25maWdDb250cm9sbGVyfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNZW51SXRlbURhdGFcbiAqIEBwcm9wZXJ0eSB7ZGF0Lmd1aS5jb250cm9sbGVyfSBtZW51SXRlbSBUaGUgYWN0dWFsIGRhdC5HVUkgbWVudSBpdGVtLlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSBvbkNoYW5nZUxpc3RlbmVycyBvbkNoYW5nZSBsaXN0ZW5lcnMgZm9yIHRoZSBtZW51IGl0ZW0uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2xhYmVsXSBUaGUgbGFiZWwgdXNlZCBmb3IgdGhlIG1lbnUgaXRlbS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1lbnVGb2xkZXJDb25maWdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYWJlbFxuICogQHByb3BlcnR5IHtPYmplY3R9IGNvbmZpZyBBIG1hcCBmcm9tIGxhYmVscyB0byBNZW51SXRlbUNvbmZpZ3MuIEFueSBjb25maWcgaXRlbSB3aG9zZSBsYWJlbFxuICogc3RhcnRzIHdpdGggJ18nIHdpbGwgYmUgdHJlYXRlZCBhcyBpbnRlcm5hbCBhbmQgd2lsbCBub3QgYmUgZXhwb3NlZCB0byB0aGUgdXNlci5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzT3Blbj1mYWxzZV1cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbb25DaGFuZ2VMaXN0ZW5lcnNdIEEgbWFwIGZyb20gbGFiZWxzIHRvIG9uLWNoYW5nZSBldmVudCBoYW5kbGVycy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPE1lbnVGb2xkZXJDb25maWc+fSBbY2hpbGRGb2xkZXJzXVxuICogQHByb3BlcnR5IHtPYmplY3R9IFtpdGVtc10gQSBtYXAgZnJvbSBsYWJlbHMgdG8gTWVudUl0ZW1EYXRhcy5cbiAqIEBwcm9wZXJ0eSB7ZGF0Lmd1aS5HVUl9IFtmb2xkZXJdIENyZWF0ZWQgYW5kIGFkZGVkIGJ5IHRoZSBDb25maWdDb250cm9sbGVyIGFmdGVyIHJlZ2lzdGVyaW5nIHRoZVxuICogZm9sZGVyLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1RvZ2dsZU1lbnVJdGVtQ29uZmlnfFRyaWdnZXJNZW51SXRlbUNvbmZpZ3xTbGlkZXJNZW51SXRlbUNvbmZpZ3xOdW1iZXJNZW51SXRlbUNvbmZpZ3xIc2xDb2xvck1lbnVJdGVtQ29uZmlnfFRleHRNZW51SXRlbUNvbmZpZ3xTdHJpbmdTZWxlY3Rvck1lbnVJdGVtQ29uZmlnfFZlYzNOdW1iZXJNZW51SXRlbUNvbmZpZ3xWZWMzU2xpZGVyTWVudUl0ZW1Db25maWd9IE1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7Ym9vbGVhbn0gVG9nZ2xlTWVudUl0ZW1Db25maWdcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtGdW5jdGlvbn0gVHJpZ2dlck1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTbGlkZXJNZW51SXRlbUNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBOdW1iZXJNZW51SXRlbUNvbmZpZ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSHNsQ29sb3JNZW51SXRlbUNvbmZpZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGggQSB2YWx1ZSBmcm9tIDAgdG8gMS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzIEEgdmFsdWUgZnJvbSAwIHRvIDEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbCBBIHZhbHVlIGZyb20gMCB0byAxLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge3N0cmluZ30gVGV4dE1lbnVJdGVtQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdHJpbmdTZWxlY3Rvck1lbnVJdGVtQ29uZmlnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPFN0cmluZz59IG9wdGlvbnNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHt2ZWMzfSBWZWMzTnVtYmVyTWVudUl0ZW1Db25maWdcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFZlYzNTbGlkZXJNZW51SXRlbUNvbmZpZ1xuICogQHByb3BlcnR5IHt2ZWMzfSBzdGFydFxuICogQHByb3BlcnR5IHt2ZWMzfSBtaW5cbiAqIEBwcm9wZXJ0eSB7dmVjM30gbWF4XG4gKi9cbiIsImltcG9ydCB7IGFuaW1hdG9yIH0gZnJvbSAnbHNsLWFuaW1hdGV4JztcbmltcG9ydCB7XG4gIEdyYWZ4Q29udHJvbGxlcixcbiAgaGFuZGxlUGFnZUZvY3VzQ2hhbmdlLFxufVxuZnJvbSAnZ3JhZngnO1xuaW1wb3J0IHsgY29uZmlnQ29udHJvbGxlciB9IGZyb20gJy4vY29uZmlnLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgSW5wdXRDb250cm9sbGVyIH0gZnJvbSAnLi9pbnB1dC1jb250cm9sbGVyJztcblxuLyoqXG4gKiBUaGlzIHRvcC1sZXZlbCBDb250cm9sbGVyIGNsYXNzIGluaXRpYWxpemVzIGFuZCBydW5zIHRoZSByZXN0IG9mIHRoZSBhcHAuXG4gKi9cbmNsYXNzIEdhbWVDb250cm9sbGVyIGV4dGVuZHMgR3JhZnhDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuaXNHYW1lT3ZlciA9IHRydWU7XG4gICAgdGhpcy5faW5wdXRDdHJsID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgYXBwLiBBZnRlciB0aGlzIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHksIGNhbGwgcnVuIHRvIGFjdHVhbGx5IHN0YXJ0IHRoZSBhcHAuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9ncmFtV3JhcHBlckNvbmZpZz59IHByb2dyYW1Db25maWdzIENvbmZpZ3VyYXRpb25zIGZvciBwcm9ncmFtIHdyYXBwZXJzIHRoYXRcbiAgICogc2hvdWxkIGJlIHByZS1jYWNoZWQgYmVmb3JlIHN0YXJ0aW5nIHRoZSByZXN0IG9mIHRoZSBhcHAuXG4gICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IHRleHR1cmVQYXRocyBUZXh0dXJlIGltYWdlcyB0aGF0IHNob3VsZCBiZSBwcmUtY2FjaGVkIGJlZm9yZVxuICAgKiBzdGFydGluZyB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uLjxTY2VuZT59IFNjZW5lSW1wbCBBIGNsYXNzIHRoYXQgZXh0ZW5kcyBHYW1lU2NlbmUuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgaW5pdGlhbGl6ZShjYW52YXMsIHByb2dyYW1Db25maWdzLCB0ZXh0dXJlUGF0aHMsIFNjZW5lSW1wbCkge1xuICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICAgIGNvbmZpZ0NvbnRyb2xsZXIuaW5pdGlhbGl6ZSgpO1xuICAgIHRoaXMuX3NldFVwSW5wdXQoKTtcblxuICAgIHJldHVybiBzdXBlci5pbml0aWFsaXplKGNhbnZhcywgcHJvZ3JhbUNvbmZpZ3MsIHRleHR1cmVQYXRocywgU2NlbmVJbXBsKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5faW5wdXRDdHJsLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIHRoZSBhcHAuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBpbml0aWFsaXplLlxuICAgKlxuICAgKiBBIGZldyB0aGluZ3MgaGFwcGVuIGlmIHRoaXMgaXMgcnVuIGluIGRldiBtb2RlOlxuICAgKiAtIFRoZSBkcmF3IGFuZCB1cGRhdGUgc3RlcHMgb2YgZWFjaCBmcmFtZSBhcmUgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaCBibG9jay5cbiAgICogLSBUaGlzIG1ldGhvZCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlamVjdHMgaWYgYW4gZXJyb3IgaXMgdGhyb3cgZHVyaW5nIGFueSB1cGRhdGUgb3IgZHJhd1xuICAgKiAgIHN0ZXAgYW5kIHJlc29sdmVzIHdoZW4gdGhpcyBjb250cm9sbGVyIGhhcyBmaW5pc2hlZCAoY3VycmVudGx5IG5ldmVyKVxuICAgKi9cbiAgcnVuKCkge1xuICAgIGhhbmRsZVBhZ2VGb2N1c0NoYW5nZShoYXNGb2N1cyA9PiB0aGlzLl9vblBhZ2VGb2N1c0NoYW5nZShoYXNGb2N1cykpO1xuICAgIHN1cGVyLnJ1bigpO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgYW5pbWF0b3IucGF1c2UoKTtcbiAgfVxuXG4gIHVucGF1c2UoKSB7XG4gICAgYW5pbWF0b3IudW5wYXVzZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGlzUGF1c2VkKCkge1xuICAgIHJldHVybiBhbmltYXRvci5pc1BhdXNlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhc0ZvY3VzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfb25QYWdlRm9jdXNDaGFuZ2UoaGFzRm9jdXMpIHtcbiAgICBpZiAoIWhhc0ZvY3VzKSB7XG4gICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0VXBJbnB1dCgpIHtcbiAgICB0aGlzLl9pbnB1dEN0cmwgPSBuZXcgSW5wdXRDb250cm9sbGVyKCk7XG4gICAgdGhpcy5faW5wdXRDdHJsLnByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yS2V5KCdTUEFDRScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBzY2VuZS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbi48U2NlbmU+fSBTY2VuZUltcGwgQSBjbGFzcyB0aGF0IGV4dGVuZHMgR2FtZVNjZW5lLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFVwU2NlbmUoU2NlbmVJbXBsKSB7XG4gICAgdGhpcy5fc2NlbmUgPSBuZXcgU2NlbmVJbXBsKHtcbiAgICAgIGdsOiB0aGlzLl9nbCxcbiAgICAgIGdldFZpZXdNYXRyaXg6ICgpID0+IHRoaXMuX2dldFZpZXdNYXRyaXgoKSxcbiAgICAgIGdldFByb2plY3Rpb25NYXRyaXg6ICgpID0+IHRoaXMuX2dldFByb2plY3Rpb25NYXRyaXgoKSxcbiAgICB9LCB0aGlzLCB0aGlzLl9pbnB1dEN0cmwpO1xuICAgIHJldHVybiB0aGlzLl9zY2VuZS5nZXRJc1JlYWR5KCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl9zY2VuZS5yZXNldCgpO1xuICAgICAgdGhpcy5fdXBkYXRlQXNwZWN0UmF0aW8oKTsgLy8gVE9ETzogVGhpcyBzaG91bGQgTk9UIGhhcHBlbiBoZXJlIG9yIHVzaW5nIHRoZSBnbFV0aWwgZ2xvYmFscy5cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBHYW1lQ29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgU2NlbmUgfSBmcm9tICdncmFmeCc7XG5pbXBvcnQgeyBBYWJiIH0gZnJvbSAnbHNsLXBoeXN4JztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgdGhlIG92ZXJhbGwgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFNjZW5lIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWxHcm91cENvbnRyb2xsZXJDb25maWd9IG1vZGVsQ29udHJvbGxlclBhcmFtc1xuICAgKiBAcGFyYW0ge0dhbWVDb250cm9sbGVyfSBnYW1lQ3RybFxuICAgKiBAcGFyYW0ge0lucHV0Q29udHJvbGxlcn0gaW5wdXRDdHJsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZW5kZXJEaXN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IobW9kZWxDb250cm9sbGVyUGFyYW1zLCBnYW1lQ3RybCwgaW5wdXRDdHJsLCByZW5kZXJEaXN0YW5jZSkge1xuICAgIHN1cGVyKG1vZGVsQ29udHJvbGxlclBhcmFtcyk7XG5cbiAgICAvLyBHYW1lU2NlbmUgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBHYW1lU2NlbmUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgR2FtZVNjZW5lIGluc3RhbmNlcyBkaXJlY3RseScpO1xuICAgIH1cblxuICAgIHRoaXMuX2dhbWVDdHJsID0gZ2FtZUN0cmw7XG4gICAgdGhpcy5faW5wdXRDdHJsID0gaW5wdXRDdHJsO1xuICAgIHRoaXMuX3JlbmRlckRpc3RhbmNlID0gcmVuZGVyRGlzdGFuY2U7XG4gICAgdGhpcy5fYm91bmRzID0gQWFiYi5jcmVhdGVBc1VuaWZvcm1Bcm91bmRDZW50ZXIoXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCksIHRoaXMuX3JlbmRlckRpc3RhbmNlKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuY2VudGVyT2ZWb2x1bWUgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMCk7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7QWFiYn0gKi9cbiAgZ2V0IGJvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICB9XG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9ib3VuZHMuY2VudGVyT2ZWb2x1bWU7XG4gIH1cbiAgLyoqIEBwYXJhbSB7dmVjM30gdmFsdWUgKi9cbiAgc2V0IGNlbnRlck9mVm9sdW1lKHZhbHVlKSB7XG4gICAgdGhpcy5fYm91bmRzLnNldEFzVW5pZm9ybUFyb3VuZENlbnRlcih2YWx1ZSwgdGhpcy5fcmVuZGVyRGlzdGFuY2UpO1xuICB9XG59XG5cbmV4cG9ydCB7IEdhbWVTY2VuZSB9O1xuIiwiaW1wb3J0IHtrZXlDb2Rlc30gZnJvbSAnZ3JhZngnO1xuXG4vLyBUT0RPOiBGaWd1cmUgb3V0IGhvdyB0byBjYXB0dXJlOiB0YWIsIHNwYWNlLCBlc2NhcGUsIGVudGVyOyBwcmV2ZW50IHRoZWlyIGRlZmF1bHQgYmVoYXZpb3JzIHdoZW5cbi8vIGxpc3RlbmVycyBoYXZlIGJlZW4gcmVnaXN0ZXJlZCBmb3IgdGhlbS5cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGhhbmRsZXMgdXNlciBpbnB1dC5cbiAqL1xuY2xhc3MgSW5wdXRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fa2V5RG93bkxpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMuX2tleVVwTGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5fY3VycmVudGx5UHJlc3NlZEtleXMgPSB7fTtcbiAgICB0aGlzLl9rZXlzVG9QcmV2ZW50RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvciA9IHt9O1xuXG4gICAgdGhpcy5fbWFpbktleURvd25MaXN0ZW5lciA9IGV2ZW50ID0+IHRoaXMuX2hhbmRsZUtleURvd24oZXZlbnQpO1xuICAgIHRoaXMuX21haW5LZXlVcExpc3RlbmVyID0gZXZlbnQgPT4gdGhpcy5faGFuZGxlS2V5VXAoZXZlbnQpO1xuICAgIHRoaXMuX21haW5LZXlQcmVzc0xpc3RlbmVyID0gZXZlbnQgPT4gdGhpcy5faGFuZGxlS2V5UHJlc3MoZXZlbnQpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9tYWluS2V5RG93bkxpc3RlbmVyLCBmYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fbWFpbktleVVwTGlzdGVuZXIsIGZhbHNlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9tYWluS2V5UHJlc3NMaXN0ZW5lciwgZmFsc2UpO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX21haW5LZXlEb3duTGlzdGVuZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX21haW5LZXlVcExpc3RlbmVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLl9tYWluS2V5UHJlc3NMaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBnaXZlbiBrZXkgaXMgcHJlc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgYWRkS2V5RG93bkxpc3RlbmVyKGtleSwgY2FsbGJhY2spIHtcbiAgICBsZXQgbGlzdGVuZXJzRm9yS2V5ID0gdGhpcy5fa2V5RG93bkxpc3RlbmVyc1trZXlDb2Rlc1trZXldXTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgbGlzdGVuZXIgbGlzdCBpcyBpbml0aWFsaXplZCBmb3IgdGhpcyBrZXkuXG4gICAgaWYgKCFsaXN0ZW5lcnNGb3JLZXkpIHtcbiAgICAgIGxpc3RlbmVyc0ZvcktleSA9IG5ldyBTZXQoKTtcbiAgICAgIHRoaXMuX2tleURvd25MaXN0ZW5lcnNba2V5Q29kZXNba2V5XV0gPSBsaXN0ZW5lcnNGb3JLZXk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzRm9yS2V5LmFkZChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBnaXZlbiBrZXkgaXMgbGlmdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBhZGRLZXlVcExpc3RlbmVyKGtleSwgY2FsbGJhY2spIHtcbiAgICBsZXQgbGlzdGVuZXJzRm9yS2V5ID0gdGhpcy5fa2V5VXBMaXN0ZW5lcnNba2V5Q29kZXNba2V5XV07XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGxpc3RlbmVyIGxpc3QgaXMgaW5pdGlhbGl6ZWQgZm9yIHRoaXMga2V5LlxuICAgIGlmICghbGlzdGVuZXJzRm9yS2V5KSB7XG4gICAgICBsaXN0ZW5lcnNGb3JLZXkgPSBuZXcgU2V0KCk7XG4gICAgICB0aGlzLl9rZXlVcExpc3RlbmVyc1trZXlDb2Rlc1trZXldXSA9IGxpc3RlbmVyc0ZvcktleTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnNGb3JLZXkuYWRkKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbi1yZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGdpdmVuIGtleSBpcyBwcmVzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICByZW1vdmVLZXlEb3duTGlzdGVuZXIoa2V5LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX2tleURvd25MaXN0ZW5lcnNba2V5Q29kZXNba2V5XV0uZGVsZXRlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbi1yZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGdpdmVuIGtleSBpcyBsaWZ0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIHJlbW92ZUtleVVwTGlzdGVuZXIoa2V5LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX2tleVVwTGlzdGVuZXJzW2tleUNvZGVzW2tleV1dLmRlbGV0ZShjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoZSBnaXZlbiBrZXkgdG8gcHJldmVudCB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yIHdoZW4gaXQgaXMgcHJlc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKi9cbiAgcHJldmVudERlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3JLZXkoa2V5KSB7XG4gICAgdGhpcy5fa2V5c1RvUHJldmVudERlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3Jba2V5Q29kZXNba2V5XV0gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuLXJlZ2lzdGVycyB0aGUgZ2l2ZW4ga2V5IHRvIHByZXZlbnQgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvciB3aGVuIGl0IGlzIHByZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICovXG4gIGFsbG93RGVmYXVsdEJyb3dzZXJCZWhhdmlvckZvcktleShrZXkpIHtcbiAgICBkZWxldGUgdGhpcy5fa2V5c1RvUHJldmVudERlZmF1bHRCcm93c2VyQmVoYXZpb3JGb3Jba2V5Q29kZXNba2V5XV07XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiBrZXkgaXMgY3VycmVudGx5IHByZXNzZWQgZG93bi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzS2V5Q3VycmVudGx5UHJlc3NlZChrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLl9jdXJyZW50bHlQcmVzc2VkS2V5c1trZXlDb2Rlc1trZXldXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlcyB0aGUgZ2l2ZW4ga2V5IGFzIGJlaW5nIHByZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgLy8gSWYgdGhpcyBrZXkgd2FzIGFscmVhZHkgYmVpbmcgcHJlc3NlZCBkb3duLCB0aGVuIGRvIG5vdGhpbmcgKHdoZW4gYSBrZXkgaXMgaGVsZCBkb3duLCBtYW55XG4gICAgLy8ga2V5ZG93biBldmVudHMgYXJlIGFjdHVhbGx5IHRyaWdnZXJlZCkuXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRseVByZXNzZWRLZXlzW2V2ZW50LmtleUNvZGVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTWFyayB0aGlzIGtleSBhcyBiZWluZyBwcmVzc2VkIGRvd24uXG4gICAgdGhpcy5fY3VycmVudGx5UHJlc3NlZEtleXNbZXZlbnQua2V5Q29kZV0gPSB0cnVlO1xuXG4gICAgLy8gQ2FsbCBhbnkgcmVnaXN0ZXJlZCBrZXktZG93biBsaXN0ZW5lcnMgZm9yIHRoaXMga2V5LlxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2tleURvd25MaXN0ZW5lcnNbZXZlbnQua2V5Q29kZV07XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGFsbCBrZXktdXAgbGlzdGVuZXJzIHRoYXQgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgZm9yIHRoZSBnaXZlbiBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlVcChldmVudCkge1xuICAgIC8vIE1hcmsgdGhpcyBrZXkgYXMgbm8gbG9uZ2VyIGJlaW5nIHByZXNzZWQgZG93bi5cbiAgICBkZWxldGUgdGhpcy5fY3VycmVudGx5UHJlc3NlZEtleXNbZXZlbnQua2V5Q29kZV07XG5cbiAgICAvLyBDYWxsIGFueSByZWdpc3RlcmVkIGtleS11cCBsaXN0ZW5lcnMgZm9yIHRoaXMga2V5LlxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2tleVVwTGlzdGVuZXJzW2V2ZW50LmtleUNvZGVdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50cyB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yIGZvciBrZXlzIHRoYXQgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgdG8gcHJldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuX2tleXNUb1ByZXZlbnREZWZhdWx0QnJvd3NlckJlaGF2aW9yRm9yW2V2ZW50LmtleUNvZGVdKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0lucHV0Q29udHJvbGxlcn07XG4iLCJpbXBvcnQge2lzSW5EZXZNb2RlLCBNb2RlbENvbnRyb2xsZXIsIFN0YW5kYXJkTW9kZWxDb250cm9sbGVyLCB2ZWMzVG9TdHJpbmd9IGZyb20gJ2dyYWZ4JztcbmltcG9ydCB7UGh5c2ljc0pvYiwgUGh5c2ljc1N0YXRlfSBmcm9tICdsc2wtcGh5c3gnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIG5vbi1jb2xsaWRhYmxlIHBoeXNpY3MtYmFzZWQgbW9kZWwtY29udHJvbGxlci5cbiAqXG4gKiBJdCB1c2VzIGNvbXBvc2l0aW9uIHRvIGNvbnRyb2wgYW4gaW5zdGFuY2Ugb2YgYSBNb2RlbENvbnRyb2xsZXIgYWxvbmcgd2l0aCBhIGNvcnJlc3BvbmRpbmdcbiAqIGluc3RhbmNlIG9mIGEgUGh5c2ljc0pvYi5cbiAqXG4gKiBAaW1wbGVtZW50cyB7TW9kZWxDb250cm9sbGVySW50ZXJmYWNlfVxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIFBoeXNpY3NNb2RlbENvbnRyb2xsZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbENvbnRyb2xsZXJ8TW9kZWxDb250cm9sbGVyQ29uZmlnfSBtb2RlbENvbnRyb2xsZXJPclBhcmFtc1xuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J8RHluYW1pY3NDb25maWd9IHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zXG4gICAqIEBwYXJhbSB7UmVuZGVyYWJsZVNoYXBlQ29uZmlnfSBbc2hhcGVQYXJhbXNdXG4gICAqIEBwYXJhbSB7QXJyYXkuPEZvcmNlQXBwbGllcj59IFtmb3JjZUFwcGxpZXJzXVxuICAgKi9cbiAgY29uc3RydWN0b3IobW9kZWxDb250cm9sbGVyT3JQYXJhbXMsIHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zLCBzaGFwZVBhcmFtcywgZm9yY2VBcHBsaWVycykge1xuICAgIC8vIFBoeXNpY3NNb2RlbENvbnRyb2xsZXIgaXMgYW4gYWJzdHJhY3QgY2xhc3MuIEl0IHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBQaHlzaWNzTW9kZWxDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFBoeXNpY3NNb2RlbENvbnRyb2xsZXIgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5tb2RlbEN0cmwgPSBtb2RlbENvbnRyb2xsZXJPclBhcmFtcyBpbnN0YW5jZW9mIE1vZGVsQ29udHJvbGxlclxuICAgICAgICA/IG1vZGVsQ29udHJvbGxlck9yUGFyYW1zXG4gICAgICAgIDogbmV3IFN0YW5kYXJkTW9kZWxDb250cm9sbGVyKG1vZGVsQ29udHJvbGxlck9yUGFyYW1zLCBzaGFwZVBhcmFtcyk7XG5cbiAgICBpZiAocGh5c2ljc0pvYk9yRHluYW1pY3NQYXJhbXMgaW5zdGFuY2VvZiBQaHlzaWNzSm9iKSB7XG4gICAgICB0aGlzLnBoeXNpY3NKb2IgPSBwaHlzaWNzSm9iT3JEeW5hbWljc1BhcmFtcztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgUGh5c2ljc1N0YXRlKHBoeXNpY3NKb2JPckR5bmFtaWNzUGFyYW1zKTtcbiAgICAgIHRoaXMucGh5c2ljc0pvYiA9IG5ldyBQaHlzaWNzSm9iKGZvcmNlQXBwbGllcnMsIHN0YXRlKTtcbiAgICB9XG5cbiAgICB0aGlzLl9vcmlnaW5hbFBvc2l0aW9uID0gdmVjMy5jbG9uZSh0aGlzLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlLnBvc2l0aW9uKTtcblxuICAgIHRoaXMuX3BhdGNoTW9kZWxDb250cm9sbGVyKHtcbiAgICAgIC8qKlxuICAgICAgICogUGF0Y2hlcyB0aGUgTW9kZWxDb250cm9sbGVyJ3MgdXBkYXRlVHJhbnNmb3JtcyBtZXRob2QgaW4gb3JkZXIgdG8ga2VlcCBpdCdzIGxvY2FsLXRyYW5zZm9ybVxuICAgICAgICogbWF0cml4IGluLXN5bmMgd2l0aCB0aGUgUGh5c2ljc0pvYidzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbi5cbiAgICAgICAqL1xuICAgICAgdXBkYXRlVHJhbnNmb3JtczogKHN1cGVyVmVyc2lvbikgPT4ge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIE1vZGVsQ29udHJvbGxlcidzIGxvY2FsLXRyYW5zZm9ybSBtYXRyaXggYWNjb3JkaW5nIHRvIHRoZSBQaHlzaWNzSm9iJ3NcbiAgICAgICAgLy8gY3VycmVudCBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXG4gICAgICAgIG1hdDQuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZSh0aGlzLm1vZGVsQ3RybC5fbG9jYWxUcmFuc2Zvcm0sXG4gICAgICAgICAgICB0aGlzLnJlbmRlck9yaWVudGF0aW9uLCB0aGlzLnJlbmRlclBvc2l0aW9uLFxuICAgICAgICAgICAgdGhpcy5tb2RlbEN0cmwuc2NhbGUpO1xuICAgICAgICBzdXBlclZlcnNpb24oKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoaXNJbkRldk1vZGUpIHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXJOYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLnJlcGxhY2UoJ0NvbnRyb2xsZXInLCAnJyk7XG4gICAgICBjb25zb2xlLmRlYnVnKGAke2NvbnRyb2xsZXJOYW1lfSBjcmVhdGVkIEAgJHt2ZWMzVG9TdHJpbmcodGhpcy5wb3NpdGlvbil9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhdGNoZXMgdGhlIGdpdmVuIG1ldGhvZHMgb24gdGhlIHVuZGVybHlpbmcgTW9kZWxDb250cm9sbGVyLlxuICAgKlxuICAgKiBUaGUgcGF0Y2hlZCBtZXRob2RzIGFyZSBwYXNzZWQgdGhlIG9yaWdpbmFsIG9yIFwic3VwZXJcIiB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgYXMgdGhlIGZpcnN0XG4gICAqIGFyZ3VtZW50OyB0aGUgbm9ybWFsIG1ldGhvZCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIGFmdGVyLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfcGF0Y2hNb2RlbENvbnRyb2xsZXIocGF0Y2hlcykge1xuICAgIE9iamVjdC5rZXlzKHBhdGNoZXMpLmZvckVhY2goKG1ldGhvZE5hbWUpID0+IHtcbiAgICAgIGNvbnN0IG5ld01ldGhvZCA9IHBhdGNoZXNbbWV0aG9kTmFtZV07XG4gICAgICBjb25zdCBzdXBlclZlcnNpb24gPSB0aGlzLm1vZGVsQ3RybFttZXRob2ROYW1lXS5iaW5kKHRoaXMubW9kZWxDdHJsKTtcbiAgICAgIHRoaXMubW9kZWxDdHJsW21ldGhvZE5hbWVdID0gbmV3TWV0aG9kLmJpbmQodGhpcy5tb2RlbEN0cmwsIHN1cGVyVmVyc2lvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoaXMgY29udHJvbGxlcidzIFBoeXNpY3NKb2Iocykgd2l0aCB0aGUgcGh5c2ljcyBlbmdpbmUuXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLm1vZGVsQ3RybC5yZXNldCgpO1xuICAgIHRoaXMucGh5c2ljc0pvYi5wb3NpdGlvbiA9IHRoaXMuX29yaWdpbmFsUG9zaXRpb247XG4gICAgdGhpcy5waHlzaWNzSm9iLmZpbmlzaCgpO1xuICAgIHRoaXMucGh5c2ljc0pvYi5zdGFydCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIHRoaXMgY29udHJvbGxlcidzIFBoeXNpY3NKb2Iocykgd2l0aCB0aGUgcGh5c2ljcyBlbmdpbmUuXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubW9kZWxDdHJsLmRlc3Ryb3koKTtcbiAgICB0aGlzLnBoeXNpY3NKb2IuZmluaXNoKCk7XG4gICAgaWYgKGlzSW5EZXZNb2RlKSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyTmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZS5yZXBsYWNlKCdDb250cm9sbGVyJywgJycpO1xuICAgICAgY29uc29sZS5kZWJ1ZyhgJHtjb250cm9sbGVyTmFtZX0gZGVzdHJveWVkIEAgJHt2ZWMzVG9TdHJpbmcodGhpcy5wb3NpdGlvbil9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBwYXJhbSB7dmVjM30gdmFsdWUgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5waHlzaWNzSm9iLnBvc2l0aW9uID0gdmFsdWU7XG4gIH1cbiAgLyoqIEByZXR1cm5zIHt2ZWMzfSAqL1xuICBnZXQgcG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljc0pvYi5jdXJyZW50U3RhdGUucG9zaXRpb247XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtxdWF0fSAqL1xuICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljc0pvYi5jdXJyZW50U3RhdGUub3JpZW50YXRpb247XG4gIH1cbiAgLy8gRklYTUU6IENhbiBJIHJlbW92ZSB0aGlzP1xuICAvKiogQHJldHVybnMge3ZlYzN9ICovXG4gIGdldCB2ZWxvY2l0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5waHlzaWNzSm9iLmN1cnJlbnRTdGF0ZS52ZWxvY2l0eTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHJlbmRlclBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IucmVuZGVyU3RhdGUucG9zaXRpb247XG4gIH1cbiAgLyoqIEByZXR1cm5zIHtxdWF0fSAqL1xuICBnZXQgcmVuZGVyT3JpZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljc0pvYi5yZW5kZXJTdGF0ZS5vcmllbnRhdGlvbjtcbiAgfVxuICAvLyBGSVhNRTogQ2FuIEkgcmVtb3ZlIHRoaXM/XG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cbiAgZ2V0IHJlbmRlclZlbG9jaXR5KCkge1xuICAgIHJldHVybiB0aGlzLnBoeXNpY3NKb2IucmVuZGVyU3RhdGUudmVsb2NpdHk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0RlZmF1bHRNb2RlbH1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0IF9tb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEN0cmwuX21vZGVsO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICovXG4gIGdldCBzY2FsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbEN0cmwuc2NhbGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGlzIG1vZGVsIGNvbnRyb2xsZXIgaXMgcmVhZHkgZm9yIHRoZSBhcHAgdG8gcnVuLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGdldElzUmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxDdHJsLmdldElzUmVhZHkoKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gbG9jYWwgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IGxvY2FsVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLm1vZGVsQ3RybC5sb2NhbFRyYW5zZm9ybTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgbW9kZWwgdHJhbnNmb3JtIG1hdHJpeCwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHttYXQ0fVxuICAgKi9cbiAgZ2V0IHdvcmxkVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLm1vZGVsQ3RybC53b3JsZFRyYW5zZm9ybTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgdXBkYXRlLCB1cGRhdGVUcmFuc2Zvcm1zLCBhbmQgdXBkYXRlQ2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICovXG4gIHVwZGF0ZVNlbGZBbmRDaGlsZHJlbihjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5tb2RlbEN0cmwudXBkYXRlU2VsZkFuZENoaWxkcmVuKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICB9XG59XG5cbmV4cG9ydCB7UGh5c2ljc01vZGVsQ29udHJvbGxlcn07XG4iLCJpbXBvcnQge0ZvbGxvd0NhbWVyYX0gZnJvbSAnZ3JhZngnO1xuXG4vLyBUT0RPOiBJZGVhbGx5LCB0aGlzIHdvdWxkIHVzZSB0aGUgYnVpbHQtaW4gcGh5c2ljcyBlbmdpbmU7IGhvd2V2ZXIsIHdlIEkgdHJpZWQgaW50ZWdyYXRpbmcgaXRcbi8vIGJlZm9yZSwgSSBub3RpY2VkIHNvbWUgaW5zdGFiaWxpdHkgd2hlbiBtb3ZpbmcgYXQgaGlnaCBzcGVlZHMuIFRoaXMgcHJvYmFibHkgaGFkIHNvbWV0aGluZyB0byBkb1xuLy8gd2l0aCBhY2Nlc3NpbmcgZGlmZmVyZW50IHZlcnNpb25zIG9mIHRoZSB0YXJnZXQgcG9zaXRpb24gKHByZXZpb3VzU3RhdGUgdnMgY3VycmVudFN0YXRlIHZzXG4vLyByZW5kZXJTdGF0ZSlmb3IgZm9yY2UvcG9zaXRpb24gY2FsY3VsYXRpb25zXG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgc3ByaW5nLWJhc2VkIGZvbGxvdyBjYW1lcmEuXG4gKlxuICogVGhpcyBjYW1lcmEgaXMgcG9zaXRpb25lZCBhdCBhIHJlbGF0aXZlLCBmbGV4aWJsZSBkaXN0YW5jZSBhbmQgcm90YXRpb24gZnJvbSB0aGUgb2JzZXJ2ZWQgdGFyZ2V0XG4gKiBhbmQgZm9sbG93cyB0aGUgdGFyZ2V0J3MgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIHdpdGggYSBzcHJpbmcgZm9yY2UgdHlpbmcgdGhlIGNhbWVyYSB0byB0aGVcbiAqIGRlc2lyZWQgcG9zaXRpb24uXG4gKlxuICogQSBmb2xsb3cgY2FtZXJhIHJvdGF0ZXMgaW4gYWxsIHRocmVlIGRpbWVuc2lvbnM7IGl0IGRvZXMgbm90IGhhdmUgYSBmaXhlZCByb2xsLlxuICovXG5jbGFzcyBTcHJpbmdGb2xsb3dDYW1lcmEgZXh0ZW5kcyBGb2xsb3dDYW1lcmEge1xuICAvKipcbiAgICogSWYgb2xkQ2FtZXJhIGlzIGdpdmVuLCB0aGVuIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IGNhbWVyYSB3aWxsIGJlIGluaXRpYWxpemVkIHRvIG1hdGNoIHRoYXQgb2ZcbiAgICogdGhlIG9sZCBjYW1lcmEuIFRoaXMgZW5hYmxlcyBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gY2hhbmdpbmcgY2FtZXJhcy5cbiAgICpcbiAgICogQHBhcmFtIHtDYW1lcmFUYXJnZXR9IGNhbWVyYVRhcmdldFxuICAgKiBAcGFyYW0ge0ZvbGxvd0NhbWVyYUNvbmZpZ30gZm9sbG93Q2FtZXJhUGFyYW1zXG4gICAqIEBwYXJhbSB7Q2FtZXJhQ29uZmlnfSBjYW1lcmFQYXJhbXNcbiAgICogQHBhcmFtIHtDYW1lcmF9IFtvbGRDYW1lcmFdXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYW1lcmFUYXJnZXQsIGZvbGxvd0NhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpIHtcbiAgICBzdXBlcihjYW1lcmFUYXJnZXQsIGZvbGxvd0NhbWVyYVBhcmFtcywgY2FtZXJhUGFyYW1zLCBvbGRDYW1lcmEpO1xuICAgIC8vIFRoZXNlIGNvdWxkIGhhdmUgYmVlbiBzZXQgaW4gX21hdGNoT2xkQ2FtZXJhLlxuICAgIHRoaXMuX3ZlbG9jaXR5ID0gdGhpcy5fdmVsb2NpdHkgfHwgdmVjMy5jcmVhdGUoKTtcbiAgICB0aGlzLl9hY2NlbGVyYXRpb24gPSB0aGlzLl9hY2NlbGVyYXRpb24gfHwgdmVjMy5jcmVhdGUoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gICAgdmVjMy5jb3B5KHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9mb2xsb3dDYW1lcmFQYXJhbXMuX2ludGVuZGVkVHJhbnNsYXRpb25Gcm9tVGFyZ2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqL1xuICB1cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSkge1xuICAgIHRoaXMuX3VwZGF0ZUFjY2VsZXJhdGlvblZlbG9jaXR5QW5kUG9zaXRpb24oZGVsdGFUaW1lKTtcbiAgICB0aGlzLl91cGRhdGVPcmllbnRhdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlQWNjZWxlcmF0aW9uVmVsb2NpdHlBbmRQb3NpdGlvbihkZWx0YVRpbWUpIHtcbiAgICB0aGlzLl91cGRhdGVBY2NlbGVyYXRpb24oKTtcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbihkZWx0YVRpbWUpO1xuICAgIHRoaXMuX3VwZGF0ZVZlbG9jaXR5KGRlbHRhVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYW1lcmEncyBhY2NlbGVyYXRpb24gdXNpbmcgSG9va2UncyBsYXcgYW5kIGRyYWcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlQWNjZWxlcmF0aW9uKCkge1xuICAgIHRoaXMuX2FwcGx5U3ByaW5nQWNjZWxlcmF0aW9uKCk7XG4gICAgdGhpcy5fYXBwbHlTcHJpbmdEYW1waW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYW1lcmEncyBhY2NlbGVyYXRpb24gdXNpbmcgSG9va2UncyBsYXcuXG4gICAqXG4gICAqIGFjY2VsZXJhdGlvbiA9IGRpc3BsYWNlbWVudCAqIGNvZWZmaWNpZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYXBwbHlTcHJpbmdBY2NlbGVyYXRpb24oKSB7XG4gICAgY29uc3QgZGlzcGxhY2VtZW50ID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnN1YnRyYWN0KGRpc3BsYWNlbWVudCwgdGhpcy5fZ2V0SW50ZW5kZWRQb3NpdGlvbigpLCB0aGlzLl9wb3NpdGlvbik7XG4gICAgdmVjMy5zY2FsZSh0aGlzLl9hY2NlbGVyYXRpb24sIGRpc3BsYWNlbWVudCwgdGhpcy5fZm9sbG93Q2FtZXJhUGFyYW1zLnNwcmluZ0NvZWZmaWNpZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2FwcGx5U3ByaW5nRGFtcGluZygpIHtcbiAgICBjb25zdCBkYW1waW5nID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLnNjYWxlKGRhbXBpbmcsIHRoaXMuX3ZlbG9jaXR5LCAtdGhpcy5fZm9sbG93Q2FtZXJhUGFyYW1zLmRhbXBpbmdDb2VmZmljaWVudCk7XG4gICAgdmVjMy5hZGQodGhpcy5fYWNjZWxlcmF0aW9uLCB0aGlzLl9hY2NlbGVyYXRpb24sIGRhbXBpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3MgdmVsb2NpdHkgYWNjb3JkaW5nIHRvIGl0cyBjdXJyZW50IGFjY2VsZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVWZWxvY2l0eShkZWx0YVRpbWUpIHtcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHRoaXMuX3ZlbG9jaXR5LCB0aGlzLl92ZWxvY2l0eSwgdGhpcy5fYWNjZWxlcmF0aW9uLCBkZWx0YVRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY2FtZXJhJ3MgcG9zaXRpb24gYWNjb3JkaW5nIHRvIGl0cyBjdXJyZW50IHZlbG9jaXR5LlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVBvc2l0aW9uKGRlbHRhVGltZSkge1xuICAgIHZlYzMuc2NhbGVBbmRBZGQodGhpcy5fcG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl92ZWxvY2l0eSwgZGVsdGFUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbWVyYX0gb2xkQ2FtZXJhXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9tYXRjaE9sZENhbWVyYShvbGRDYW1lcmEpIHtcbiAgICBzdXBlci5fbWF0Y2hPbGRDYW1lcmEob2xkQ2FtZXJhKTtcbiAgICBpZiAob2xkQ2FtZXJhIGluc3RhbmNlb2YgU3ByaW5nRm9sbG93Q2FtZXJhKSB7XG4gICAgICB0aGlzLl92ZWxvY2l0eSA9IHRoaXMuX3ZlbG9jaXR5IHx8IHZlYzMuY3JlYXRlKCk7XG4gICAgICB0aGlzLl9hY2NlbGVyYXRpb24gPSB0aGlzLl9hY2NlbGVyYXRpb24gfHwgdmVjMy5jcmVhdGUoKTtcbiAgICAgIHZlYzMuY29weSh0aGlzLl92ZWxvY2l0eSwgb2xkQ2FtZXJhLl92ZWxvY2l0eSk7XG4gICAgICB2ZWMzLmNvcHkodGhpcy5fYWNjZWxlcmF0aW9uLCBvbGRDYW1lcmEuX2FjY2VsZXJhdGlvbik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7U3ByaW5nRm9sbG93Q2FtZXJhfTtcbiIsImV4cG9ydCAqIGZyb20gJy4vc3JjL3dhbGwtY29sbGlkYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL3NyYy93YWxsLWNvbnRyb2xsZXInO1xuIiwiaW1wb3J0IHsgQWFiYiB9IGZyb20gJ2xzbC1waHlzeCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgd2FsbCBvciBmbG9vci5cbiAqXG4gKiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBjbGFzcyB0aGF0IGV4dGVuZHMgQWFiYi5cbiAqL1xuY2xhc3MgV2FsbCBleHRlbmRzIEFhYmIge1xuICAvKipcbiAgICogLSBJZiB0aGUgeCBwYXJhbWV0ZXIgaXMgZ2l2ZW4sIHRoZW4gYSB3YWxsIHdpbGwgYmUgY29uc3RydWN0ZWQgYWxvbmcgdGhlIHkteiBwbGFuZSB3aXRoIGl0c1xuICAgKiBzdXJmYWNlIGF0IHRoZSB4IGNvb3JkaW5hdGUuIFRoZSB5IGFuZCB6IHBhcmFtZXRlcnMgYXJlIGhhbmRsZWQgc2ltaWxhcmx5LlxuICAgKiAtIE9ubHkgb25lIG9mIHRoZSB4L3kveiBwYXJhbWV0ZXJzIHNob3VsZCBiZSBzcGVjaWZpZWQuXG4gICAqIC0gSWYgaXNPcGVuT25Qb3NpdGl2ZVNpZGUgaXMgdHJ1ZSwgdGhlbiB0aGUgd2FsbCB3aWxsIGJlIG9wZW4gdG93YXJkIHRoZSBwb3NpdGl2ZSBkaXJlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7V2FsbFBhcmFtc30gd2FsbFBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3Iod2FsbFBhcmFtcykge1xuICAgIGxldCBtaW5YO1xuICAgIGxldCBtaW5ZO1xuICAgIGxldCBtaW5aO1xuICAgIGxldCBtYXhYO1xuICAgIGxldCBtYXhZO1xuICAgIGxldCBtYXhaO1xuXG4gICAgbGV0IHsgeCwgeSwgeiwgaXNPcGVuT25Qb3NpdGl2ZVNpZGUsIHRoaWNrbmVzcywgaGFsZlNpZGVMZW5ndGggfSA9IHdhbGxQYXJhbXM7XG4gICAgdGhpY2tuZXNzID0gdGhpY2tuZXNzIHx8IDgwMDAwO1xuICAgIGhhbGZTaWRlTGVuZ3RoID0gaGFsZlNpZGVMZW5ndGggfHwgODAwMDA7XG5cbiAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoaXNPcGVuT25Qb3NpdGl2ZVNpZGUpIHtcbiAgICAgICAgbWluWCA9IHggLSB0aGlja25lc3M7XG4gICAgICAgIG1heFggPSB4O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1pblggPSB4O1xuICAgICAgICBtYXhYID0geCArIHRoaWNrbmVzcztcbiAgICAgIH1cbiAgICAgIG1pblkgPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtaW5aID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WSA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWF4WiA9IGhhbGZTaWRlTGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgeSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChpc09wZW5PblBvc2l0aXZlU2lkZSkge1xuICAgICAgICBtaW5ZID0geSAtIHRoaWNrbmVzcztcbiAgICAgICAgbWF4WSA9IHk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbWluWSA9IHk7XG4gICAgICAgIG1heFkgPSB5ICsgdGhpY2tuZXNzO1xuICAgICAgfVxuICAgICAgbWluWCA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1pblogPSAtaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhYID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgICBtYXhaID0gaGFsZlNpZGVMZW5ndGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGlzT3Blbk9uUG9zaXRpdmVTaWRlKSB7XG4gICAgICAgIG1pblogPSB6IC0gdGhpY2tuZXNzO1xuICAgICAgICBtYXhaID0gejtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtaW5aID0gejtcbiAgICAgICAgbWF4WiA9IHogKyB0aGlja25lc3M7XG4gICAgICB9XG4gICAgICBtaW5YID0gLWhhbGZTaWRlTGVuZ3RoO1xuICAgICAgbWluWSA9IC1oYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFggPSBoYWxmU2lkZUxlbmd0aDtcbiAgICAgIG1heFkgPSBoYWxmU2lkZUxlbmd0aDtcbiAgICB9XG5cbiAgICBzdXBlcihtaW5YLCBtaW5ZLCBtaW5aLCBtYXhYLCBtYXhZLCBtYXhaLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dmVjM31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgc2NhbGUoKSB7XG4gICAgLy8gUmV1c2UgdGhlIHNhbWUgb2JqZWN0IHdoZW4gdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgdGhpcy5fc2NhbGUgPSB0aGlzLl9zY2FsZSB8fCB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMuc2V0KHRoaXMuX3NjYWxlLCB0aGlzLnJhbmdlWCwgdGhpcy5yYW5nZVksIHRoaXMucmFuZ2VaKTtcbiAgICByZXR1cm4gdGhpcy5fc2NhbGU7XG4gIH1cbn1cblxuZXhwb3J0IHsgV2FsbCB9O1xuIiwiaW1wb3J0IHtTdGFuZGFyZE1vZGVsQ29udHJvbGxlcn0gZnJvbSAnZ3JhZngnO1xuaW1wb3J0IHtjb2xsaWRhYmxlU3RvcmV9IGZyb20gJ2xzbC1waHlzeCc7XG5cbmltcG9ydCB7V2FsbH0gZnJvbSAnLi93YWxsLWNvbGxpZGFibGUnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZGVmaW5lcyBhIHdhbGwtY29udHJvbGxlci5cbiAqL1xuY2xhc3MgV2FsbENvbnRyb2xsZXIgZXh0ZW5kcyBTdGFuZGFyZE1vZGVsQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsQ29udHJvbGxlckNvbmZpZ30gbW9kZWxDb250cm9sbGVyUGFyYW1zXG4gICAqIEBwYXJhbSB7V2FsbFBhcmFtc30gd2FsbFBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IobW9kZWxDb250cm9sbGVyUGFyYW1zLCB3YWxsUGFyYW1zKSB7XG4gICAgY29uc3Qgc2hhcGVQYXJhbXMgPSB7XG4gICAgICBzaGFwZUlkOiAnQ1VCRScsXG4gICAgICBpc1VzaW5nU3BoZXJpY2FsTm9ybWFsczogd2FsbFBhcmFtcy51c2VTbW9vdGhTaGFkaW5nLFxuICAgICAgdGV4dHVyZVNwYW46IHdhbGxQYXJhbXMudGV4dHVyZVNwYW5cbiAgICB9O1xuXG4gICAgc3VwZXIobW9kZWxDb250cm9sbGVyUGFyYW1zLCBzaGFwZVBhcmFtcyk7XG5cbiAgICB0aGlzLl9jb2xsaWRhYmxlID0gbmV3IFdhbGwod2FsbFBhcmFtcyk7XG4gICAgY29sbGlkYWJsZVN0b3JlLnJlZ2lzdGVyQ29sbGlkYWJsZSh0aGlzLl9jb2xsaWRhYmxlKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIC8vIFJlLXNpemUgYW5kIHJlLXBvc2l0aW9uIHRoZSB3YWxsLlxuICAgIG1hdDQuZnJvbVRyYW5zbGF0aW9uKHRoaXMuX2xvY2FsVHJhbnNmb3JtLCB0aGlzLl9jb2xsaWRhYmxlLmNlbnRlck9mVm9sdW1lKTtcbiAgICBtYXQ0LnNjYWxlKHRoaXMuX2xvY2FsVHJhbnNmb3JtLCB0aGlzLl9sb2NhbFRyYW5zZm9ybSwgdGhpcy5fY29sbGlkYWJsZS5zY2FsZSk7XG5cbiAgICBzdXBlci5yZXNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoaXMgaXMgZG9uZSBiZWluZyB1c2VkLCBhbmQgaXMgYmVpbmcgZGVzdHJveWVkIGZyb20gbWVtb3J5LlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgY29sbGlkYWJsZVN0b3JlLnVucmVnaXN0ZXJDb2xsaWRhYmxlKHRoaXMuX2NvbGxpZGFibGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBkZWx0YVRpbWVcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHt9XG59XG5cbmV4cG9ydCB7V2FsbENvbnRyb2xsZXJ9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFdhbGxQYXJhbXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNPcGVuT25Qb3NpdGl2ZVNpZGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aGlja25lc3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoYWxmU2lkZUxlbmd0aFxuICogQHByb3BlcnR5IHtib29sZWFufSB1c2VTbW9vdGhTaGFkaW5nXG4gKiBAcHJvcGVydHkge1RleHR1cmVTcGFufSB0ZXh0dXJlU3BhblxuICovXG4iXX0="}